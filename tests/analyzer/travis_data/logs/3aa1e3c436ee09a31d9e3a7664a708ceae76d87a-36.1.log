travis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: java
Build id: ''
Job id: ''
[34m[1mBuild image provisioning date and time[0m
Thu Feb  5 15:09:33 UTC 2015
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 12.04.5 LTS
Release:	12.04
Codename:	precise
[34m[1mLinux Version[0m
3.13.0-29-generic
[34m[1mCookbooks Version[0m
a68419e https://github.com/travis-ci/travis-cookbooks/tree/a68419e
[34m[1mGCC version[0m
gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

[34m[1mLLVM version[0m
clang version 3.4 (tags/RELEASE_34/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix
[34m[1mPre-installed Ruby versions[0m
ruby-1.9.3-p551
[34m[1mPre-installed Node.js versions[0m
v0.10.36
[34m[1mPre-installed Go versions[0m
1.4.1
[34m[1mRedis version[0m
redis-server 2.8.19
[34m[1mriak version[0m
2.0.2
[34m[1mMongoDB version[0m
MongoDB 2.4.12
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mNeo4j version[0m
1.9.4
[34m[1mRabbitMQ Version[0m
3.4.3
[34m[1mElasticSearch version[0m
1.4.0
[34m[1mInstalled Sphinx versions[0m
2.0.10
2.1.9
2.2.6
[34m[1mDefault Sphinx version[0m
2.2.6
[34m[1mInstalled Firefox version[0m
firefox 31.0esr
[34m[1mPhantomJS version[0m
1.9.8
[34m[1mant -version[0m
Apache Ant(TM) version 1.8.2 compiled on December 3 2011
[34m[1mmvn -version[0m
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.7.0_76, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-7-oracle/jre
Default locale: en_US, platform encoding: ANSI_X3.4-1968
OS name: "linux", version: "3.13.0-29-generic", arch: "amd64", family: "unix"
travis_fold:end:system_info[0K
sed: cannot rename /etc/hosts: Device or resource busy
sed: cannot rename /etc/hosts: Device or resource busy
$ cd OpenRefine/OpenRefine
$ jdk_switcher use oraclejdk7
Switching to Oracle JDK7 (java-7-oracle), JAVA_HOME will be set to /usr/lib/jvm/java-7-oracle
$ java -Xmx32m -version
java version "1.7.0_76"
Java(TM) SE Runtime Environment (build 1.7.0_76-b13)
Java HotSpot(TM) 64-Bit Server VM (build 24.76-b04, mixed mode)
$ javac -J-Xmx32m -version
javac 1.7.0_76
travis_time:start:0c9ccb7c[0K$ ./refine test
Buildfile: /home/travis/build/OpenRefine/OpenRefine/build.xml
    [mkdir] Created dir: /home/travis/build/OpenRefine/OpenRefine/build/server_tests

build_server:
    [mkdir] Created dir: /home/travis/build/OpenRefine/OpenRefine/server/classes
    [javac] Compiling 4 source files to /home/travis/build/OpenRefine/OpenRefine/server/classes
    [javac] warning: [options] bootstrap class path not set in conjunction with -source 1.6
    [javac] 1 warning
     [copy] Copying 1 file to /home/travis/build/OpenRefine/OpenRefine/server/classes

build_webapp:
    [mkdir] Created dir: /home/travis/build/OpenRefine/OpenRefine/main/webapp/WEB-INF/classes
    [javac] Compiling 425 source files to /home/travis/build/OpenRefine/OpenRefine/main/webapp/WEB-INF/classes
    [javac] warning: [options] bootstrap class path not set in conjunction with -source 1.6
    [javac] Note: Some input files use or override a deprecated API.
    [javac] Note: Recompile with -Xlint:deprecation for details.
    [javac] 1 warning
     [copy] Copying 1 file to /home/travis/build/OpenRefine/OpenRefine/main/webapp/WEB-INF/classes

build_extensions:

build:
     [echo] Building extensions

build_java:
    [mkdir] Created dir: /home/travis/build/OpenRefine/OpenRefine/extensions/sample/module/MOD-INF/classes
    [javac] Compiling 1 source file to /home/travis/build/OpenRefine/OpenRefine/extensions/sample/module/MOD-INF/classes
    [javac] warning: [options] bootstrap class path not set in conjunction with -source 1.6
    [javac] 1 warning

build:

build_java:
    [mkdir] Created dir: /home/travis/build/OpenRefine/OpenRefine/extensions/jython/module/MOD-INF/classes
    [javac] Compiling 3 source files to /home/travis/build/OpenRefine/OpenRefine/extensions/jython/module/MOD-INF/classes
    [javac] warning: [options] bootstrap class path not set in conjunction with -source 1.6
    [javac] 1 warning

build:

build_java:
    [mkdir] Created dir: /home/travis/build/OpenRefine/OpenRefine/extensions/freebase/module/MOD-INF/classes
    [javac] Compiling 48 source files to /home/travis/build/OpenRefine/OpenRefine/extensions/freebase/module/MOD-INF/classes
    [javac] warning: [options] bootstrap class path not set in conjunction with -source 1.6
    [javac] 1 warning

build:

build_java:
    [mkdir] Created dir: /home/travis/build/OpenRefine/OpenRefine/extensions/gdata/module/MOD-INF/classes
    [javac] Compiling 6 source files to /home/travis/build/OpenRefine/OpenRefine/extensions/gdata/module/MOD-INF/classes
    [javac] warning: [options] bootstrap class path not set in conjunction with -source 1.6
    [javac] 1 warning

build:

build_java:
    [mkdir] Created dir: /home/travis/build/OpenRefine/OpenRefine/extensions/pc-axis/module/MOD-INF/classes
    [javac] Compiling 2 source files to /home/travis/build/OpenRefine/OpenRefine/extensions/pc-axis/module/MOD-INF/classes
    [javac] warning: [options] bootstrap class path not set in conjunction with -source 1.6
    [javac] 1 warning

build:

build:

build_tests:
    [mkdir] Created dir: /home/travis/build/OpenRefine/OpenRefine/main/tests/server/classes
    [javac] Compiling 39 source files to /home/travis/build/OpenRefine/OpenRefine/main/tests/server/classes
    [javac] warning: [options] bootstrap class path not set in conjunction with -source 1.6
    [javac] Note: /home/travis/build/OpenRefine/OpenRefine/main/tests/server/src/com/google/refine/tests/importers/XmlImportUtilitiesTests.java uses or overrides a deprecated API.
    [javac] Note: Recompile with -Xlint:deprecation for details.
    [javac] 1 warning
     [copy] Copying 1 file to /home/travis/build/OpenRefine/OpenRefine/main/tests/server/classes

server_test:
   [testng] [TestNG] Running:
   [testng]   /home/travis/build/OpenRefine/OpenRefine/main/tests/server/conf/tests.xml
   [testng] 
   [testng] .
   [testng] ........................................
   [testng] java.lang.NullPointerException
   [testng] 	at com.google.refine.history.HistoryEntry.apply(HistoryEntry.java:140)
   [testng] 	at com.google.refine.history.History.addEntry(History.java:136)
   [testng] 	at com.google.refine.process.QuickHistoryEntryProcess.performImmediate(QuickHistoryEntryProcess.java:75)
   [testng] 	at com.google.refine.tests.model.CacheTests.testIssue567(CacheTests.java:146)
   [testng] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
   [testng] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
   [testng] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
   [testng] 	at java.lang.reflect.Method.invoke(Method.java:606)
   [testng] 	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
   [testng] 	at org.testng.internal.Invoker.invokeMethod(Invoker.java:714)
   [testng] 	at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)
   [testng] 	at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)
   [testng] 	at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)
   [testng] 	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)
   [testng] 	at org.testng.TestRunner.privateRun(TestRunner.java:767)
   [testng] 	at org.testng.TestRunner.run(TestRunner.java:617)
   [testng] 	at org.testng.SuiteRunner.runTest(SuiteRunner.java:334)
   [testng] 	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)
   [testng] 	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)
   [testng] 	at org.testng.SuiteRunner.run(SuiteRunner.java:240)
   [testng] 	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
   [testng] 	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
   [testng] 	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1198)
   [testng] 	at org.testng.TestNG.runSuitesLocally(TestNG.java:1123)
   [testng] 	at org.testng.TestNG.run(TestNG.java:1031)
   [testng] 	at org.testng.TestNG.privateMain(TestNG.java:1338)
   [testng] 	at org.testng.TestNG.main(TestNG.java:1307)
   [testng] ....................................F...
   [testng] ........................................
   [testng] ........................................
   [testng] ...............................
   [testng] ===============================================
   [testng] Refine Unit Tests
   [testng] Total tests run: 192, Failures: 1, Skips: 0
   [testng] ===============================================
   [testng] 
   [testng] The tests failed.

BUILD SUCCESSFUL
Total time: 13 seconds
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100 1957k  100 1957k    0     0  2671k      0 --:--:-- --:--:-- --:--:-- 3483k
New python executable in tools/python/bin/python
Installing setuptools............done.
Installing pip...............done.
Searching for windmill
Reading http://pypi.python.org/simple/windmill/
Best match: windmill 1.6
Downloading https://pypi.python.org/packages/d3/b7/2ca9e88ce60c6428c6e36d3b979dc643cd37cd60767f39ced9150d37eed7/windmill-1.6.tar.gz#md5=56eb5bd57a52d8e762b488e647e5efb4
Processing windmill-1.6.tar.gz
Running windmill-1.6/setup.py -q bdist_egg --dist-dir /tmp/easy_install-TSEYTX/windmill-1.6/egg-dist-tmp-IYlGQM
zip_safe flag not set; analyzing archive contents...
windmill.dep._functest.collector: module references __file__
windmill.dep._simplejson.tests.__init__: module references __file__
windmill.management.commands.test_windmill: module references __file__
windmill.conf.global_settings: module references __file__
windmill.browser.__init__: module references __file__
Adding windmill 1.6 to easy-install.pth file
Installing windmill script to /home/travis/build/OpenRefine/OpenRefine/tools/python/bin

Installed /home/travis/build/OpenRefine/OpenRefine/tools/python/lib/python2.7/site-packages/windmill-1.6-py2.7.egg
Processing dependencies for windmill
Finished processing dependencies for windmill
Starting OpenRefine at 'http://127.0.0.1:3333/'

Waiting for OpenRefine to load...
00:27:55.774 [            refine_server] Starting Server bound to '127.0.0.1:3333' (0ms)
00:27:55.775 [            refine_server] refine.memory size: 1400M JVM Max heap: 1304952832 (1ms)
00:27:55.793 [            refine_server] Initializing context: '/' from '/home/travis/build/OpenRefine/OpenRefine/main/webapp' (18ms)
00:27:55.879 [            refine_server] Starting autoreloading scanner...  (86ms)
00:27:56.601 [                   refine] Starting OpenRefine 2.6 [TRUNK]... (722ms)
00:27:56.608 [       FileProjectManager] Failed to load workspace from any attempted alternatives. (7ms)
00:27:58.616 [                   refine] Running in headless mode (2008ms)
... proceed with the tests.

00:28:11.184 [                   refine] POST /command/core/create-project-from-upload (12568ms)
Loaded main/tests/data/food.csv as Food

Starting Windmill...
Traceback (most recent call last):
  File "/home/travis/build/OpenRefine/OpenRefine/tools/python/bin/windmill", line 8, in <module>
    load_entry_point('windmill==1.6', 'console_scripts', 'windmill')()
  File "/home/travis/build/OpenRefine/OpenRefine/tools/python/local/lib/python2.7/site-packages/windmill-1.6-py2.7.egg/windmill/bin/windmill_bin.py", line 33, in main
    admin_lib.command_line_startup()
  File "/home/travis/build/OpenRefine/OpenRefine/tools/python/local/lib/python2.7/site-packages/windmill-1.6-py2.7.egg/windmill/bin/admin_lib.py", line 351, in command_line_startup
    shell_objects = setup()
  File "/home/travis/build/OpenRefine/OpenRefine/tools/python/local/lib/python2.7/site-packages/windmill-1.6-py2.7.egg/windmill/bin/admin_lib.py", line 182, in setup
    shell_objects_dict['browser'] = getattr(shell_objects, browser[0].lower())()
  File "/home/travis/build/OpenRefine/OpenRefine/tools/python/local/lib/python2.7/site-packages/windmill-1.6-py2.7.egg/windmill/bin/shell_objects.py", line 45, in start_firefox
    controller = windmill.browser.get_firefox_controller()
  File "/home/travis/build/OpenRefine/OpenRefine/tools/python/local/lib/python2.7/site-packages/windmill-1.6-py2.7.egg/windmill/browser/__init__.py", line 116, in get_firefox_controller
    controller = mozrunner.get_moz_from_settings(copy.copy(windmill.settings))
  File "/home/travis/build/OpenRefine/OpenRefine/tools/python/local/lib/python2.7/site-packages/windmill-1.6-py2.7.egg/windmill/dep/_mozrunner/__init__.py", line 165, in get_moz_from_settings
    cmd_args=settings['MOZILLA_CMD_ARGS'])
  File "/home/travis/build/OpenRefine/OpenRefine/tools/python/local/lib/python2.7/site-packages/windmill-1.6-py2.7.egg/windmill/dep/_mozrunner/__init__.py", line 131, in get_moz
    raise Exception ('No default or local profile has been set.')
Exception: No default or local profile has been set.

Killing OpenRefine
Cleaning up

travis_time:end:0c9ccb7c:start=1479515257898762857,finish=1479515296483561357,duration=38584798500[0K
[32;1mThe command "./refine test" exited with 0.[0m

Done. Your build exited with 0.
