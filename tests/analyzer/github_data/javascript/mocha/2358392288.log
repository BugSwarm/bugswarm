2022-05-20T12:55:56.5996890Z Requested labels: ubuntu-latest
2022-05-20T12:55:56.5996939Z Job defined at: ain/smartbanner.js/.github/workflows/build.yml@refs/heads/main
2022-05-20T12:55:56.5996959Z Waiting for a runner to pick up this job...
2022-05-20T12:55:59.0288217Z Job is waiting for a hosted runner to come online.
2022-05-20T12:56:02.7163887Z Job is about to start running on the hosted runner: GitHub Actions 16 (hosted)
2022-05-20T12:56:06.2636523Z Current runner version: '2.291.1'
2022-05-20T12:56:06.2668830Z ##[group]Operating System
2022-05-20T12:56:06.2669347Z Ubuntu
2022-05-20T12:56:06.2669801Z 20.04.4
2022-05-20T12:56:06.2670085Z LTS
2022-05-20T12:56:06.2670335Z ##[endgroup]
2022-05-20T12:56:06.2670669Z ##[group]Virtual Environment
2022-05-20T12:56:06.2671099Z Environment: ubuntu-20.04
2022-05-20T12:56:06.2671441Z Version: 20220515.1
2022-05-20T12:56:06.2671921Z Included Software: https://github.com/actions/virtual-environments/blob/ubuntu20/20220515.1/images/linux/Ubuntu2004-Readme.md
2022-05-20T12:56:06.2672596Z Image Release: https://github.com/actions/virtual-environments/releases/tag/ubuntu20%2F20220515.1
2022-05-20T12:56:06.2673071Z ##[endgroup]
2022-05-20T12:56:06.2673429Z ##[group]Virtual Environment Provisioner
2022-05-20T12:56:06.2673806Z 1.0.0.0-main-20220421-1
2022-05-20T12:56:06.2674121Z ##[endgroup]
2022-05-20T12:56:06.2675066Z ##[group]GITHUB_TOKEN Permissions
2022-05-20T12:56:06.2675767Z Actions: write
2022-05-20T12:56:06.2676250Z Checks: write
2022-05-20T12:56:06.2676580Z Contents: write
2022-05-20T12:56:06.2676905Z Deployments: write
2022-05-20T12:56:06.2677278Z Discussions: write
2022-05-20T12:56:06.2677606Z Issues: write
2022-05-20T12:56:06.2677870Z Metadata: read
2022-05-20T12:56:06.2678197Z Packages: write
2022-05-20T12:56:06.2678545Z Pages: write
2022-05-20T12:56:06.2678823Z PullRequests: write
2022-05-20T12:56:06.2679179Z RepositoryProjects: write
2022-05-20T12:56:06.2679544Z SecurityEvents: write
2022-05-20T12:56:06.2679842Z Statuses: write
2022-05-20T12:56:06.2680187Z ##[endgroup]
2022-05-20T12:56:06.2683812Z Secret source: Actions
2022-05-20T12:56:06.2684264Z Prepare workflow directory
2022-05-20T12:56:06.3528115Z Prepare all required actions
2022-05-20T12:56:06.3714316Z Getting action download info
2022-05-20T12:56:06.6148951Z Download action repository 'actions/checkout@v2' (SHA:7884fcad6b5d53d10323aee724dc68d8b9096a2e)
2022-05-20T12:56:07.5845477Z Download action repository 'actions/setup-node@v1' (SHA:f1f314fca9dfce2769ece7d933488f076716723e)
2022-05-20T12:56:08.3916581Z Download action repository 'coverallsapp/github-action@master' (SHA:9ba913c152ae4be1327bfb9085dc806cedb44057)
2022-05-20T12:56:11.0528613Z ##[group]Run actions/checkout@v2
2022-05-20T12:56:11.0528921Z with:
2022-05-20T12:56:11.0529138Z   repository: ain/smartbanner.js
2022-05-20T12:56:11.0529645Z   token: ***
2022-05-20T12:56:11.0529859Z   ssh-strict: true
2022-05-20T12:56:11.0530086Z   persist-credentials: true
2022-05-20T12:56:11.0530320Z   clean: true
2022-05-20T12:56:11.0530530Z   fetch-depth: 1
2022-05-20T12:56:11.0530728Z   lfs: false
2022-05-20T12:56:11.0530932Z   submodules: false
2022-05-20T12:56:11.0531166Z   set-safe-directory: true
2022-05-20T12:56:11.0531414Z ##[endgroup]
2022-05-20T12:56:11.3263301Z Syncing repository: ain/smartbanner.js
2022-05-20T12:56:11.3265083Z ##[group]Getting Git version info
2022-05-20T12:56:11.3265678Z Working directory is '/home/runner/work/smartbanner.js/smartbanner.js'
2022-05-20T12:56:11.3271026Z [command]/usr/bin/git version
2022-05-20T12:56:11.3376724Z git version 2.36.1
2022-05-20T12:56:11.3397687Z ##[endgroup]
2022-05-20T12:56:11.3414896Z Temporarily overriding HOME='/home/runner/work/_temp/af06c863-bb0c-4194-808b-97bca6ccf5e9' before making global git config changes
2022-05-20T12:56:11.3415376Z Adding repository directory to the temporary git global config as a safe directory
2022-05-20T12:56:11.3416581Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/smartbanner.js/smartbanner.js
2022-05-20T12:56:11.3456170Z Deleting the contents of '/home/runner/work/smartbanner.js/smartbanner.js'
2022-05-20T12:56:11.3460315Z ##[group]Initializing the repository
2022-05-20T12:56:11.3464094Z [command]/usr/bin/git init /home/runner/work/smartbanner.js/smartbanner.js
2022-05-20T12:56:11.3546215Z hint: Using 'master' as the name for the initial branch. This default branch name
2022-05-20T12:56:11.3547136Z hint: is subject to change. To configure the initial branch name to use in all
2022-05-20T12:56:11.3547824Z hint: of your new repositories, which will suppress this warning, call:
2022-05-20T12:56:11.3548136Z hint: 
2022-05-20T12:56:11.3548657Z hint: 	git config --global init.defaultBranch <name>
2022-05-20T12:56:11.3548917Z hint: 
2022-05-20T12:56:11.3549278Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2022-05-20T12:56:11.3549729Z hint: 'development'. The just-created branch can be renamed via this command:
2022-05-20T12:56:11.3550010Z hint: 
2022-05-20T12:56:11.3550271Z hint: 	git branch -m <name>
2022-05-20T12:56:11.3555149Z Initialized empty Git repository in /home/runner/work/smartbanner.js/smartbanner.js/.git/
2022-05-20T12:56:11.3614952Z [command]/usr/bin/git remote add origin https://github.com/ain/smartbanner.js
2022-05-20T12:56:11.3686099Z ##[endgroup]
2022-05-20T12:56:11.3686577Z ##[group]Disabling automatic garbage collection
2022-05-20T12:56:11.3687061Z [command]/usr/bin/git config --local gc.auto 0
2022-05-20T12:56:11.3752714Z ##[endgroup]
2022-05-20T12:56:11.3758983Z ##[group]Setting up auth
2022-05-20T12:56:11.3760185Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2022-05-20T12:56:11.3794460Z [command]/usr/bin/git submodule foreach --recursive git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :
2022-05-20T12:56:11.4150663Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2022-05-20T12:56:11.4185097Z [command]/usr/bin/git submodule foreach --recursive git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :
2022-05-20T12:56:11.4423905Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2022-05-20T12:56:11.4455512Z ##[endgroup]
2022-05-20T12:56:11.4456374Z ##[group]Fetching the repository
2022-05-20T12:56:11.4464535Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --progress --no-recurse-submodules --depth=1 origin +e6803ecd80faee6eb9f67ca7d6d88691ad936629:refs/remotes/origin/main
2022-05-20T12:56:11.8716273Z remote: Enumerating objects: 48, done.        
2022-05-20T12:56:11.8721468Z remote: Counting objects:   2% (1/48)        
2022-05-20T12:56:11.8721862Z remote: Counting objects:   4% (2/48)        
2022-05-20T12:56:11.8722167Z remote: Counting objects:   6% (3/48)        
2022-05-20T12:56:11.8722473Z remote: Counting objects:   8% (4/48)        
2022-05-20T12:56:11.8722781Z remote: Counting objects:  10% (5/48)        
2022-05-20T12:56:11.8723067Z remote: Counting objects:  12% (6/48)        
2022-05-20T12:56:11.8723372Z remote: Counting objects:  14% (7/48)        
2022-05-20T12:56:11.8723672Z remote: Counting objects:  16% (8/48)        
2022-05-20T12:56:11.8723956Z remote: Counting objects:  18% (9/48)        
2022-05-20T12:56:11.8724259Z remote: Counting objects:  20% (10/48)        
2022-05-20T12:56:11.8724567Z remote: Counting objects:  22% (11/48)        
2022-05-20T12:56:11.8724872Z remote: Counting objects:  25% (12/48)        
2022-05-20T12:56:11.8725184Z remote: Counting objects:  27% (13/48)        
2022-05-20T12:56:11.8725481Z remote: Counting objects:  29% (14/48)        
2022-05-20T12:56:11.8725785Z remote: Counting objects:  31% (15/48)        
2022-05-20T12:56:11.8726067Z remote: Counting objects:  33% (16/48)        
2022-05-20T12:56:11.8726360Z remote: Counting objects:  35% (17/48)        
2022-05-20T12:56:11.8726658Z remote: Counting objects:  37% (18/48)        
2022-05-20T12:56:11.8726937Z remote: Counting objects:  39% (19/48)        
2022-05-20T12:56:11.8727229Z remote: Counting objects:  41% (20/48)        
2022-05-20T12:56:11.8727525Z remote: Counting objects:  43% (21/48)        
2022-05-20T12:56:11.8727803Z remote: Counting objects:  45% (22/48)        
2022-05-20T12:56:11.8728130Z remote: Counting objects:  47% (23/48)        
2022-05-20T12:56:11.8728431Z remote: Counting objects:  50% (24/48)        
2022-05-20T12:56:11.8728909Z remote: Counting objects:  52% (25/48)        
2022-05-20T12:56:11.8729195Z remote: Counting objects:  54% (26/48)        
2022-05-20T12:56:11.8729496Z remote: Counting objects:  56% (27/48)        
2022-05-20T12:56:11.8729794Z remote: Counting objects:  58% (28/48)        
2022-05-20T12:56:11.8730095Z remote: Counting objects:  60% (29/48)        
2022-05-20T12:56:11.8730392Z remote: Counting objects:  62% (30/48)        
2022-05-20T12:56:11.8730687Z remote: Counting objects:  64% (31/48)        
2022-05-20T12:56:11.8730989Z remote: Counting objects:  66% (32/48)        
2022-05-20T12:56:11.8731270Z remote: Counting objects:  68% (33/48)        
2022-05-20T12:56:11.8731568Z remote: Counting objects:  70% (34/48)        
2022-05-20T12:56:11.8731865Z remote: Counting objects:  72% (35/48)        
2022-05-20T12:56:11.8732144Z remote: Counting objects:  75% (36/48)        
2022-05-20T12:56:11.8732437Z remote: Counting objects:  77% (37/48)        
2022-05-20T12:56:11.8732735Z remote: Counting objects:  79% (38/48)        
2022-05-20T12:56:11.8733018Z remote: Counting objects:  81% (39/48)        
2022-05-20T12:56:11.8733314Z remote: Counting objects:  83% (40/48)        
2022-05-20T12:56:11.8733609Z remote: Counting objects:  85% (41/48)        
2022-05-20T12:56:11.8733885Z remote: Counting objects:  87% (42/48)        
2022-05-20T12:56:11.8734180Z remote: Counting objects:  89% (43/48)        
2022-05-20T12:56:11.8734474Z remote: Counting objects:  91% (44/48)        
2022-05-20T12:56:11.8734764Z remote: Counting objects:  93% (45/48)        
2022-05-20T12:56:11.8735043Z remote: Counting objects:  95% (46/48)        
2022-05-20T12:56:11.8735335Z remote: Counting objects:  97% (47/48)        
2022-05-20T12:56:11.8735627Z remote: Counting objects: 100% (48/48)        
2022-05-20T12:56:11.8735923Z remote: Counting objects: 100% (48/48), done.        
2022-05-20T12:56:11.8736267Z remote: Compressing objects:   2% (1/46)        
2022-05-20T12:56:11.8736591Z remote: Compressing objects:   4% (2/46)        
2022-05-20T12:56:11.8736899Z remote: Compressing objects:   6% (3/46)        
2022-05-20T12:56:11.8737214Z remote: Compressing objects:   8% (4/46)        
2022-05-20T12:56:11.8737603Z remote: Compressing objects:  10% (5/46)        
2022-05-20T12:56:11.8737910Z remote: Compressing objects:  13% (6/46)        
2022-05-20T12:56:11.8738224Z remote: Compressing objects:  15% (7/46)        
2022-05-20T12:56:11.8738541Z remote: Compressing objects:  17% (8/46)        
2022-05-20T12:56:11.8738861Z remote: Compressing objects:  19% (9/46)        
2022-05-20T12:56:11.8739163Z remote: Compressing objects:  21% (10/46)        
2022-05-20T12:56:11.8741730Z remote: Compressing objects:  23% (11/46)        
2022-05-20T12:56:11.8743194Z remote: Compressing objects:  26% (12/46)        
2022-05-20T12:56:11.8743509Z remote: Compressing objects:  28% (13/46)        
2022-05-20T12:56:11.8743827Z remote: Compressing objects:  30% (14/46)        
2022-05-20T12:56:11.9261582Z remote: Compressing objects:  32% (15/46)        
2022-05-20T12:56:11.9263202Z remote: Compressing objects:  34% (16/46)        
2022-05-20T12:56:11.9263576Z remote: Compressing objects:  36% (17/46)        
2022-05-20T12:56:11.9263918Z remote: Compressing objects:  39% (18/46)        
2022-05-20T12:56:11.9264247Z remote: Compressing objects:  41% (19/46)        
2022-05-20T12:56:11.9264549Z remote: Compressing objects:  43% (20/46)        
2022-05-20T12:56:11.9264869Z remote: Compressing objects:  45% (21/46)        
2022-05-20T12:56:11.9265184Z remote: Compressing objects:  47% (22/46)        
2022-05-20T12:56:11.9265496Z remote: Compressing objects:  50% (23/46)        
2022-05-20T12:56:11.9265794Z remote: Compressing objects:  52% (24/46)        
2022-05-20T12:56:11.9266105Z remote: Compressing objects:  54% (25/46)        
2022-05-20T12:56:11.9266416Z remote: Compressing objects:  56% (26/46)        
2022-05-20T12:56:11.9266712Z remote: Compressing objects:  58% (27/46)        
2022-05-20T12:56:11.9267298Z remote: Compressing objects:  60% (28/46)        
2022-05-20T12:56:11.9268039Z remote: Compressing objects:  63% (29/46)        
2022-05-20T12:56:11.9268454Z remote: Compressing objects:  65% (30/46)        
2022-05-20T12:56:11.9268853Z remote: Compressing objects:  67% (31/46)        
2022-05-20T12:56:11.9269264Z remote: Compressing objects:  69% (32/46)        
2022-05-20T12:56:11.9269675Z remote: Compressing objects:  71% (33/46)        
2022-05-20T12:56:11.9270082Z remote: Compressing objects:  73% (34/46)        
2022-05-20T12:56:11.9270473Z remote: Compressing objects:  76% (35/46)        
2022-05-20T12:56:11.9270882Z remote: Compressing objects:  78% (36/46)        
2022-05-20T12:56:11.9271299Z remote: Compressing objects:  80% (37/46)        
2022-05-20T12:56:11.9271732Z remote: Compressing objects:  82% (38/46)        
2022-05-20T12:56:11.9272131Z remote: Compressing objects:  84% (39/46)        
2022-05-20T12:56:11.9272547Z remote: Compressing objects:  86% (40/46)        
2022-05-20T12:56:11.9272960Z remote: Compressing objects:  89% (41/46)        
2022-05-20T12:56:11.9273355Z remote: Compressing objects:  91% (42/46)        
2022-05-20T12:56:11.9273764Z remote: Compressing objects:  93% (43/46)        
2022-05-20T12:56:11.9274177Z remote: Compressing objects:  95% (44/46)        
2022-05-20T12:56:11.9274586Z remote: Compressing objects:  97% (45/46)        
2022-05-20T12:56:11.9274981Z remote: Compressing objects: 100% (46/46)        
2022-05-20T12:56:11.9275412Z remote: Compressing objects: 100% (46/46), done.        
2022-05-20T12:56:12.1383835Z remote: Total 48 (delta 2), reused 25 (delta 0), pack-reused 0        
2022-05-20T12:56:12.1515809Z From https://github.com/ain/smartbanner.js
2022-05-20T12:56:12.1516759Z  * [new ref]         e6803ecd80faee6eb9f67ca7d6d88691ad936629 -> origin/main
2022-05-20T12:56:12.1544030Z ##[endgroup]
2022-05-20T12:56:12.1561973Z ##[group]Determining the checkout info
2022-05-20T12:56:12.1562521Z ##[endgroup]
2022-05-20T12:56:12.1563001Z ##[group]Checking out the ref
2022-05-20T12:56:12.1563709Z [command]/usr/bin/git checkout --progress --force -B main refs/remotes/origin/main
2022-05-20T12:56:12.1668561Z Switched to a new branch 'main'
2022-05-20T12:56:12.1672959Z branch 'main' set up to track 'origin/main'.
2022-05-20T12:56:12.1678598Z ##[endgroup]
2022-05-20T12:56:12.1725686Z [command]/usr/bin/git log -1 --format='%H'
2022-05-20T12:56:12.1758939Z 'e6803ecd80faee6eb9f67ca7d6d88691ad936629'
2022-05-20T12:56:12.2084819Z ##[group]Run actions/setup-node@v1
2022-05-20T12:56:12.2085079Z with:
2022-05-20T12:56:12.2085282Z   node-version: 18
2022-05-20T12:56:12.2085486Z   always-auth: false
2022-05-20T12:56:12.2085701Z ##[endgroup]
2022-05-20T12:56:12.8617979Z [command]/usr/bin/tar xz --warning=no-unknown-keyword -C /home/runner/work/_temp/e2b3d438-9cc7-4405-9bf3-abec4fdd53fd -f /home/runner/work/_temp/0260fbf1-29da-4590-8d99-32e45d059871
2022-05-20T12:56:15.4608792Z [command]/opt/hostedtoolcache/node/18.2.0/x64/bin/node --version
2022-05-20T12:56:15.4674244Z v18.2.0
2022-05-20T12:56:15.4684139Z [command]/opt/hostedtoolcache/node/18.2.0/x64/bin/npm --version
2022-05-20T12:56:15.7692813Z 8.9.0
2022-05-20T12:56:15.7916339Z ##[group]Run npm install
2022-05-20T12:56:15.7916647Z [36;1mnpm install[0m
2022-05-20T12:56:15.7971768Z shell: /usr/bin/bash -e {0}
2022-05-20T12:56:15.7972006Z ##[endgroup]
2022-05-20T12:56:31.4070929Z 
2022-05-20T12:56:31.4089544Z added 878 packages, and audited 879 packages in 15s
2022-05-20T12:56:31.4089806Z 
2022-05-20T12:56:31.4090014Z 47 packages are looking for funding
2022-05-20T12:56:31.4090303Z   run `npm fund` for details
2022-05-20T12:56:31.4113554Z 
2022-05-20T12:56:31.4114370Z 4 vulnerabilities (2 moderate, 1 high, 1 critical)
2022-05-20T12:56:31.4114595Z 
2022-05-20T12:56:31.4114745Z To address all issues, run:
2022-05-20T12:56:31.4114981Z   npm audit fix
2022-05-20T12:56:31.4115111Z 
2022-05-20T12:56:31.4115248Z Run `npm audit` for details.
2022-05-20T12:56:31.4398761Z ##[group]Run npm run eslint
2022-05-20T12:56:31.4399032Z [36;1mnpm run eslint[0m
2022-05-20T12:56:31.4451436Z shell: /usr/bin/bash -e {0}
2022-05-20T12:56:31.4451850Z ##[endgroup]
2022-05-20T12:56:31.7614216Z 
2022-05-20T12:56:31.7615065Z > smartbanner.js@1.19.0 eslint
2022-05-20T12:56:31.7615502Z > eslint src/*.js
2022-05-20T12:56:31.7615725Z 
2022-05-20T12:56:32.3146125Z ##[group]Run npm test
2022-05-20T12:56:32.3146374Z [36;1mnpm test[0m
2022-05-20T12:56:32.3197223Z shell: /usr/bin/bash -e {0}
2022-05-20T12:56:32.3197476Z ##[endgroup]
2022-05-20T12:56:32.6422138Z 
2022-05-20T12:56:32.6423147Z > smartbanner.js@1.19.0 test
2022-05-20T12:56:32.6424297Z > nyc mocha --require @babel/register test/spec/*.js && nyc report --reporter=lcovonly
2022-05-20T12:56:32.6424697Z 
2022-05-20T12:56:36.0174174Z 
2022-05-20T12:56:36.0184128Z 
2022-05-20T12:56:36.0194214Z   Bakery
2022-05-20T12:56:36.0705052Z     getCookieExpiresString
2022-05-20T12:56:36.0742565Z       ✔ expected to return valid expire string
2022-05-20T12:56:36.0749364Z     bake
2022-05-20T12:56:36.0752128Z       when TTL and path unset
2022-05-20T12:56:36.0758662Z         ✔ expected to set correct cookie TTL and path
2022-05-20T12:56:36.0762746Z       when TTL and path set
2022-05-20T12:56:36.0768712Z         ✔ expected to set correct cookie TTL and path
2022-05-20T12:56:36.0772767Z       when TTL set and path unset
2022-05-20T12:56:36.0778636Z         ✔ expected to set correct cookie TTL and path
2022-05-20T12:56:36.0782576Z       when TTL unset and path set
2022-05-20T12:56:36.0789114Z         ✔ expected to set correct cookie TTL and path
2022-05-20T12:56:36.0799998Z     baked
2022-05-20T12:56:36.0807438Z       ✔ expected to return true if cookie is set
2022-05-20T12:56:36.0814034Z       ✔ expected to return false if cookie is not set
2022-05-20T12:56:36.0817615Z     unbake
2022-05-20T12:56:36.0821967Z       ✔ expected to remove cookie
2022-05-20T12:56:36.0826393Z 
2022-05-20T12:56:36.0829025Z   Detector
2022-05-20T12:56:36.0831318Z     platform
2022-05-20T12:56:36.0833290Z       when on iPhone with iOS8
2022-05-20T12:56:36.0924489Z         ✔ expected to return ios
2022-05-20T12:56:36.0928477Z         ✔ expected exclude regex to not match
2022-05-20T12:56:36.0933545Z         ✔ expected include regex to not match
2022-05-20T12:56:36.0936301Z       when on iPhone with iOS9
2022-05-20T12:56:36.1018476Z         ✔ expected to return ios
2022-05-20T12:56:36.1023201Z         ✔ expected exclude regex to not match
2022-05-20T12:56:36.1027644Z         ✔ expected include regex to match
2022-05-20T12:56:36.1030345Z       when on iPhone with Custom Web App
2022-05-20T12:56:36.1105276Z         ✔ expected to return ios
2022-05-20T12:56:36.1108277Z         ✔ expected exclude regex to match
2022-05-20T12:56:36.1111922Z         ✔ expected include regex to not match
2022-05-20T12:56:36.1114402Z       when on iPad
2022-05-20T12:56:36.1181195Z         ✔ expected to return ios
2022-05-20T12:56:36.1184283Z         ✔ expected exclude regex to not match
2022-05-20T12:56:36.1188898Z         ✔ expected include regex to not match
2022-05-20T12:56:36.1191415Z       when on iPad iOS 13 or newer
2022-05-20T12:56:36.1257862Z         ✔ expected to return ios
2022-05-20T12:56:36.1260537Z         ✔ expected exclude regex to not match
2022-05-20T12:56:36.1264515Z         ✔ expected include regex to not match
2022-05-20T12:56:36.1267869Z       when on iPod
2022-05-20T12:56:36.1328930Z         ✔ expected to return ios
2022-05-20T12:56:36.1331748Z         ✔ expected exclude regex to not match
2022-05-20T12:56:36.1335462Z         ✔ expected include regex to not match
2022-05-20T12:56:36.1337816Z       when on Android
2022-05-20T12:56:36.1396752Z         ✔ expected to return android
2022-05-20T12:56:36.1399366Z         ✔ expected exclude regex to not match
2022-05-20T12:56:36.1403247Z         ✔ expected include regex to not match
2022-05-20T12:56:36.1405650Z       when on Android with Custom Web App
2022-05-20T12:56:36.1525492Z         ✔ expected to return android
2022-05-20T12:56:36.1528382Z         ✔ expected exclude regex to match
2022-05-20T12:56:36.1533701Z         ✔ expected include regex to not match
2022-05-20T12:56:36.1536643Z     jQueryMobilePage
2022-05-20T12:56:36.1538412Z       without jQuery Mobile
2022-05-20T12:56:36.1612230Z         ✔ expected to return false
2022-05-20T12:56:36.1613762Z       with jQuery Mobile
2022-05-20T12:56:36.4941596Z         ✔ expected to return true
2022-05-20T12:56:36.4942616Z     marginedElement
2022-05-20T12:56:36.4942941Z       without jQuery Mobile
2022-05-20T12:56:36.5013349Z         ✔ expected to return html element as first item of array
2022-05-20T12:56:36.5014026Z       with jQuery Mobile
2022-05-20T12:56:38.5045469Z         1) "before all" hook for "expected to return ui-page element as first item of array"
2022-05-20T12:56:38.5047759Z 
2022-05-20T12:56:38.5050161Z   SmartBanner
2022-05-20T12:56:38.5052225Z     publish
2022-05-20T12:56:38.5054177Z       when on iPhone
2022-05-20T12:56:38.5207610Z         ✔ expected to dispatch a smartbanner.view event
2022-05-20T12:56:38.5370639Z       when on iPad
2022-05-20T12:56:38.5591367Z         ✔ expected to dispatch a smartbanner.view event
2022-05-20T12:56:38.5653341Z       when on iPod
2022-05-20T12:56:38.5706411Z         ✔ expected to dispatch a smartbanner.view event
2022-05-20T12:56:38.5744191Z       when on Android
2022-05-20T12:56:38.5838885Z         ✔ expected to dispatch a smartbanner.view event
2022-05-20T12:56:38.5877548Z     exit
2022-05-20T12:56:38.5877817Z       when on iPhone
2022-05-20T12:56:38.6029332Z         ✔ expected to dispatch a smartbanner.exit event
2022-05-20T12:56:38.6033281Z       when on iPad
2022-05-20T12:56:38.6166457Z         ✔ expected to dispatch a smartbanner.exit event
2022-05-20T12:56:38.6262851Z       when on iPod
2022-05-20T12:56:38.6398511Z         ✔ expected to dispatch a smartbanner.exit event
2022-05-20T12:56:38.6400879Z       when on Android
2022-05-20T12:56:38.6533447Z         ✔ expected to dispatch a smartbanner.exit event
2022-05-20T12:56:38.6538379Z     clickout
2022-05-20T12:56:38.6538596Z       when on iPhone
2022-05-20T12:56:38.6696474Z         ✔ expected to dispatch smartbanner.clickout event
2022-05-20T12:56:38.6703014Z       when on iPad
2022-05-20T12:56:38.6831103Z         ✔ expected to dispatch smartbanner.clickout event
2022-05-20T12:56:38.6886235Z       when on iPod
2022-05-20T12:56:38.7002539Z         ✔ expected to dispatch smartbanner.clickout event
2022-05-20T12:56:38.7003216Z       when on Android
2022-05-20T12:56:38.7121018Z         ✔ expected to dispatch event
2022-05-20T12:56:38.7121734Z     init
2022-05-20T12:56:38.7122422Z       when on iPhone
2022-05-20T12:56:38.7175762Z         ✔ expected to dispatch smartbanner.init event
2022-05-20T12:56:38.7176647Z       when on iPad
2022-05-20T12:56:38.7224970Z         ✔ expected to dispatch smartbanner.init event
2022-05-20T12:56:38.7226431Z       when on iPod
2022-05-20T12:56:38.7275600Z         ✔ expected to dispatch smartbanner.init event
2022-05-20T12:56:38.7276377Z       when on Android
2022-05-20T12:56:38.7326105Z         ✔ expected to dispatch smartbanner.init event
2022-05-20T12:56:38.7326673Z 
2022-05-20T12:56:38.7327448Z   OptionParser
2022-05-20T12:56:38.7328105Z     parse
2022-05-20T12:56:38.7328673Z       with smartbanner meta tags
2022-05-20T12:56:38.7384802Z         ✔ expected to parse title
2022-05-20T12:56:38.7385599Z         ✔ expected to parse author
2022-05-20T12:56:38.7386935Z         ✔ expected to parse price
2022-05-20T12:56:38.7388230Z         ✔ expected to parse iOS price suffix
2022-05-20T12:56:38.7389444Z         ✔ expected to parse Android price suffix
2022-05-20T12:56:38.7390632Z         ✔ expected to parse button label
2022-05-20T12:56:38.7391768Z         ✔ expected to parse iOS icon
2022-05-20T12:56:38.7392913Z         ✔ expected to parse Android icon
2022-05-20T12:56:38.7394180Z         ✔ expected to parse iOS button URL
2022-05-20T12:56:38.7395326Z         ✔ expected to parse Android button URL
2022-05-20T12:56:38.7396476Z         ✔ expected to parse enabled platforms option
2022-05-20T12:56:38.7397643Z         ✔ expected to parse custom design modifier option
2022-05-20T12:56:38.7398782Z         ✔ expected to parse hide path option
2022-05-20T12:56:38.7465647Z         ✔ expected to parse api option
2022-05-20T12:56:38.7466384Z         ✔ expected to parse close label
2022-05-20T12:56:38.7467381Z       without smartbanner meta tags
2022-05-20T12:56:38.7519834Z         ✔ expected to return empty object
2022-05-20T12:56:38.7520520Z       without any meta tags
2022-05-20T12:56:38.7573819Z         ✔ expected to return empty object
2022-05-20T12:56:38.7574452Z       with optional meta tags
2022-05-20T12:56:38.7631216Z         ✔ expected to return undefined API option
2022-05-20T12:56:38.7632204Z         ✔ expected to return undefined close label option
2022-05-20T12:56:38.7633735Z         ✔ expected to return undefined enabled platforms option
2022-05-20T12:56:38.7634845Z         ✔ expected to return undefined custom design modifier option
2022-05-20T12:56:38.7635986Z         ✔ expected to return undefined hide path option
2022-05-20T12:56:38.7637145Z         ✔ expected to return undefined hide time to live option
2022-05-20T12:56:38.7637601Z 
2022-05-20T12:56:38.7639486Z   SmartBanner
2022-05-20T12:56:38.7639961Z     publish
2022-05-20T12:56:38.7640275Z       without options
2022-05-20T12:56:38.7702792Z         ✔ expected to throw error
2022-05-20T12:56:38.7703266Z       with options
2022-05-20T12:56:38.7703587Z         when on iPhone
2022-05-20T12:56:38.7829974Z           ✔ expected to add iOS template to body
2022-05-20T12:56:38.7962183Z           ✔ expected to store original top margin
2022-05-20T12:56:38.8105174Z         when on iPad
2022-05-20T12:56:38.8229227Z           ✔ expected to add iOS template to body
2022-05-20T12:56:38.8229744Z         when on iPod
2022-05-20T12:56:38.8351599Z           ✔ expected to add iOS template to body
2022-05-20T12:56:38.8352817Z         when on Android
2022-05-20T12:56:38.8353198Z           without custom design modifier
2022-05-20T12:56:38.8507275Z             ✔ expected to add Android template to body
2022-05-20T12:56:38.8507866Z           with custom design modifier
2022-05-20T12:56:38.8579125Z             ✔ expected to add Android template to body
2022-05-20T12:56:38.8579754Z         when on desktop
2022-05-20T12:56:38.8728319Z           ✔ expected to not add anything to body
2022-05-20T12:56:38.8728887Z       when has been closed within current session
2022-05-20T12:56:38.8868331Z         ✔ expected to not to add to body
2022-05-20T12:56:38.8868950Z       when has been closed, but is reopened in new session
2022-05-20T12:56:38.9094351Z         ✔ expected to add to body
2022-05-20T12:56:38.9096066Z       when enabled-platform set to android, but opened on iOS
2022-05-20T12:56:38.9163861Z         ✔ expected to not add anything to body
2022-05-20T12:56:38.9164695Z       when enabled-platform set to android, but opened on iOS 9 which is included by include-user-agent-regex
2022-05-20T12:56:38.9356448Z         ✔ expected to add iOS template to body
2022-05-20T12:56:38.9357604Z       when enabled-platform set to android, but opened on iOS 9 webapp which is included by include-user-agent-regex but excluded by exclude-user-agent-regex
2022-05-20T12:56:38.9428087Z         ✔ expected to not add anything to body
2022-05-20T12:56:38.9428812Z       when enabled-platform set to ios, but opened on Android
2022-05-20T12:56:38.9495625Z         ✔ expected to not add anything to body
2022-05-20T12:56:38.9496118Z     template
2022-05-20T12:56:38.9499061Z       when on iPhone
2022-05-20T12:56:38.9565843Z         ✔ expected to work against iOS platform
2022-05-20T12:56:38.9566709Z         ✔ expected to have iOS price suffix
2022-05-20T12:56:38.9567190Z         ✔ expected to return iOS template
2022-05-20T12:56:38.9568348Z         ✔ expected to have iOS icon
2022-05-20T12:56:38.9569989Z         ✔ expected to have iOS button URL
2022-05-20T12:56:38.9570524Z       when on iPad
2022-05-20T12:56:38.9643149Z         ✔ expected to work against iOS platform
2022-05-20T12:56:38.9643737Z         ✔ expected to have iOS price suffix
2022-05-20T12:56:38.9644171Z         ✔ expected to return iOS template
2022-05-20T12:56:38.9644974Z         ✔ expected to have iOS icon
2022-05-20T12:56:38.9645402Z         ✔ expected to have iOS button URL
2022-05-20T12:56:38.9645709Z       when on iPod
2022-05-20T12:56:38.9706635Z         ✔ expected to work against iOS platform
2022-05-20T12:56:38.9707419Z         ✔ expected to have iOS price suffix
2022-05-20T12:56:38.9707880Z         ✔ expected to return iOS template
2022-05-20T12:56:38.9708562Z         ✔ expected to have iOS icon
2022-05-20T12:56:38.9710242Z         ✔ expected to have iOS button URL
2022-05-20T12:56:38.9710767Z       when on Android
2022-05-20T12:56:38.9859221Z         ✔ expected to work against Android platform
2022-05-20T12:56:38.9859902Z         ✔ expected to have Android price suffix
2022-05-20T12:56:38.9861351Z         ✔ expected to return Android template
2022-05-20T12:56:38.9863038Z         ✔ expected to have Android icon
2022-05-20T12:56:38.9864506Z         ✔ expected to have Android button URL
2022-05-20T12:56:38.9865209Z       when on unidentified platform
2022-05-20T12:56:38.9926442Z         ✔ expected to work against no platform
2022-05-20T12:56:38.9927222Z         ✔ expected to have no price suffix
2022-05-20T12:56:38.9927918Z         ✔ expected to return undefined (broken) template
2022-05-20T12:56:38.9929852Z         ✔ expected to have Apple icon as fallback
2022-05-20T12:56:38.9931080Z         ✔ expected to have empty button URL
2022-05-20T12:56:38.9931826Z     exit
2022-05-20T12:56:38.9932035Z       without jQuery Mobile
2022-05-20T12:56:39.0116241Z         ✔ expected to set cookie
2022-05-20T12:56:39.0239042Z         ✔ expected to remove component markup
2022-05-20T12:56:39.0363527Z         ✔ expected to restore HTML margin
2022-05-20T12:56:39.0368292Z       with jQuery Mobile
2022-05-20T12:56:39.1721941Z         ✔ expected to restore top distance
2022-05-20T12:56:39.1724227Z     height
2022-05-20T12:56:39.1853680Z       when offset height available
2022-05-20T12:56:39.1861163Z         ✔ expected to match component offset height
2022-05-20T12:56:39.1863848Z       when offset height N/A
2022-05-20T12:56:39.1877971Z         ✔ expected to return default height
2022-05-20T12:56:39.1880570Z     disable-positioning
2022-05-20T12:56:39.1974578Z       ✔ expected to match component offset height
2022-05-20T12:56:39.2000826Z       ✔ expected to not alter <html> top margin
2022-05-20T12:56:39.2096060Z       ✔ expected to not alter ui-page top margin
2022-05-20T12:56:39.2097859Z     apiEnabled
2022-05-20T12:56:39.2099423Z       when API option not set
2022-05-20T12:56:39.2165005Z         ✔ expected to return false 
2022-05-20T12:56:39.2166104Z       when API option set
2022-05-20T12:56:39.2221650Z         ✔ expected to return true 
2022-05-20T12:56:39.2223841Z     handleExitClick
2022-05-20T12:56:39.2343542Z       ✔ expected to handle exit
2022-05-20T12:56:39.2345803Z     handleClickout
2022-05-20T12:56:39.2462282Z       ✔ expected to handle clickout
2022-05-20T12:56:39.2462989Z     hidePath
2022-05-20T12:56:39.2463705Z       when option is not set
2022-05-20T12:56:39.2521946Z         ✔ returns default hide path
2022-05-20T12:56:39.2522512Z       when option is set
2022-05-20T12:56:39.2585534Z         ✔ returns option value
2022-05-20T12:56:39.2588217Z     hideTtl
2022-05-20T12:56:39.2590079Z       when option is not set
2022-05-20T12:56:39.2745725Z         ✔ returns default hide time to live
2022-05-20T12:56:39.2746555Z       when option is set
2022-05-20T12:56:39.2821115Z         ✔ returns option value
2022-05-20T12:56:39.2821501Z 
2022-05-20T12:56:39.2822546Z 
2022-05-20T12:56:39.2824909Z   130 passing (3s)
2022-05-20T12:56:39.2825565Z   1 failing
2022-05-20T12:56:39.2827301Z 
2022-05-20T12:56:39.2831864Z   1) Detector
2022-05-20T12:56:39.2832139Z        marginedElement
2022-05-20T12:56:39.2832368Z          with jQuery Mobile
2022-05-20T12:56:39.2833006Z            "before all" hook for "expected to return ui-page element as first item of array":
2022-05-20T12:56:39.2833693Z      Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/home/runner/work/smartbanner.js/smartbanner.js/test/spec/detector_spec.js)
2022-05-20T12:56:39.2834578Z       at listOnTimeout (node:internal/timers:564:17)
2022-05-20T12:56:39.2835026Z       at processTimers (node:internal/timers:507:7)
2022-05-20T12:56:39.2835211Z 
2022-05-20T12:56:39.2836337Z 
2022-05-20T12:56:39.2837491Z 
2022-05-20T12:56:52.1142336Z -----------------|---------|----------|---------|---------|-------------------
2022-05-20T12:56:52.1143016Z File             | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
2022-05-20T12:56:52.1143702Z -----------------|---------|----------|---------|---------|-------------------
2022-05-20T12:56:52.1144132Z All files        |    97.3 |    90.91 |   97.56 |   97.18 |                   
2022-05-20T12:56:52.1144455Z  bakery.js       |     100 |      100 |     100 |     100 |                   
2022-05-20T12:56:52.1144786Z  detector.js     |     100 |      100 |     100 |     100 |                   
2022-05-20T12:56:52.1145167Z  optionparser.js |     100 |      100 |     100 |     100 |                   
2022-05-20T12:56:52.1145628Z  smartbanner.js  |   96.46 |     87.1 |   96.43 |   96.26 | 23-24,52,59       
2022-05-20T12:56:52.1146157Z -----------------|---------|----------|---------|---------|-------------------
2022-05-20T12:56:52.1274284Z ##[error]Process completed with exit code 1.
2022-05-20T12:56:52.1333642Z Post job cleanup.
2022-05-20T12:56:52.2623934Z [command]/usr/bin/git version
2022-05-20T12:56:52.2663162Z git version 2.36.1
2022-05-20T12:56:52.2690168Z Temporarily overriding HOME='/home/runner/work/_temp/e686ceda-9725-49f7-b113-7b36f8efdd82' before making global git config changes
2022-05-20T12:56:52.2690778Z Adding repository directory to the temporary git global config as a safe directory
2022-05-20T12:56:52.2694641Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/smartbanner.js/smartbanner.js
2022-05-20T12:56:52.2739038Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2022-05-20T12:56:52.2776283Z [command]/usr/bin/git submodule foreach --recursive git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :
2022-05-20T12:56:52.3055011Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2022-05-20T12:56:52.3101650Z http.https://github.com/.extraheader
2022-05-20T12:56:52.3102851Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2022-05-20T12:56:52.3129769Z [command]/usr/bin/git submodule foreach --recursive git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :
2022-05-20T12:56:52.3619211Z Cleaning up orphan processes