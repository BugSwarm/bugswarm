2022-05-20T19:22:05.7100220Z Requested labels: ubuntu-latest
2022-05-20T19:22:05.7100266Z Job defined at: bentoml/BentoML/.github/workflows/ci.yml@refs/heads/0.13-LTS
2022-05-20T19:22:05.7100291Z Waiting for a runner to pick up this job...
2022-05-20T19:23:18.5407562Z Job is waiting for a hosted runner to come online.
2022-05-20T19:23:22.6145583Z Job is about to start running on the hosted runner: GitHub Actions 6 (hosted)
2022-05-20T19:23:26.7651655Z Current runner version: '2.291.1'
2022-05-20T19:23:26.7681255Z ##[group]Operating System
2022-05-20T19:23:26.7681868Z Ubuntu
2022-05-20T19:23:26.7682130Z 20.04.4
2022-05-20T19:23:26.7682550Z LTS
2022-05-20T19:23:26.7682837Z ##[endgroup]
2022-05-20T19:23:26.7683216Z ##[group]Virtual Environment
2022-05-20T19:23:26.7683738Z Environment: ubuntu-20.04
2022-05-20T19:23:26.7684123Z Version: 20220515.1
2022-05-20T19:23:26.7684707Z Included Software: https://github.com/actions/virtual-environments/blob/ubuntu20/20220515.1/images/linux/Ubuntu2004-Readme.md
2022-05-20T19:23:26.7685464Z Image Release: https://github.com/actions/virtual-environments/releases/tag/ubuntu20%2F20220515.1
2022-05-20T19:23:26.7685974Z ##[endgroup]
2022-05-20T19:23:26.7686323Z ##[group]Virtual Environment Provisioner
2022-05-20T19:23:26.7686751Z 1.0.0.0-main-20220421-1
2022-05-20T19:23:26.7687270Z ##[endgroup]
2022-05-20T19:23:26.7688258Z ##[group]GITHUB_TOKEN Permissions
2022-05-20T19:23:26.7688988Z Actions: write
2022-05-20T19:23:26.7689540Z Checks: write
2022-05-20T19:23:26.7689937Z Contents: write
2022-05-20T19:23:26.7690291Z Deployments: write
2022-05-20T19:23:26.7690658Z Discussions: write
2022-05-20T19:23:26.7691021Z Issues: write
2022-05-20T19:23:26.7691311Z Metadata: read
2022-05-20T19:23:26.7691780Z Packages: write
2022-05-20T19:23:26.7692139Z Pages: write
2022-05-20T19:23:26.7692446Z PullRequests: write
2022-05-20T19:23:26.7692879Z RepositoryProjects: write
2022-05-20T19:23:26.7693287Z SecurityEvents: write
2022-05-20T19:23:26.7693603Z Statuses: write
2022-05-20T19:23:26.7693971Z ##[endgroup]
2022-05-20T19:23:26.7698194Z Secret source: Actions
2022-05-20T19:23:26.7698817Z Prepare workflow directory
2022-05-20T19:23:26.8743784Z Prepare all required actions
2022-05-20T19:23:26.8968465Z Getting action download info
2022-05-20T19:23:27.3505953Z Download action repository 'actions/checkout@v2' (SHA:7884fcad6b5d53d10323aee724dc68d8b9096a2e)
2022-05-20T19:23:27.9926851Z Download action repository 'actions/setup-python@v2' (SHA:7f80679172b057fc5e90d70d197929d454754a5a)
2022-05-20T19:23:28.5285182Z Download action repository 'codecov/codecov-action@v1.0.12' (SHA:07127fde53bc3ccd346d47ab2f14c390161ad108)
2022-05-20T19:23:29.3031586Z ##[group]Run actions/checkout@v2
2022-05-20T19:23:29.3031917Z with:
2022-05-20T19:23:29.3032162Z   fetch-depth: 0
2022-05-20T19:23:29.3032413Z   repository: bentoml/BentoML
2022-05-20T19:23:29.3032847Z   token: ***
2022-05-20T19:23:29.3033078Z   ssh-strict: true
2022-05-20T19:23:29.3033333Z   persist-credentials: true
2022-05-20T19:23:29.3033567Z   clean: true
2022-05-20T19:23:29.3033778Z   lfs: false
2022-05-20T19:23:29.3034003Z   submodules: false
2022-05-20T19:23:29.3034247Z   set-safe-directory: true
2022-05-20T19:23:29.3034506Z ##[endgroup]
2022-05-20T19:23:29.6346382Z Syncing repository: bentoml/BentoML
2022-05-20T19:23:29.6349146Z ##[group]Getting Git version info
2022-05-20T19:23:29.6349987Z Working directory is '/home/runner/work/BentoML/BentoML'
2022-05-20T19:23:29.6351639Z [command]/usr/bin/git version
2022-05-20T19:23:29.6517234Z git version 2.36.1
2022-05-20T19:23:29.6518250Z ##[endgroup]
2022-05-20T19:23:29.6536904Z Temporarily overriding HOME='/home/runner/work/_temp/ecea822c-3862-44b8-a704-f7fba582dd67' before making global git config changes
2022-05-20T19:23:29.6537443Z Adding repository directory to the temporary git global config as a safe directory
2022-05-20T19:23:29.6538036Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/BentoML/BentoML
2022-05-20T19:23:29.6573011Z Deleting the contents of '/home/runner/work/BentoML/BentoML'
2022-05-20T19:23:29.6578445Z ##[group]Initializing the repository
2022-05-20T19:23:29.6582689Z [command]/usr/bin/git init /home/runner/work/BentoML/BentoML
2022-05-20T19:23:29.6661557Z hint: Using 'master' as the name for the initial branch. This default branch name
2022-05-20T19:23:29.6679848Z hint: is subject to change. To configure the initial branch name to use in all
2022-05-20T19:23:29.6680722Z hint: of your new repositories, which will suppress this warning, call:
2022-05-20T19:23:29.6681734Z hint: 
2022-05-20T19:23:29.6683147Z hint: 	git config --global init.defaultBranch <name>
2022-05-20T19:23:29.6683763Z hint: 
2022-05-20T19:23:29.6686411Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2022-05-20T19:23:29.6687793Z hint: 'development'. The just-created branch can be renamed via this command:
2022-05-20T19:23:29.6689393Z hint: 
2022-05-20T19:23:29.6689740Z hint: 	git branch -m <name>
2022-05-20T19:23:29.6690093Z Initialized empty Git repository in /home/runner/work/BentoML/BentoML/.git/
2022-05-20T19:23:29.6739997Z [command]/usr/bin/git remote add origin https://github.com/bentoml/BentoML
2022-05-20T19:23:29.6787948Z ##[endgroup]
2022-05-20T19:23:29.6788632Z ##[group]Disabling automatic garbage collection
2022-05-20T19:23:29.6794917Z [command]/usr/bin/git config --local gc.auto 0
2022-05-20T19:23:29.6828307Z ##[endgroup]
2022-05-20T19:23:29.6828988Z ##[group]Setting up auth
2022-05-20T19:23:29.6839962Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2022-05-20T19:23:29.6878877Z [command]/usr/bin/git submodule foreach --recursive git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :
2022-05-20T19:23:29.7305245Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2022-05-20T19:23:29.7376835Z [command]/usr/bin/git submodule foreach --recursive git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :
2022-05-20T19:23:29.7603283Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2022-05-20T19:23:29.7662957Z ##[endgroup]
2022-05-20T19:23:29.7663435Z ##[group]Fetching the repository
2022-05-20T19:23:29.7664217Z [command]/usr/bin/git -c protocol.version=2 fetch --prune --progress --no-recurse-submodules origin +refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/*
2022-05-20T19:23:30.3343097Z remote: Enumerating objects: 23582, done.        
2022-05-20T19:23:30.3343881Z remote: Counting objects:   0% (1/688)        
2022-05-20T19:23:30.3344227Z remote: Counting objects:   1% (7/688)        
2022-05-20T19:23:30.3344525Z remote: Counting objects:   2% (14/688)        
2022-05-20T19:23:30.3344803Z remote: Counting objects:   3% (21/688)        
2022-05-20T19:23:30.3345093Z remote: Counting objects:   4% (28/688)        
2022-05-20T19:23:30.3345378Z remote: Counting objects:   5% (35/688)        
2022-05-20T19:23:30.3345650Z remote: Counting objects:   6% (42/688)        
2022-05-20T19:23:30.3346043Z remote: Counting objects:   7% (49/688)        
2022-05-20T19:23:30.3346320Z remote: Counting objects:   8% (56/688)        
2022-05-20T19:23:30.3346581Z remote: Counting objects:   9% (62/688)        
2022-05-20T19:23:30.3346858Z remote: Counting objects:  10% (69/688)        
2022-05-20T19:23:30.3347129Z remote: Counting objects:  11% (76/688)        
2022-05-20T19:23:30.3347414Z remote: Counting objects:  12% (83/688)        
2022-05-20T19:23:30.3347677Z remote: Counting objects:  13% (90/688)        
2022-05-20T19:23:30.3347950Z remote: Counting objects:  14% (97/688)        
2022-05-20T19:23:30.3348345Z remote: Counting objects:  15% (104/688)        
2022-05-20T19:23:30.3348622Z remote: Counting objects:  16% (111/688)        
2022-05-20T19:23:30.3348910Z remote: Counting objects:  17% (117/688)        
2022-05-20T19:23:30.3349199Z remote: Counting objects:  18% (124/688)        
2022-05-20T19:23:30.3349470Z remote: Counting objects:  19% (131/688)        
2022-05-20T19:23:30.3349753Z remote: Counting objects:  20% (138/688)        
2022-05-20T19:23:30.3350040Z remote: Counting objects:  21% (145/688)        
2022-05-20T19:23:30.3350308Z remote: Counting objects:  22% (152/688)        
2022-05-20T19:23:30.3350591Z remote: Counting objects:  23% (159/688)        
2022-05-20T19:23:30.3350872Z remote: Counting objects:  24% (166/688)        
2022-05-20T19:23:30.3351318Z remote: Counting objects:  25% (172/688)        
2022-05-20T19:23:30.3351706Z remote: Counting objects:  26% (179/688)        
2022-05-20T19:23:30.3351981Z remote: Counting objects:  27% (186/688)        
2022-05-20T19:23:30.3352267Z remote: Counting objects:  28% (193/688)        
2022-05-20T19:23:30.3352524Z remote: Counting objects:  29% (200/688)        
2022-05-20T19:23:30.3352795Z remote: Counting objects:  30% (207/688)        
2022-05-20T19:23:30.3353070Z remote: Counting objects:  31% (214/688)        
2022-05-20T19:23:30.3353329Z remote: Counting objects:  32% (221/688)        
2022-05-20T19:23:30.3353600Z remote: Counting objects:  33% (228/688)        
2022-05-20T19:23:30.3353872Z remote: Counting objects:  34% (234/688)        
2022-05-20T19:23:30.3354144Z remote: Counting objects:  35% (241/688)        
2022-05-20T19:23:30.3354404Z remote: Counting objects:  36% (248/688)        
2022-05-20T19:23:30.3354677Z remote: Counting objects:  37% (255/688)        
2022-05-20T19:23:30.3355232Z remote: Counting objects:  38% (262/688)        
2022-05-20T19:23:30.3356002Z remote: Counting objects:  39% (269/688)        
2022-05-20T19:23:30.3356422Z remote: Counting objects:  40% (276/688)        
2022-05-20T19:23:30.3356700Z remote: Counting objects:  41% (283/688)        
2022-05-20T19:23:30.3356973Z remote: Counting objects:  42% (289/688)        
2022-05-20T19:23:30.3357231Z remote: Counting objects:  43% (296/688)        
2022-05-20T19:23:30.3357499Z remote: Counting objects:  44% (303/688)        
2022-05-20T19:23:30.3357773Z remote: Counting objects:  45% (310/688)        
2022-05-20T19:23:30.3358032Z remote: Counting objects:  46% (317/688)        
2022-05-20T19:23:30.3358420Z remote: Counting objects:  47% (324/688)        
2022-05-20T19:23:30.3358699Z remote: Counting objects:  48% (331/688)        
2022-05-20T19:23:30.3358965Z remote: Counting objects:  49% (338/688)        
2022-05-20T19:23:30.3359244Z remote: Counting objects:  50% (344/688)        
2022-05-20T19:23:30.3359531Z remote: Counting objects:  51% (351/688)        
2022-05-20T19:23:30.3359811Z remote: Counting objects:  52% (358/688)        
2022-05-20T19:23:30.3360228Z remote: Counting objects:  53% (365/688)        
2022-05-20T19:23:30.3360527Z remote: Counting objects:  54% (372/688)        
2022-05-20T19:23:30.3360808Z remote: Counting objects:  55% (379/688)        
2022-05-20T19:23:30.3361074Z remote: Counting objects:  56% (386/688)        
2022-05-20T19:23:30.3361352Z remote: Counting objects:  57% (393/688)        
2022-05-20T19:23:30.3362164Z remote: Counting objects:  58% (400/688)        
2022-05-20T19:23:30.3362444Z remote: Counting objects:  59% (406/688)        
2022-05-20T19:23:30.3362713Z remote: Counting objects:  60% (413/688)        
2022-05-20T19:23:30.3362984Z remote: Counting objects:  61% (420/688)        
2022-05-20T19:23:30.3363256Z remote: Counting objects:  62% (427/688)        
2022-05-20T19:23:30.3363515Z remote: Counting objects:  63% (434/688)        
2022-05-20T19:23:30.3363793Z remote: Counting objects:  64% (441/688)        
2022-05-20T19:23:30.3364063Z remote: Counting objects:  65% (448/688)        
2022-05-20T19:23:30.3364324Z remote: Counting objects:  66% (455/688)        
2022-05-20T19:23:30.3364594Z remote: Counting objects:  67% (461/688)        
2022-05-20T19:23:30.3364866Z remote: Counting objects:  68% (468/688)        
2022-05-20T19:23:30.3365124Z remote: Counting objects:  69% (475/688)        
2022-05-20T19:23:30.3365394Z remote: Counting objects:  70% (482/688)        
2022-05-20T19:23:30.3365667Z remote: Counting objects:  71% (489/688)        
2022-05-20T19:23:30.3365922Z remote: Counting objects:  72% (496/688)        
2022-05-20T19:23:30.3366197Z remote: Counting objects:  73% (503/688)        
2022-05-20T19:23:30.3366517Z remote: Counting objects:  74% (510/688)        
2022-05-20T19:23:30.3366951Z remote: Counting objects:  75% (516/688)        
2022-05-20T19:23:30.3367260Z remote: Counting objects:  76% (523/688)        
2022-05-20T19:23:30.3367627Z remote: Counting objects:  77% (530/688)        
2022-05-20T19:23:30.3368214Z remote: Counting objects:  78% (537/688)        
2022-05-20T19:23:30.3368527Z remote: Counting objects:  79% (544/688)        
2022-05-20T19:23:30.3368939Z remote: Counting objects:  80% (551/688)        
2022-05-20T19:23:30.3369320Z remote: Counting objects:  81% (558/688)        
2022-05-20T19:23:30.3369680Z remote: Counting objects:  82% (565/688)        
2022-05-20T19:23:30.3369989Z remote: Counting objects:  83% (572/688)        
2022-05-20T19:23:30.3370360Z remote: Counting objects:  84% (578/688)        
2022-05-20T19:23:30.3370778Z remote: Counting objects:  85% (585/688)        
2022-05-20T19:23:30.3371087Z remote: Counting objects:  86% (592/688)        
2022-05-20T19:23:30.3371439Z remote: Counting objects:  87% (599/688)        
2022-05-20T19:23:30.3371909Z remote: Counting objects:  88% (606/688)        
2022-05-20T19:23:30.3372204Z remote: Counting objects:  89% (613/688)        
2022-05-20T19:23:30.3372601Z remote: Counting objects:  90% (620/688)        
2022-05-20T19:23:30.3372959Z remote: Counting objects:  91% (627/688)        
2022-05-20T19:23:30.3373596Z remote: Counting objects:  92% (633/688)        
2022-05-20T19:23:30.3373972Z remote: Counting objects:  93% (640/688)        
2022-05-20T19:23:30.3374342Z remote: Counting objects:  94% (647/688)        
2022-05-20T19:23:30.3374690Z remote: Counting objects:  95% (654/688)        
2022-05-20T19:23:30.3375019Z remote: Counting objects:  96% (661/688)        
2022-05-20T19:23:30.3375404Z remote: Counting objects:  97% (668/688)        
2022-05-20T19:23:30.3375781Z remote: Counting objects:  98% (675/688)        
2022-05-20T19:23:30.3376174Z remote: Counting objects:  99% (682/688)        
2022-05-20T19:23:30.3376476Z remote: Counting objects: 100% (688/688)        
2022-05-20T19:23:30.3376840Z remote: Counting objects: 100% (688/688), done.        
2022-05-20T19:23:30.3377236Z remote: Compressing objects:   0% (1/378)        
2022-05-20T19:23:30.3377572Z remote: Compressing objects:   1% (4/378)        
2022-05-20T19:23:30.3378161Z remote: Compressing objects:   2% (8/378)        
2022-05-20T19:23:30.3378700Z remote: Compressing objects:   3% (12/378)        
2022-05-20T19:23:30.3425568Z remote: Compressing objects:   4% (16/378)        
2022-05-20T19:23:30.3437239Z remote: Compressing objects:   5% (19/378)        
2022-05-20T19:23:30.3472902Z remote: Compressing objects:   6% (23/378)        
2022-05-20T19:23:30.3475615Z remote: Compressing objects:   7% (27/378)        
2022-05-20T19:23:30.3508412Z remote: Compressing objects:   8% (31/378)        
2022-05-20T19:23:30.3534431Z remote: Compressing objects:   9% (35/378)        
2022-05-20T19:23:30.3547966Z remote: Compressing objects:  10% (38/378)        
2022-05-20T19:23:30.3601659Z remote: Compressing objects:  11% (42/378)        
2022-05-20T19:23:30.3623230Z remote: Compressing objects:  12% (46/378)        
2022-05-20T19:23:30.3641340Z remote: Compressing objects:  13% (50/378)        
2022-05-20T19:23:30.3667082Z remote: Compressing objects:  14% (53/378)        
2022-05-20T19:23:30.3667630Z remote: Compressing objects:  15% (57/378)        
2022-05-20T19:23:30.3702247Z remote: Compressing objects:  16% (61/378)        
2022-05-20T19:23:30.3728724Z remote: Compressing objects:  17% (65/378)        
2022-05-20T19:23:30.3744630Z remote: Compressing objects:  18% (69/378)        
2022-05-20T19:23:30.3762622Z remote: Compressing objects:  19% (72/378)        
2022-05-20T19:23:30.3781307Z remote: Compressing objects:  20% (76/378)        
2022-05-20T19:23:30.3789712Z remote: Compressing objects:  21% (80/378)        
2022-05-20T19:23:30.3799059Z remote: Compressing objects:  22% (84/378)        
2022-05-20T19:23:30.3809185Z remote: Compressing objects:  23% (87/378)        
2022-05-20T19:23:30.3814844Z remote: Compressing objects:  24% (91/378)        
2022-05-20T19:23:30.3871237Z remote: Compressing objects:  25% (95/378)        
2022-05-20T19:23:30.3871682Z remote: Compressing objects:  26% (99/378)        
2022-05-20T19:23:30.3872232Z remote: Compressing objects:  27% (103/378)        
2022-05-20T19:23:30.3872665Z remote: Compressing objects:  28% (106/378)        
2022-05-20T19:23:30.3873226Z remote: Compressing objects:  29% (110/378)        
2022-05-20T19:23:30.3873707Z remote: Compressing objects:  30% (114/378)        
2022-05-20T19:23:30.3874037Z remote: Compressing objects:  31% (118/378)        
2022-05-20T19:23:30.3874527Z remote: Compressing objects:  32% (121/378)        
2022-05-20T19:23:30.3874889Z remote: Compressing objects:  33% (125/378)        
2022-05-20T19:23:30.3911037Z remote: Compressing objects:  34% (129/378)        
2022-05-20T19:23:30.3911404Z remote: Compressing objects:  35% (133/378)        
2022-05-20T19:23:30.3911812Z remote: Compressing objects:  36% (137/378)        
2022-05-20T19:23:30.3912208Z remote: Compressing objects:  37% (140/378)        
2022-05-20T19:23:30.3912609Z remote: Compressing objects:  38% (144/378)        
2022-05-20T19:23:30.3912987Z remote: Compressing objects:  39% (148/378)        
2022-05-20T19:23:30.3913391Z remote: Compressing objects:  40% (152/378)        
2022-05-20T19:23:30.3913806Z remote: Compressing objects:  41% (155/378)        
2022-05-20T19:23:30.3915813Z remote: Compressing objects:  42% (159/378)        
2022-05-20T19:23:30.3916362Z remote: Compressing objects:  43% (163/378)        
2022-05-20T19:23:30.3916761Z remote: Compressing objects:  44% (167/378)        
2022-05-20T19:23:30.3917285Z remote: Compressing objects:  45% (171/378)        
2022-05-20T19:23:30.3917665Z remote: Compressing objects:  46% (174/378)        
2022-05-20T19:23:30.3918094Z remote: Compressing objects:  47% (178/378)        
2022-05-20T19:23:30.3918427Z remote: Compressing objects:  48% (182/378)        
2022-05-20T19:23:30.3918818Z remote: Compressing objects:  49% (186/378)        
2022-05-20T19:23:30.3919197Z remote: Compressing objects:  50% (189/378)        
2022-05-20T19:23:30.3919521Z remote: Compressing objects:  51% (193/378)        
2022-05-20T19:23:30.3919936Z remote: Compressing objects:  52% (197/378)        
2022-05-20T19:23:30.3920343Z remote: Compressing objects:  53% (201/378)        
2022-05-20T19:23:30.3920875Z remote: Compressing objects:  54% (205/378)        
2022-05-20T19:23:30.3921228Z remote: Compressing objects:  55% (208/378)        
2022-05-20T19:23:30.3921607Z remote: Compressing objects:  56% (212/378)        
2022-05-20T19:23:30.3922047Z remote: Compressing objects:  57% (216/378)        
2022-05-20T19:23:30.3922370Z remote: Compressing objects:  58% (220/378)        
2022-05-20T19:23:30.3922763Z remote: Compressing objects:  59% (224/378)        
2022-05-20T19:23:30.3923136Z remote: Compressing objects:  60% (227/378)        
2022-05-20T19:23:30.3923463Z remote: Compressing objects:  61% (231/378)        
2022-05-20T19:23:30.3923891Z remote: Compressing objects:  62% (235/378)        
2022-05-20T19:23:30.3924265Z remote: Compressing objects:  63% (239/378)        
2022-05-20T19:23:30.3924640Z remote: Compressing objects:  64% (242/378)        
2022-05-20T19:23:30.3924968Z remote: Compressing objects:  65% (246/378)        
2022-05-20T19:23:30.3925393Z remote: Compressing objects:  66% (250/378)        
2022-05-20T19:23:30.3925778Z remote: Compressing objects:  67% (254/378)        
2022-05-20T19:23:30.3926103Z remote: Compressing objects:  68% (258/378)        
2022-05-20T19:23:30.3926477Z remote: Compressing objects:  69% (261/378)        
2022-05-20T19:23:30.3926851Z remote: Compressing objects:  70% (265/378)        
2022-05-20T19:23:30.3927225Z remote: Compressing objects:  71% (269/378)        
2022-05-20T19:23:30.3927601Z remote: Compressing objects:  72% (273/378)        
2022-05-20T19:23:30.3927978Z remote: Compressing objects:  73% (276/378)        
2022-05-20T19:23:30.3928349Z remote: Compressing objects:  74% (280/378)        
2022-05-20T19:23:30.3928689Z remote: Compressing objects:  75% (284/378)        
2022-05-20T19:23:30.3929103Z remote: Compressing objects:  76% (288/378)        
2022-05-20T19:23:30.3929492Z remote: Compressing objects:  77% (292/378)        
2022-05-20T19:23:30.3929928Z remote: Compressing objects:  78% (295/378)        
2022-05-20T19:23:30.3930322Z remote: Compressing objects:  79% (299/378)        
2022-05-20T19:23:30.3930742Z remote: Compressing objects:  80% (303/378)        
2022-05-20T19:23:30.3931071Z remote: Compressing objects:  81% (307/378)        
2022-05-20T19:23:30.3931440Z remote: Compressing objects:  82% (310/378)        
2022-05-20T19:23:30.3931812Z remote: Compressing objects:  83% (314/378)        
2022-05-20T19:23:30.3932150Z remote: Compressing objects:  84% (318/378)        
2022-05-20T19:23:30.3932552Z remote: Compressing objects:  85% (322/378)        
2022-05-20T19:23:30.3932927Z remote: Compressing objects:  86% (326/378)        
2022-05-20T19:23:30.3933298Z remote: Compressing objects:  87% (329/378)        
2022-05-20T19:23:30.3933628Z remote: Compressing objects:  88% (333/378)        
2022-05-20T19:23:30.3934002Z remote: Compressing objects:  89% (337/378)        
2022-05-20T19:23:30.3934412Z remote: Compressing objects:  90% (341/378)        
2022-05-20T19:23:30.3934738Z remote: Compressing objects:  91% (344/378)        
2022-05-20T19:23:30.3935111Z remote: Compressing objects:  92% (348/378)        
2022-05-20T19:23:30.3935503Z remote: Compressing objects:  93% (352/378)        
2022-05-20T19:23:30.3935827Z remote: Compressing objects:  94% (356/378)        
2022-05-20T19:23:30.3936234Z remote: Compressing objects:  95% (360/378)        
2022-05-20T19:23:30.3936624Z remote: Compressing objects:  96% (363/378)        
2022-05-20T19:23:30.3937007Z remote: Compressing objects:  97% (367/378)        
2022-05-20T19:23:30.3937328Z remote: Compressing objects:  98% (371/378)        
2022-05-20T19:23:30.3937731Z remote: Compressing objects:  99% (375/378)        
2022-05-20T19:23:30.3938123Z remote: Compressing objects: 100% (378/378)        
2022-05-20T19:23:30.3938464Z remote: Compressing objects: 100% (378/378), done.        
2022-05-20T19:23:30.4310936Z Receiving objects:   0% (1/23582)
2022-05-20T19:23:30.4496137Z Receiving objects:   1% (236/23582)
2022-05-20T19:23:30.4538885Z Receiving objects:   2% (472/23582)
2022-05-20T19:23:30.4675934Z Receiving objects:   3% (708/23582)
2022-05-20T19:23:30.4725107Z Receiving objects:   4% (944/23582)
2022-05-20T19:23:30.4767024Z Receiving objects:   5% (1180/23582)
2022-05-20T19:23:30.4802515Z Receiving objects:   6% (1415/23582)
2022-05-20T19:23:30.4869497Z Receiving objects:   7% (1651/23582)
2022-05-20T19:23:30.5069443Z Receiving objects:   8% (1887/23582)
2022-05-20T19:23:30.5170159Z Receiving objects:   9% (2123/23582)
2022-05-20T19:23:30.5752418Z Receiving objects:  10% (2359/23582)
2022-05-20T19:23:30.6895259Z Receiving objects:  11% (2595/23582)
2022-05-20T19:23:30.6930921Z Receiving objects:  12% (2830/23582)
2022-05-20T19:23:30.6976048Z Receiving objects:  13% (3066/23582)
2022-05-20T19:23:30.7050038Z Receiving objects:  14% (3302/23582)
2022-05-20T19:23:30.7114059Z Receiving objects:  15% (3538/23582)
2022-05-20T19:23:30.7224321Z Receiving objects:  16% (3774/23582)
2022-05-20T19:23:30.7393412Z Receiving objects:  17% (4009/23582)
2022-05-20T19:23:30.7492945Z Receiving objects:  18% (4245/23582)
2022-05-20T19:23:30.7716778Z Receiving objects:  19% (4481/23582)
2022-05-20T19:23:30.7760837Z Receiving objects:  20% (4717/23582)
2022-05-20T19:23:30.7797235Z Receiving objects:  21% (4953/23582)
2022-05-20T19:23:30.7902090Z Receiving objects:  22% (5189/23582)
2022-05-20T19:23:30.7922482Z Receiving objects:  23% (5424/23582)
2022-05-20T19:23:30.7966286Z Receiving objects:  24% (5660/23582)
2022-05-20T19:23:30.7992633Z Receiving objects:  25% (5896/23582)
2022-05-20T19:23:30.8050264Z Receiving objects:  26% (6132/23582)
2022-05-20T19:23:30.8316386Z Receiving objects:  27% (6368/23582)
2022-05-20T19:23:30.8346036Z Receiving objects:  28% (6603/23582)
2022-05-20T19:23:30.8362182Z Receiving objects:  29% (6839/23582)
2022-05-20T19:23:30.8378691Z Receiving objects:  30% (7075/23582)
2022-05-20T19:23:30.8394044Z Receiving objects:  31% (7311/23582)
2022-05-20T19:23:30.8417492Z Receiving objects:  32% (7547/23582)
2022-05-20T19:23:30.8447401Z Receiving objects:  33% (7783/23582)
2022-05-20T19:23:30.8460437Z Receiving objects:  34% (8018/23582)
2022-05-20T19:23:30.8487276Z Receiving objects:  35% (8254/23582)
2022-05-20T19:23:30.8500304Z Receiving objects:  36% (8490/23582)
2022-05-20T19:23:30.8530430Z Receiving objects:  37% (8726/23582)
2022-05-20T19:23:30.8544670Z Receiving objects:  38% (8962/23582)
2022-05-20T19:23:30.8568146Z Receiving objects:  39% (9197/23582)
2022-05-20T19:23:30.8583575Z Receiving objects:  40% (9433/23582)
2022-05-20T19:23:30.8606610Z Receiving objects:  41% (9669/23582)
2022-05-20T19:23:30.8617541Z Receiving objects:  42% (9905/23582)
2022-05-20T19:23:30.8627013Z Receiving objects:  43% (10141/23582)
2022-05-20T19:23:30.8646900Z Receiving objects:  44% (10377/23582)
2022-05-20T19:23:30.8663525Z Receiving objects:  45% (10612/23582)
2022-05-20T19:23:30.8671169Z Receiving objects:  46% (10848/23582)
2022-05-20T19:23:30.8681601Z Receiving objects:  47% (11084/23582)
2022-05-20T19:23:30.8702920Z Receiving objects:  48% (11320/23582)
2022-05-20T19:23:30.8921768Z Receiving objects:  49% (11556/23582)
2022-05-20T19:23:30.9107629Z Receiving objects:  50% (11791/23582)
2022-05-20T19:23:30.9141162Z Receiving objects:  51% (12027/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9177845Z Receiving objects:  52% (12263/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9203401Z Receiving objects:  53% (12499/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9224571Z Receiving objects:  54% (12735/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9242918Z Receiving objects:  55% (12971/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9522994Z Receiving objects:  56% (13206/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9537067Z Receiving objects:  57% (13442/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9689936Z Receiving objects:  58% (13678/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9744493Z Receiving objects:  59% (13914/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9744842Z Receiving objects:  60% (14150/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9746150Z Receiving objects:  61% (14386/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9746510Z Receiving objects:  62% (14621/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9747524Z Receiving objects:  63% (14857/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9747968Z Receiving objects:  64% (15093/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9832205Z Receiving objects:  65% (15329/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9865301Z Receiving objects:  66% (15565/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9872228Z Receiving objects:  67% (15800/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9881674Z Receiving objects:  68% (16036/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9905553Z Receiving objects:  69% (16272/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9931511Z Receiving objects:  70% (16508/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:30.9958501Z Receiving objects:  71% (16744/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.0173992Z Receiving objects:  72% (16980/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.0187885Z Receiving objects:  73% (17215/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.0210311Z Receiving objects:  74% (17451/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.0221706Z Receiving objects:  75% (17687/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.0231971Z Receiving objects:  76% (17923/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.0242691Z Receiving objects:  77% (18159/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.0460106Z Receiving objects:  78% (18394/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.0486544Z Receiving objects:  79% (18630/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.1010681Z Receiving objects:  80% (18866/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.1038090Z Receiving objects:  81% (19102/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.1059484Z Receiving objects:  82% (19338/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.1074072Z Receiving objects:  83% (19574/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.1085109Z Receiving objects:  84% (19809/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.1104397Z Receiving objects:  85% (20045/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.1652516Z Receiving objects:  86% (20281/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.1665179Z Receiving objects:  87% (20517/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.1736245Z Receiving objects:  88% (20753/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.1756963Z Receiving objects:  89% (20988/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.1806299Z Receiving objects:  90% (21224/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.2062774Z Receiving objects:  91% (21460/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.2088875Z Receiving objects:  92% (21696/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.2109353Z Receiving objects:  93% (21932/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.3960344Z Receiving objects:  94% (22168/23582), 11.94 MiB | 23.87 MiB/s
2022-05-20T19:23:31.8507616Z Receiving objects:  94% (22287/23582), 23.77 MiB | 23.76 MiB/s
2022-05-20T19:23:31.8525651Z Receiving objects:  95% (22403/23582), 23.77 MiB | 23.76 MiB/s
2022-05-20T19:23:31.8537891Z Receiving objects:  96% (22639/23582), 23.77 MiB | 23.76 MiB/s
2022-05-20T19:23:31.8558316Z Receiving objects:  97% (22875/23582), 23.77 MiB | 23.76 MiB/s
2022-05-20T19:23:31.8604782Z Receiving objects:  98% (23111/23582), 23.77 MiB | 23.76 MiB/s
2022-05-20T19:23:31.8835655Z Receiving objects:  99% (23347/23582), 23.77 MiB | 23.76 MiB/s
2022-05-20T19:23:31.8836749Z remote: Total 23582 (delta 391), reused 537 (delta 305), pack-reused 22894        
2022-05-20T19:23:31.8858832Z Receiving objects: 100% (23582/23582), 23.77 MiB | 23.76 MiB/s
2022-05-20T19:23:31.8859494Z Receiving objects: 100% (23582/23582), 36.32 MiB | 24.37 MiB/s, done.
2022-05-20T19:23:31.8940506Z Resolving deltas:   0% (0/16947)
2022-05-20T19:23:31.8991864Z Resolving deltas:   1% (170/16947)
2022-05-20T19:23:31.9053460Z Resolving deltas:   2% (339/16947)
2022-05-20T19:23:31.9127839Z Resolving deltas:   3% (509/16947)
2022-05-20T19:23:31.9187969Z Resolving deltas:   4% (678/16947)
2022-05-20T19:23:31.9235210Z Resolving deltas:   5% (848/16947)
2022-05-20T19:23:31.9263107Z Resolving deltas:   6% (1017/16947)
2022-05-20T19:23:31.9309382Z Resolving deltas:   7% (1187/16947)
2022-05-20T19:23:31.9337443Z Resolving deltas:   8% (1356/16947)
2022-05-20T19:23:31.9364192Z Resolving deltas:   9% (1526/16947)
2022-05-20T19:23:31.9396121Z Resolving deltas:  10% (1695/16947)
2022-05-20T19:23:31.9427316Z Resolving deltas:  11% (1865/16947)
2022-05-20T19:23:31.9462413Z Resolving deltas:  12% (2034/16947)
2022-05-20T19:23:31.9481305Z Resolving deltas:  13% (2204/16947)
2022-05-20T19:23:31.9502796Z Resolving deltas:  14% (2373/16947)
2022-05-20T19:23:31.9535267Z Resolving deltas:  15% (2543/16947)
2022-05-20T19:23:31.9581214Z Resolving deltas:  16% (2712/16947)
2022-05-20T19:23:31.9622727Z Resolving deltas:  17% (2881/16947)
2022-05-20T19:23:31.9694185Z Resolving deltas:  18% (3051/16947)
2022-05-20T19:23:31.9729965Z Resolving deltas:  19% (3220/16947)
2022-05-20T19:23:31.9780568Z Resolving deltas:  20% (3390/16947)
2022-05-20T19:23:31.9853709Z Resolving deltas:  21% (3559/16947)
2022-05-20T19:23:31.9902992Z Resolving deltas:  22% (3729/16947)
2022-05-20T19:23:31.9963379Z Resolving deltas:  23% (3898/16947)
2022-05-20T19:23:32.0073878Z Resolving deltas:  24% (4068/16947)
2022-05-20T19:23:32.0098807Z Resolving deltas:  25% (4237/16947)
2022-05-20T19:23:32.0917330Z Resolving deltas:  26% (4407/16947)
2022-05-20T19:23:32.0937124Z Resolving deltas:  27% (4576/16947)
2022-05-20T19:23:32.1033039Z Resolving deltas:  28% (4746/16947)
2022-05-20T19:23:32.1085816Z Resolving deltas:  29% (4915/16947)
2022-05-20T19:23:32.1120443Z Resolving deltas:  30% (5085/16947)
2022-05-20T19:23:32.1152775Z Resolving deltas:  31% (5254/16947)
2022-05-20T19:23:32.1181802Z Resolving deltas:  32% (5424/16947)
2022-05-20T19:23:32.1212256Z Resolving deltas:  33% (5593/16947)
2022-05-20T19:23:32.1247386Z Resolving deltas:  34% (5762/16947)
2022-05-20T19:23:32.1282096Z Resolving deltas:  35% (5932/16947)
2022-05-20T19:23:32.1311179Z Resolving deltas:  36% (6101/16947)
2022-05-20T19:23:32.1358058Z Resolving deltas:  37% (6271/16947)
2022-05-20T19:23:32.1399728Z Resolving deltas:  38% (6440/16947)
2022-05-20T19:23:32.1559909Z Resolving deltas:  39% (6610/16947)
2022-05-20T19:23:32.1573074Z Resolving deltas:  40% (6779/16947)
2022-05-20T19:23:32.1591639Z Resolving deltas:  41% (6949/16947)
2022-05-20T19:23:32.1615095Z Resolving deltas:  42% (7118/16947)
2022-05-20T19:23:32.1637407Z Resolving deltas:  43% (7288/16947)
2022-05-20T19:23:32.1650560Z Resolving deltas:  44% (7457/16947)
2022-05-20T19:23:32.1694919Z Resolving deltas:  45% (7627/16947)
2022-05-20T19:23:32.1781691Z Resolving deltas:  46% (7796/16947)
2022-05-20T19:23:32.1852081Z Resolving deltas:  47% (7966/16947)
2022-05-20T19:23:32.1894008Z Resolving deltas:  48% (8135/16947)
2022-05-20T19:23:32.1930006Z Resolving deltas:  49% (8305/16947)
2022-05-20T19:23:32.1964586Z Resolving deltas:  50% (8474/16947)
2022-05-20T19:23:32.1999072Z Resolving deltas:  51% (8643/16947)
2022-05-20T19:23:32.2015961Z Resolving deltas:  52% (8813/16947)
2022-05-20T19:23:32.2055192Z Resolving deltas:  53% (8982/16947)
2022-05-20T19:23:32.2083388Z Resolving deltas:  54% (9152/16947)
2022-05-20T19:23:32.2111602Z Resolving deltas:  55% (9321/16947)
2022-05-20T19:23:32.2121903Z Resolving deltas:  56% (9491/16947)
2022-05-20T19:23:32.2149208Z Resolving deltas:  57% (9660/16947)
2022-05-20T19:23:32.2168009Z Resolving deltas:  58% (9830/16947)
2022-05-20T19:23:32.2179247Z Resolving deltas:  59% (9999/16947)
2022-05-20T19:23:32.2193244Z Resolving deltas:  60% (10169/16947)
2022-05-20T19:23:32.2217704Z Resolving deltas:  61% (10338/16947)
2022-05-20T19:23:32.2239638Z Resolving deltas:  62% (10508/16947)
2022-05-20T19:23:32.2261676Z Resolving deltas:  63% (10677/16947)
2022-05-20T19:23:32.2295230Z Resolving deltas:  64% (10847/16947)
2022-05-20T19:23:32.2365913Z Resolving deltas:  65% (11016/16947)
2022-05-20T19:23:32.2412424Z Resolving deltas:  66% (11186/16947)
2022-05-20T19:23:32.2447602Z Resolving deltas:  67% (11355/16947)
2022-05-20T19:23:32.2462365Z Resolving deltas:  68% (11524/16947)
2022-05-20T19:23:32.2489321Z Resolving deltas:  69% (11694/16947)
2022-05-20T19:23:32.2520492Z Resolving deltas:  70% (11863/16947)
2022-05-20T19:23:32.2544922Z Resolving deltas:  71% (12033/16947)
2022-05-20T19:23:32.2566384Z Resolving deltas:  72% (12202/16947)
2022-05-20T19:23:32.2579539Z Resolving deltas:  73% (12372/16947)
2022-05-20T19:23:32.2596688Z Resolving deltas:  74% (12541/16947)
2022-05-20T19:23:32.2644432Z Resolving deltas:  75% (12711/16947)
2022-05-20T19:23:32.2724963Z Resolving deltas:  76% (12880/16947)
2022-05-20T19:23:32.2738839Z Resolving deltas:  77% (13050/16947)
2022-05-20T19:23:32.2751052Z Resolving deltas:  78% (13219/16947)
2022-05-20T19:23:32.2764271Z Resolving deltas:  79% (13389/16947)
2022-05-20T19:23:32.2779281Z Resolving deltas:  80% (13558/16947)
2022-05-20T19:23:32.2796378Z Resolving deltas:  81% (13728/16947)
2022-05-20T19:23:32.2816439Z Resolving deltas:  82% (13897/16947)
2022-05-20T19:23:32.2906758Z Resolving deltas:  83% (14067/16947)
2022-05-20T19:23:32.2981345Z Resolving deltas:  84% (14236/16947)
2022-05-20T19:23:32.3020438Z Resolving deltas:  85% (14405/16947)
2022-05-20T19:23:32.3036404Z Resolving deltas:  86% (14575/16947)
2022-05-20T19:23:32.3050736Z Resolving deltas:  87% (14744/16947)
2022-05-20T19:23:32.3066656Z Resolving deltas:  88% (14914/16947)
2022-05-20T19:23:32.3088559Z Resolving deltas:  89% (15083/16947)
2022-05-20T19:23:32.3134294Z Resolving deltas:  90% (15253/16947)
2022-05-20T19:23:32.3160904Z Resolving deltas:  91% (15422/16947)
2022-05-20T19:23:32.3177064Z Resolving deltas:  92% (15593/16947)
2022-05-20T19:23:32.3217737Z Resolving deltas:  93% (15761/16947)
2022-05-20T19:23:32.3251002Z Resolving deltas:  94% (15931/16947)
2022-05-20T19:23:32.3271992Z Resolving deltas:  95% (16100/16947)
2022-05-20T19:23:32.3288405Z Resolving deltas:  96% (16270/16947)
2022-05-20T19:23:32.3304536Z Resolving deltas:  97% (16439/16947)
2022-05-20T19:23:32.3318380Z Resolving deltas:  98% (16609/16947)
2022-05-20T19:23:32.3396176Z Resolving deltas:  99% (16779/16947)
2022-05-20T19:23:32.3396591Z Resolving deltas: 100% (16947/16947)
2022-05-20T19:23:32.3396969Z Resolving deltas: 100% (16947/16947), done.
2022-05-20T19:23:32.4833623Z From https://github.com/bentoml/BentoML
2022-05-20T19:23:32.4869353Z  * [new branch]        0.13-LTS    -> origin/0.13-LTS
2022-05-20T19:23:32.4872270Z  * [new branch]        0.13-line   -> origin/0.13-line
2022-05-20T19:23:32.4874325Z  * [new branch]        main        -> origin/main
2022-05-20T19:23:32.4875053Z  * [new branch]        runners-1.0 -> origin/runners-1.0
2022-05-20T19:23:32.4876302Z  * [new tag]           v0.10.0     -> v0.10.0
2022-05-20T19:23:32.4877076Z  * [new tag]           v0.10.1     -> v0.10.1
2022-05-20T19:23:32.4877919Z  * [new tag]           v0.11.0     -> v0.11.0
2022-05-20T19:23:32.4878791Z  * [new tag]           v0.12.0     -> v0.12.0
2022-05-20T19:23:32.4879651Z  * [new tag]           v0.12.1     -> v0.12.1
2022-05-20T19:23:32.4880252Z  * [new tag]           v0.13.0     -> v0.13.0
2022-05-20T19:23:32.4881079Z  * [new tag]           v0.13.1     -> v0.13.1
2022-05-20T19:23:32.4881688Z  * [new tag]           v0.4.0      -> v0.4.0
2022-05-20T19:23:32.4882527Z  * [new tag]           v0.4.1      -> v0.4.1
2022-05-20T19:23:32.4883124Z  * [new tag]           v0.4.2      -> v0.4.2
2022-05-20T19:23:32.4883928Z  * [new tag]           v0.4.3      -> v0.4.3
2022-05-20T19:23:32.4884524Z  * [new tag]           v0.4.4      -> v0.4.4
2022-05-20T19:23:32.4885343Z  * [new tag]           v0.4.5      -> v0.4.5
2022-05-20T19:23:32.4885918Z  * [new tag]           v0.4.6      -> v0.4.6
2022-05-20T19:23:32.4886742Z  * [new tag]           v0.4.7      -> v0.4.7
2022-05-20T19:23:32.4887346Z  * [new tag]           v0.4.8      -> v0.4.8
2022-05-20T19:23:32.4888172Z  * [new tag]           v0.4.9      -> v0.4.9
2022-05-20T19:23:32.4888966Z  * [new tag]           v0.5.0      -> v0.5.0
2022-05-20T19:23:32.4916497Z  * [new tag]           v0.5.1      -> v0.5.1
2022-05-20T19:23:32.4917912Z  * [new tag]           v0.5.2      -> v0.5.2
2022-05-20T19:23:32.4918851Z  * [new tag]           v0.5.3      -> v0.5.3
2022-05-20T19:23:32.4919459Z  * [new tag]           v0.5.4      -> v0.5.4
2022-05-20T19:23:32.4920303Z  * [new tag]           v0.5.5      -> v0.5.5
2022-05-20T19:23:32.4920906Z  * [new tag]           v0.5.6      -> v0.5.6
2022-05-20T19:23:32.4921724Z  * [new tag]           v0.5.7      -> v0.5.7
2022-05-20T19:23:32.4922333Z  * [new tag]           v0.5.8      -> v0.5.8
2022-05-20T19:23:32.4923150Z  * [new tag]           v0.6.0      -> v0.6.0
2022-05-20T19:23:32.4923744Z  * [new tag]           v0.6.1      -> v0.6.1
2022-05-20T19:23:32.4924553Z  * [new tag]           v0.6.2      -> v0.6.2
2022-05-20T19:23:32.4925275Z  * [new tag]           v0.6.3      -> v0.6.3
2022-05-20T19:23:32.4926112Z  * [new tag]           v0.7.0      -> v0.7.0
2022-05-20T19:23:32.4926717Z  * [new tag]           v0.7.1      -> v0.7.1
2022-05-20T19:23:32.4927565Z  * [new tag]           v0.7.2      -> v0.7.2
2022-05-20T19:23:32.4928416Z  * [new tag]           v0.7.3      -> v0.7.3
2022-05-20T19:23:32.4929681Z  * [new tag]           v0.7.4      -> v0.7.4
2022-05-20T19:23:32.4930030Z  * [new tag]           v0.7.5      -> v0.7.5
2022-05-20T19:23:32.4930346Z  * [new tag]           v0.7.6      -> v0.7.6
2022-05-20T19:23:32.4930688Z  * [new tag]           v0.7.7      -> v0.7.7
2022-05-20T19:23:32.4931025Z  * [new tag]           v0.7.8      -> v0.7.8
2022-05-20T19:23:32.4931772Z  * [new tag]           v0.8.0      -> v0.8.0
2022-05-20T19:23:32.4932158Z  * [new tag]           v0.8.1      -> v0.8.1
2022-05-20T19:23:32.4932496Z  * [new tag]           v0.8.2      -> v0.8.2
2022-05-20T19:23:32.4932819Z  * [new tag]           v0.8.3      -> v0.8.3
2022-05-20T19:23:32.4933403Z  * [new tag]           v0.8.4      -> v0.8.4
2022-05-20T19:23:32.4933749Z  * [new tag]           v0.8.5      -> v0.8.5
2022-05-20T19:23:32.4934071Z  * [new tag]           v0.8.6      -> v0.8.6
2022-05-20T19:23:32.4934405Z  * [new tag]           v0.9.0      -> v0.9.0
2022-05-20T19:23:32.4934738Z  * [new tag]           v0.9.1      -> v0.9.1
2022-05-20T19:23:32.4935071Z  * [new tag]           v0.9.2      -> v0.9.2
2022-05-20T19:23:32.4935412Z  * [new tag]           v1.0.0-a1   -> v1.0.0-a1
2022-05-20T19:23:32.4935780Z  * [new tag]           v1.0.0-a2   -> v1.0.0-a2
2022-05-20T19:23:32.4936140Z  * [new tag]           v1.0.0-a3   -> v1.0.0-a3
2022-05-20T19:23:32.4937067Z  * [new tag]           v1.0.0-a4   -> v1.0.0-a4
2022-05-20T19:23:32.4937430Z  * [new tag]           v1.0.0-a5   -> v1.0.0-a5
2022-05-20T19:23:32.4937786Z  * [new tag]           v1.0.0-a6   -> v1.0.0-a6
2022-05-20T19:23:32.4940008Z  * [new tag]           v1.0.0-a7   -> v1.0.0-a7
2022-05-20T19:23:32.4999965Z [command]/usr/bin/git branch --list --remote origin/0.13-LTS
2022-05-20T19:23:32.5028449Z   origin/0.13-LTS
2022-05-20T19:23:32.5040703Z [command]/usr/bin/git rev-parse refs/remotes/origin/0.13-LTS
2022-05-20T19:23:32.5071364Z 5b464785c05b766175e4c252797edff3a317f2d6
2022-05-20T19:23:32.5078374Z ##[endgroup]
2022-05-20T19:23:32.5079255Z ##[group]Determining the checkout info
2022-05-20T19:23:32.5080293Z ##[endgroup]
2022-05-20T19:23:32.5081023Z ##[group]Checking out the ref
2022-05-20T19:23:32.5085387Z [command]/usr/bin/git checkout --progress --force -B 0.13-LTS refs/remotes/origin/0.13-LTS
2022-05-20T19:23:32.6003322Z Switched to a new branch '0.13-LTS'
2022-05-20T19:23:32.6004314Z branch '0.13-LTS' set up to track 'origin/0.13-LTS'.
2022-05-20T19:23:32.6019463Z ##[endgroup]
2022-05-20T19:23:32.6061302Z [command]/usr/bin/git log -1 --format='%H'
2022-05-20T19:23:32.6092921Z '5b464785c05b766175e4c252797edff3a317f2d6'
2022-05-20T19:23:32.6441749Z ##[group]Run actions/setup-python@v2
2022-05-20T19:23:32.6442061Z with:
2022-05-20T19:23:32.6442272Z   python-version: 3.7
2022-05-20T19:23:32.6442520Z   architecture: x64
2022-05-20T19:23:32.6442957Z   token: ***
2022-05-20T19:23:32.6443165Z ##[endgroup]
2022-05-20T19:23:32.8180248Z Successfully setup CPython (3.7.13)
2022-05-20T19:23:32.8327215Z ##[group]Run ./ci/install_test_deps.sh.cmd
2022-05-20T19:23:32.8327610Z [36;1m./ci/install_test_deps.sh.cmd[0m
2022-05-20T19:23:32.8390618Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2022-05-20T19:23:32.8390935Z env:
2022-05-20T19:23:32.8391232Z   pythonLocation: /opt/hostedtoolcache/Python/3.7.13/x64
2022-05-20T19:23:32.8391591Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.7.13/x64/lib
2022-05-20T19:23:32.8391892Z ##[endgroup]
2022-05-20T19:23:32.8573826Z ++ python -m pip install --upgrade pip
2022-05-20T19:23:33.9523555Z Requirement already satisfied: pip in /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages (22.1)
2022-05-20T19:23:34.3984853Z ++ python -m pip install --upgrade --editable '.[test]'
2022-05-20T19:23:35.0291403Z Obtaining file:///home/runner/work/BentoML/BentoML
2022-05-20T19:23:35.5026604Z   Installing build dependencies: started
2022-05-20T19:23:38.7525596Z   Installing build dependencies: finished with status 'done'
2022-05-20T19:23:38.7569451Z   Checking if build backend supports build_editable: started
2022-05-20T19:23:39.0417036Z   Checking if build backend supports build_editable: finished with status 'done'
2022-05-20T19:23:39.0435833Z   Getting requirements to build wheel: started
2022-05-20T19:23:41.5358465Z   Getting requirements to build wheel: finished with status 'done'
2022-05-20T19:23:41.5394605Z   Preparing metadata (pyproject.toml): started
2022-05-20T19:23:44.1916849Z   Preparing metadata (pyproject.toml): finished with status 'done'
2022-05-20T19:23:44.4431153Z Collecting configparser
2022-05-20T19:23:44.4616927Z   Downloading configparser-5.2.0-py3-none-any.whl (19 kB)
2022-05-20T19:23:44.5270267Z Collecting alembic
2022-05-20T19:23:44.5319273Z   Downloading alembic-1.7.7-py3-none-any.whl (210 kB)
2022-05-20T19:23:44.5426824Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 210.7/210.7 kB 31.4 MB/s eta 0:00:00
2022-05-20T19:23:44.5656495Z Collecting chardet
2022-05-20T19:23:44.5707062Z   Downloading chardet-4.0.0-py2.py3-none-any.whl (178 kB)
2022-05-20T19:23:44.5792697Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 178.7/178.7 kB 32.8 MB/s eta 0:00:00
2022-05-20T19:23:44.6049991Z Collecting simple-di==0.1.0
2022-05-20T19:23:44.6109246Z   Downloading simple_di-0.1.0-py2.py3-none-any.whl (9.4 kB)
2022-05-20T19:23:44.6519381Z Collecting certifi
2022-05-20T19:23:44.6575072Z   Downloading certifi-2022.5.18.1-py3-none-any.whl (155 kB)
2022-05-20T19:23:44.6666118Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 155.2/155.2 kB 25.7 MB/s eta 0:00:00
2022-05-20T19:23:44.7203188Z Collecting packaging
2022-05-20T19:23:44.7278085Z   Downloading packaging-21.3-py3-none-any.whl (40 kB)
2022-05-20T19:23:44.7347544Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 40.8/40.8 kB 8.9 MB/s eta 0:00:00
2022-05-20T19:23:44.8061020Z Collecting urllib3<=1.26.6
2022-05-20T19:23:44.8126864Z   Downloading urllib3-1.26.6-py2.py3-none-any.whl (138 kB)
2022-05-20T19:23:44.8208887Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 138.5/138.5 kB 27.3 MB/s eta 0:00:00
2022-05-20T19:23:44.8771552Z Collecting docker
2022-05-20T19:23:44.8840956Z   Downloading docker-5.0.3-py2.py3-none-any.whl (146 kB)
2022-05-20T19:23:44.8923149Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 146.2/146.2 kB 28.9 MB/s eta 0:00:00
2022-05-20T19:23:45.3954414Z Collecting numpy
2022-05-20T19:23:45.4011585Z   Downloading numpy-1.21.6-cp37-cp37m-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (15.7 MB)
2022-05-20T19:23:45.6354396Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 15.7/15.7 MB 59.8 MB/s eta 0:00:00
2022-05-20T19:23:46.2657293Z Collecting ruamel.yaml>=0.15.0
2022-05-20T19:23:46.2717587Z   Downloading ruamel.yaml-0.17.21-py3-none-any.whl (109 kB)
2022-05-20T19:23:46.2800449Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 109.5/109.5 kB 21.2 MB/s eta 0:00:00
2022-05-20T19:23:46.8322621Z Collecting aiohttp
2022-05-20T19:23:46.8406147Z   Downloading aiohttp-3.8.1-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (1.1 MB)
2022-05-20T19:23:46.8605561Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1.1/1.1 MB 67.4 MB/s eta 0:00:00
2022-05-20T19:23:46.8876351Z Collecting aiohttp-cors==0.7.0
2022-05-20T19:23:46.8932931Z   Downloading aiohttp_cors-0.7.0-py3-none-any.whl (27 kB)
2022-05-20T19:23:46.9283592Z Collecting prometheus-client
2022-05-20T19:23:46.9418796Z   Downloading prometheus_client-0.14.1-py3-none-any.whl (59 kB)
2022-05-20T19:23:46.9529439Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 59.5/59.5 kB 6.1 MB/s eta 0:00:00
2022-05-20T19:23:46.9981319Z Collecting click>=7.0
2022-05-20T19:23:47.0034658Z   Downloading click-8.1.3-py3-none-any.whl (96 kB)
2022-05-20T19:23:47.0105402Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 96.6/96.6 kB 22.7 MB/s eta 0:00:00
2022-05-20T19:23:47.0519919Z Collecting gunicorn
2022-05-20T19:23:47.0569878Z   Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)
2022-05-20T19:23:47.0630704Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 79.5/79.5 kB 21.5 MB/s eta 0:00:00
2022-05-20T19:23:47.7801330Z Collecting boto3
2022-05-20T19:23:47.7854680Z   Downloading boto3-1.23.4-py3-none-any.whl (132 kB)
2022-05-20T19:23:47.7931418Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 132.5/132.5 kB 34.0 MB/s eta 0:00:00
2022-05-20T19:23:47.8614797Z Collecting sqlalchemy-utils<0.36.8
2022-05-20T19:23:47.8674873Z   Downloading SQLAlchemy-Utils-0.36.5.tar.gz (131 kB)
2022-05-20T19:23:47.8744167Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 131.2/131.2 kB 35.1 MB/s eta 0:00:00
2022-05-20T19:23:47.9353482Z   Preparing metadata (setup.py): started
2022-05-20T19:23:48.4329058Z   Preparing metadata (setup.py): finished with status 'done'
2022-05-20T19:23:48.4701717Z Collecting python-dateutil<3.0.0,>=2.7.3
2022-05-20T19:23:48.4767757Z   Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)
2022-05-20T19:23:48.4858694Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 247.7/247.7 kB 48.1 MB/s eta 0:00:00
2022-05-20T19:23:48.8346138Z Collecting protobuf>=3.8.0
2022-05-20T19:23:48.8436385Z   Downloading protobuf-3.20.1-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.whl (1.0 MB)
2022-05-20T19:23:48.8623665Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1.0/1.0 MB 66.9 MB/s eta 0:00:00
2022-05-20T19:23:48.9428557Z Collecting requests
2022-05-20T19:23:48.9482568Z   Downloading requests-2.27.1-py2.py3-none-any.whl (63 kB)
2022-05-20T19:23:48.9543512Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 63.1/63.1 kB 18.4 MB/s eta 0:00:00
2022-05-20T19:23:49.1527147Z Collecting psutil
2022-05-20T19:23:49.1599041Z   Downloading psutil-5.9.0-cp37-cp37m-manylinux_2_12_x86_64.manylinux2010_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (280 kB)
2022-05-20T19:23:49.1703782Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 280.7/280.7 kB 46.7 MB/s eta 0:00:00
2022-05-20T19:23:49.1926811Z Collecting tabulate
2022-05-20T19:23:49.1977072Z   Downloading tabulate-0.8.9-py3-none-any.whl (25 kB)
2022-05-20T19:23:49.2210791Z Collecting cerberus
2022-05-20T19:23:49.2262873Z   Downloading Cerberus-1.3.4.tar.gz (63 kB)
2022-05-20T19:23:49.2325200Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 63.8/63.8 kB 19.8 MB/s eta 0:00:00
2022-05-20T19:23:49.4967306Z   Installing build dependencies: started
2022-05-20T19:23:52.6803268Z   Installing build dependencies: finished with status 'done'
2022-05-20T19:23:52.6845041Z   Getting requirements to build wheel: started
2022-05-20T19:23:55.0375387Z   Getting requirements to build wheel: finished with status 'done'
2022-05-20T19:23:55.0411119Z   Preparing metadata (pyproject.toml): started
2022-05-20T19:23:57.4390782Z   Preparing metadata (pyproject.toml): finished with status 'done'
2022-05-20T19:23:57.4811261Z Collecting flask
2022-05-20T19:23:57.4867522Z   Downloading Flask-2.1.2-py3-none-any.whl (95 kB)
2022-05-20T19:23:57.4933839Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 95.2/95.2 kB 28.9 MB/s eta 0:00:00
2022-05-20T19:23:57.9582238Z Collecting sqlalchemy<1.4.0,>=1.3.0
2022-05-20T19:23:57.9760097Z   Downloading SQLAlchemy-1.3.24-cp37-cp37m-manylinux2010_x86_64.whl (1.3 MB)
2022-05-20T19:23:57.9973195Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1.3/1.3 MB 71.1 MB/s eta 0:00:00
2022-05-20T19:23:58.0727867Z Collecting humanfriendly
2022-05-20T19:23:58.0782988Z   Downloading humanfriendly-10.0-py2.py3-none-any.whl (86 kB)
2022-05-20T19:23:58.0850592Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 86.8/86.8 kB 22.8 MB/s eta 0:00:00
2022-05-20T19:23:58.1088593Z Collecting deepmerge
2022-05-20T19:23:58.1189832Z   Downloading deepmerge-1.0.1-py3-none-any.whl (8.0 kB)
2022-05-20T19:23:58.1498913Z Collecting schema
2022-05-20T19:23:58.1558497Z   Downloading schema-0.7.5-py2.py3-none-any.whl (17 kB)
2022-05-20T19:23:59.1576132Z Collecting grpcio
2022-05-20T19:23:59.1709461Z   Downloading grpcio-1.46.1-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.4 MB)
2022-05-20T19:23:59.2326718Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 4.4/4.4 MB 75.6 MB/s eta 0:00:00
2022-05-20T19:23:59.2719604Z Collecting python-json-logger
2022-05-20T19:23:59.2774433Z   Downloading python_json_logger-2.0.2-py3-none-any.whl (7.4 kB)
2022-05-20T19:23:59.3279110Z Collecting imageio>=2.5.0
2022-05-20T19:23:59.3374071Z   Downloading imageio-2.19.2-py3-none-any.whl (3.4 MB)
2022-05-20T19:23:59.3863857Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3.4/3.4 MB 74.1 MB/s eta 0:00:00
2022-05-20T19:23:59.4397706Z Collecting pytest-cov>=2.7.1
2022-05-20T19:23:59.4450234Z   Downloading pytest_cov-3.0.0-py3-none-any.whl (20 kB)
2022-05-20T19:23:59.4686766Z Collecting parameterized
2022-05-20T19:23:59.4739171Z   Downloading parameterized-0.8.1-py2.py3-none-any.whl (26 kB)
2022-05-20T19:23:59.9646301Z Collecting coverage>=4.4
2022-05-20T19:23:59.9781891Z   Downloading coverage-6.3.3-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (207 kB)
2022-05-20T19:23:59.9866740Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 208.0/208.0 kB 38.3 MB/s eta 0:00:00
2022-05-20T19:24:00.1064508Z Collecting pytest>=5.4.0
2022-05-20T19:24:00.1144577Z   Downloading pytest-7.1.2-py3-none-any.whl (297 kB)
2022-05-20T19:24:00.1242517Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 297.0/297.0 kB 47.1 MB/s eta 0:00:00
2022-05-20T19:24:00.9704431Z Collecting moto==1.3.14
2022-05-20T19:24:00.9884752Z   Downloading moto-1.3.14-py2.py3-none-any.whl (730 kB)
2022-05-20T19:24:01.0038919Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 730.7/730.7 kB 63.0 MB/s eta 0:00:00
2022-05-20T19:24:01.0397754Z Collecting idna<=2.8
2022-05-20T19:24:01.0651969Z   Downloading idna-2.8-py2.py3-none-any.whl (58 kB)
2022-05-20T19:24:01.0714939Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 58.6/58.6 kB 15.9 MB/s eta 0:00:00
2022-05-20T19:24:01.3531196Z Collecting pandas
2022-05-20T19:24:01.3595420Z   Downloading pandas-1.3.5-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (11.3 MB)
2022-05-20T19:24:01.4994662Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 11.3/11.3 MB 80.5 MB/s eta 0:00:00
2022-05-20T19:24:01.6004467Z Collecting pytest-asyncio
2022-05-20T19:24:01.6054048Z   Downloading pytest_asyncio-0.18.3-1-py3-none-any.whl (14 kB)
2022-05-20T19:24:01.6578461Z Collecting black==19.10b0
2022-05-20T19:24:01.6639622Z   Downloading black-19.10b0-py36-none-any.whl (97 kB)
2022-05-20T19:24:01.6708509Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 97.5/97.5 kB 23.7 MB/s eta 0:00:00
2022-05-20T19:24:01.9780740Z Collecting scikit-learn
2022-05-20T19:24:01.9928517Z   Downloading scikit_learn-1.0.2-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (24.8 MB)
2022-05-20T19:24:02.3093834Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 24.8/24.8 MB 56.3 MB/s eta 0:00:00
2022-05-20T19:24:02.4366948Z Collecting mock>=2.0.0
2022-05-20T19:24:02.4418873Z   Downloading mock-4.0.3-py3-none-any.whl (28 kB)
2022-05-20T19:24:02.5020180Z Collecting codecov
2022-05-20T19:24:02.5075055Z   Downloading codecov-2.1.12-py2.py3-none-any.whl (16 kB)
2022-05-20T19:24:02.5915013Z Collecting flake8>=3.8.2
2022-05-20T19:24:02.6021297Z   Downloading flake8-4.0.1-py2.py3-none-any.whl (64 kB)
2022-05-20T19:24:02.6088440Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 64.1/64.1 kB 15.2 MB/s eta 0:00:00
2022-05-20T19:24:02.6404606Z Collecting ecdsa==0.14
2022-05-20T19:24:02.6473383Z   Downloading ecdsa-0.14-py2.py3-none-any.whl (83 kB)
2022-05-20T19:24:02.6524980Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 83.2/83.2 kB 18.9 MB/s eta 0:00:00
2022-05-20T19:24:02.7518852Z Collecting pylint>=2.9.3
2022-05-20T19:24:02.7603865Z   Downloading pylint-2.13.9-py3-none-any.whl (438 kB)
2022-05-20T19:24:02.7715101Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 438.5/438.5 kB 56.7 MB/s eta 0:00:00
2022-05-20T19:24:02.8335997Z Collecting pathspec<1,>=0.6
2022-05-20T19:24:02.8384628Z   Downloading pathspec-0.9.0-py2.py3-none-any.whl (31 kB)
2022-05-20T19:24:02.8597272Z Collecting appdirs
2022-05-20T19:24:02.8648416Z   Downloading appdirs-1.4.4-py2.py3-none-any.whl (9.6 kB)
2022-05-20T19:24:02.8910063Z Collecting toml>=0.9.4
2022-05-20T19:24:02.8929525Z   Downloading toml-0.10.2-py2.py3-none-any.whl (16 kB)
2022-05-20T19:24:03.7301346Z Collecting regex
2022-05-20T19:24:03.7376449Z   Downloading regex-2022.4.24-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (749 kB)
2022-05-20T19:24:03.7528953Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 749.7/749.7 kB 64.6 MB/s eta 0:00:00
2022-05-20T19:24:03.8769329Z Collecting typed-ast>=1.4.0
2022-05-20T19:24:03.8825953Z   Downloading typed_ast-1.5.3-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (843 kB)
2022-05-20T19:24:03.8985338Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 843.7/843.7 kB 66.7 MB/s eta 0:00:00
2022-05-20T19:24:03.9350738Z Collecting attrs>=18.1.0
2022-05-20T19:24:03.9405232Z   Downloading attrs-21.4.0-py2.py3-none-any.whl (60 kB)
2022-05-20T19:24:03.9466157Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 60.6/60.6 kB 16.2 MB/s eta 0:00:00
2022-05-20T19:24:03.9801128Z Collecting six
2022-05-20T19:24:03.9852510Z   Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)
2022-05-20T19:24:04.0715890Z Collecting responses>=0.9.0
2022-05-20T19:24:04.0766802Z   Downloading responses-0.20.0-py3-none-any.whl (27 kB)
2022-05-20T19:24:04.1015452Z Collecting xmltodict
2022-05-20T19:24:04.1068574Z   Downloading xmltodict-0.13.0-py2.py3-none-any.whl (10.0 kB)
2022-05-20T19:24:04.1469217Z Collecting Jinja2>=2.10.1
2022-05-20T19:24:04.1523165Z   Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)
2022-05-20T19:24:04.1593676Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 133.1/133.1 kB 35.1 MB/s eta 0:00:00
2022-05-20T19:24:04.1966610Z Collecting sshpubkeys<4.0,>=3.1.0
2022-05-20T19:24:04.2016516Z   Downloading sshpubkeys-3.3.1-py2.py3-none-any.whl (10 kB)
2022-05-20T19:24:04.4070406Z Collecting cfn-lint>=0.4.0
2022-05-20T19:24:04.4128443Z   Downloading cfn_lint-0.60.1-py3-none-any.whl (8.5 MB)
2022-05-20T19:24:04.5175116Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 8.5/8.5 MB 84.4 MB/s eta 0:00:00
2022-05-20T19:24:04.5680378Z Collecting jsondiff==1.1.2
2022-05-20T19:24:04.5729375Z   Downloading jsondiff-1.1.2.tar.gz (7.8 kB)
2022-05-20T19:24:04.5814485Z   Preparing metadata (setup.py): started
2022-05-20T19:24:04.8170602Z   Preparing metadata (setup.py): finished with status 'done'
2022-05-20T19:24:04.8759545Z Collecting aws-xray-sdk!=0.96,>=0.93
2022-05-20T19:24:04.8814693Z   Downloading aws_xray_sdk-2.9.0-py2.py3-none-any.whl (98 kB)
2022-05-20T19:24:04.8891729Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 98.9/98.9 kB 23.0 MB/s eta 0:00:00
2022-05-20T19:24:05.0053169Z Collecting pytz
2022-05-20T19:24:05.0113215Z   Downloading pytz-2022.1-py2.py3-none-any.whl (503 kB)
2022-05-20T19:24:05.0239209Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 503.5/503.5 kB 55.3 MB/s eta 0:00:00
2022-05-20T19:24:05.0586752Z Collecting python-jose<4.0.0
2022-05-20T19:24:05.0634769Z   Downloading python_jose-3.3.0-py2.py3-none-any.whl (33 kB)
2022-05-20T19:24:05.1228940Z Collecting werkzeug
2022-05-20T19:24:05.1286032Z   Downloading Werkzeug-2.1.2-py3-none-any.whl (224 kB)
2022-05-20T19:24:05.1372099Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 224.9/224.9 kB 43.8 MB/s eta 0:00:00
2022-05-20T19:24:05.1909950Z Collecting boto>=2.36.0
2022-05-20T19:24:05.2066476Z   Downloading boto-2.49.0-py2.py3-none-any.whl (1.4 MB)
2022-05-20T19:24:05.2285859Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1.4/1.4 MB 72.7 MB/s eta 0:00:00
2022-05-20T19:24:05.8552840Z Collecting cryptography>=2.3.0
2022-05-20T19:24:05.8686322Z   Downloading cryptography-37.0.2-cp36-abi3-manylinux_2_24_x86_64.whl (4.0 MB)
2022-05-20T19:24:05.9258517Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 4.0/4.0 MB 75.0 MB/s eta 0:00:00
2022-05-20T19:24:06.8899472Z Collecting botocore>=1.12.201
2022-05-20T19:24:06.8959926Z   Downloading botocore-1.26.5-py3-none-any.whl (8.8 MB)
2022-05-20T19:24:07.0059953Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 8.8/8.8 MB 82.2 MB/s eta 0:00:00
2022-05-20T19:24:07.1400299Z Collecting PyYAML>=5.1
2022-05-20T19:24:07.1474514Z   Downloading PyYAML-6.0-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (596 kB)
2022-05-20T19:24:07.1608667Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 596.3/596.3 kB 61.1 MB/s eta 0:00:00
2022-05-20T19:24:07.7097522Z Collecting multidict<7.0,>=4.5
2022-05-20T19:24:07.7156489Z   Downloading multidict-6.0.2-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (94 kB)
2022-05-20T19:24:07.7224697Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 94.8/94.8 kB 23.1 MB/s eta 0:00:00
2022-05-20T19:24:07.7616778Z Collecting charset-normalizer<3.0,>=2.0
2022-05-20T19:24:07.7694684Z   Downloading charset_normalizer-2.0.12-py3-none-any.whl (39 kB)
2022-05-20T19:24:07.8686257Z Collecting frozenlist>=1.1.1
2022-05-20T19:24:07.8750747Z   Downloading frozenlist-1.3.0-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (144 kB)
2022-05-20T19:24:07.8825066Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 144.8/144.8 kB 34.2 MB/s eta 0:00:00
2022-05-20T19:24:07.9035615Z Collecting aiosignal>=1.1.2
2022-05-20T19:24:07.9084295Z   Downloading aiosignal-1.2.0-py3-none-any.whl (8.2 kB)
2022-05-20T19:24:07.9360387Z Collecting asynctest==0.13.0
2022-05-20T19:24:07.9408917Z   Downloading asynctest-0.13.0-py3-none-any.whl (26 kB)
2022-05-20T19:24:07.9703092Z Collecting async-timeout<5.0,>=4.0.0a3
2022-05-20T19:24:07.9760286Z   Downloading async_timeout-4.0.2-py3-none-any.whl (5.8 kB)
2022-05-20T19:24:08.2396270Z Collecting yarl<2.0,>=1.0
2022-05-20T19:24:08.2463768Z   Downloading yarl-1.7.2-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (271 kB)
2022-05-20T19:24:08.2562236Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 271.8/271.8 kB 41.2 MB/s eta 0:00:00
2022-05-20T19:24:08.2913156Z Collecting typing-extensions>=3.7.4
2022-05-20T19:24:08.2961688Z   Downloading typing_extensions-4.2.0-py3-none-any.whl (24 kB)
2022-05-20T19:24:08.3416525Z Collecting s3transfer<0.6.0,>=0.5.0
2022-05-20T19:24:08.3470252Z   Downloading s3transfer-0.5.2-py3-none-any.whl (79 kB)
2022-05-20T19:24:08.3538473Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 79.5/79.5 kB 19.2 MB/s eta 0:00:00
2022-05-20T19:24:08.5757621Z Collecting jmespath<2.0.0,>=0.7.1
2022-05-20T19:24:08.5807264Z   Downloading jmespath-1.0.0-py3-none-any.whl (23 kB)
2022-05-20T19:24:08.6900688Z Collecting importlib-metadata
2022-05-20T19:24:08.6953412Z   Downloading importlib_metadata-4.11.3-py3-none-any.whl (18 kB)
2022-05-20T19:24:08.7618817Z Collecting websocket-client>=0.32.0
2022-05-20T19:24:08.7697912Z   Downloading websocket_client-1.3.2-py3-none-any.whl (54 kB)
2022-05-20T19:24:08.7758905Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 54.3/54.3 kB 14.5 MB/s eta 0:00:00
2022-05-20T19:24:08.8386732Z Collecting pyflakes<2.5.0,>=2.4.0
2022-05-20T19:24:08.8438529Z   Downloading pyflakes-2.4.0-py2.py3-none-any.whl (69 kB)
2022-05-20T19:24:08.8497894Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 69.7/69.7 kB 20.3 MB/s eta 0:00:00
2022-05-20T19:24:08.8729379Z Collecting importlib-metadata
2022-05-20T19:24:08.8778830Z   Downloading importlib_metadata-4.2.0-py3-none-any.whl (16 kB)
2022-05-20T19:24:08.9205939Z Collecting mccabe<0.7.0,>=0.6.0
2022-05-20T19:24:08.9254328Z   Downloading mccabe-0.6.1-py2.py3-none-any.whl (8.6 kB)
2022-05-20T19:24:08.9688840Z Collecting pycodestyle<2.9.0,>=2.8.0
2022-05-20T19:24:08.9741625Z   Downloading pycodestyle-2.8.0-py2.py3-none-any.whl (42 kB)
2022-05-20T19:24:08.9803422Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 42.1/42.1 kB 11.5 MB/s eta 0:00:00
2022-05-20T19:24:09.5078043Z Collecting pillow>=8.3.2
2022-05-20T19:24:09.5202275Z   Downloading Pillow-9.1.1-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.1 MB)
2022-05-20T19:24:09.5678880Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3.1/3.1 MB 71.4 MB/s eta 0:00:00
2022-05-20T19:24:09.6543647Z Collecting tomli>=1.1.0
2022-05-20T19:24:09.6591528Z   Downloading tomli-2.0.1-py3-none-any.whl (12 kB)
2022-05-20T19:24:09.6885144Z Collecting platformdirs>=2.2.0
2022-05-20T19:24:09.6937776Z   Downloading platformdirs-2.5.2-py3-none-any.whl (14 kB)
2022-05-20T19:24:09.7768463Z Collecting astroid<=2.12.0-dev0,>=2.11.5
2022-05-20T19:24:09.7849449Z   Downloading astroid-2.11.5-py3-none-any.whl (250 kB)
2022-05-20T19:24:09.7935138Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 251.0/251.0 kB 31.3 MB/s eta 0:00:00
2022-05-20T19:24:09.8954976Z Collecting isort<6,>=4.2.5
2022-05-20T19:24:09.9005809Z   Downloading isort-5.10.1-py3-none-any.whl (103 kB)
2022-05-20T19:24:09.9068121Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 103.4/103.4 kB 29.9 MB/s eta 0:00:00
2022-05-20T19:24:09.9399086Z Collecting dill>=0.2
2022-05-20T19:24:09.9454066Z   Downloading dill-0.3.5.1-py2.py3-none-any.whl (95 kB)
2022-05-20T19:24:09.9516140Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 95.8/95.8 kB 27.4 MB/s eta 0:00:00
2022-05-20T19:24:10.0117914Z Collecting pluggy<2.0,>=0.12
2022-05-20T19:24:10.0169397Z   Downloading pluggy-1.0.0-py2.py3-none-any.whl (13 kB)
2022-05-20T19:24:10.0576433Z Collecting py>=1.8.2
2022-05-20T19:24:10.0627817Z   Downloading py-1.11.0-py2.py3-none-any.whl (98 kB)
2022-05-20T19:24:10.0693446Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 98.7/98.7 kB 26.3 MB/s eta 0:00:00
2022-05-20T19:24:10.1138754Z Collecting iniconfig
2022-05-20T19:24:10.1209656Z   Downloading iniconfig-1.1.1-py2.py3-none-any.whl (5.0 kB)
2022-05-20T19:24:10.3203886Z Collecting ruamel.yaml.clib>=0.2.6
2022-05-20T19:24:10.3272037Z   Downloading ruamel.yaml.clib-0.2.6-cp37-cp37m-manylinux1_x86_64.whl (546 kB)
2022-05-20T19:24:10.3390366Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 546.8/546.8 kB 63.8 MB/s eta 0:00:00
2022-05-20T19:24:10.5317388Z Collecting importlib-resources
2022-05-20T19:24:10.5366412Z   Downloading importlib_resources-5.7.1-py3-none-any.whl (28 kB)
2022-05-20T19:24:10.5740680Z Collecting Mako
2022-05-20T19:24:10.5820641Z   Downloading Mako-1.2.0-py3-none-any.whl (78 kB)
2022-05-20T19:24:10.5885044Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 78.4/78.4 kB 22.6 MB/s eta 0:00:00
2022-05-20T19:24:10.6147606Z Requirement already satisfied: setuptools in /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages (from cerberus->BentoML==0.13.1+29.g5b464785) (47.1.0)
2022-05-20T19:24:10.7526354Z Collecting itsdangerous>=2.0
2022-05-20T19:24:10.7576767Z   Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)
2022-05-20T19:24:10.9560477Z Collecting pyparsing!=3.0.5,>=2.0.2
2022-05-20T19:24:10.9616997Z   Downloading pyparsing-3.0.9-py3-none-any.whl (98 kB)
2022-05-20T19:24:10.9686661Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 98.3/98.3 kB 24.6 MB/s eta 0:00:00
2022-05-20T19:24:11.2929678Z Collecting contextlib2>=0.5.5
2022-05-20T19:24:11.2981266Z   Downloading contextlib2-21.6.0-py2.py3-none-any.whl (13 kB)
2022-05-20T19:24:11.4079051Z Collecting joblib>=0.11
2022-05-20T19:24:11.4152646Z   Downloading joblib-1.1.0-py2.py3-none-any.whl (306 kB)
2022-05-20T19:24:11.4243521Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 307.0/307.0 kB 54.0 MB/s eta 0:00:00
2022-05-20T19:24:11.7242216Z Collecting scipy>=1.1.0
2022-05-20T19:24:11.7310907Z   Downloading scipy-1.7.3-cp37-cp37m-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (38.1 MB)
2022-05-20T19:24:12.2534591Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 38.1/38.1 MB 43.9 MB/s eta 0:00:00
2022-05-20T19:24:12.4255961Z Collecting threadpoolctl>=2.0.0
2022-05-20T19:24:12.4308247Z   Downloading threadpoolctl-3.1.0-py3-none-any.whl (14 kB)
2022-05-20T19:24:12.6118929Z Collecting lazy-object-proxy>=1.4.0
2022-05-20T19:24:12.6179125Z   Downloading lazy_object_proxy-1.7.1-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (57 kB)
2022-05-20T19:24:12.6241288Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 57.8/57.8 kB 16.4 MB/s eta 0:00:00
2022-05-20T19:24:12.8051530Z Collecting wrapt<2,>=1.11
2022-05-20T19:24:12.8113777Z   Downloading wrapt-1.14.1-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (75 kB)
2022-05-20T19:24:12.8178312Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 75.2/75.2 kB 21.0 MB/s eta 0:00:00
2022-05-20T19:24:13.2033362Z Collecting future
2022-05-20T19:24:13.2085929Z   Downloading future-0.18.2.tar.gz (829 kB)
2022-05-20T19:24:13.2251255Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 829.2/829.2 kB 65.0 MB/s eta 0:00:00
2022-05-20T19:24:13.3725902Z   Preparing metadata (setup.py): started
2022-05-20T19:24:13.6507276Z   Preparing metadata (setup.py): finished with status 'done'
2022-05-20T19:24:13.7408902Z Collecting sarif-om~=1.0.4
2022-05-20T19:24:13.7463107Z   Downloading sarif_om-1.0.4-py3-none-any.whl (30 kB)
2022-05-20T19:24:13.7851215Z Collecting jsonpatch
2022-05-20T19:24:13.7900206Z   Downloading jsonpatch-1.32-py2.py3-none-any.whl (12 kB)
2022-05-20T19:24:13.8431213Z Collecting networkx~=2.4
2022-05-20T19:24:13.8508968Z   Downloading networkx-2.6.3-py3-none-any.whl (1.9 MB)
2022-05-20T19:24:13.8797875Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1.9/1.9 MB 76.2 MB/s eta 0:00:00
2022-05-20T19:24:13.9399981Z Collecting jsonschema~=3.0
2022-05-20T19:24:13.9453269Z   Downloading jsonschema-3.2.0-py2.py3-none-any.whl (56 kB)
2022-05-20T19:24:13.9512714Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 56.3/56.3 kB 17.3 MB/s eta 0:00:00
2022-05-20T19:24:13.9714954Z Collecting jschema-to-python~=1.2.3
2022-05-20T19:24:13.9767987Z   Downloading jschema_to_python-1.2.3-py3-none-any.whl (10 kB)
2022-05-20T19:24:13.9967984Z Collecting junit-xml~=1.9
2022-05-20T19:24:14.0017127Z   Downloading junit_xml-1.9-py2.py3-none-any.whl (7.1 kB)
2022-05-20T19:24:14.0481667Z Collecting aws-sam-translator>=1.45.0
2022-05-20T19:24:14.0566179Z   Downloading aws_sam_translator-1.45.0-py3-none-any.whl (228 kB)
2022-05-20T19:24:14.0650076Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 228.9/228.9 kB 45.9 MB/s eta 0:00:00
2022-05-20T19:24:14.4434427Z Collecting cffi>=1.12
2022-05-20T19:24:14.5388016Z   Downloading cffi-1.15.0-cp37-cp37m-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (427 kB)
2022-05-20T19:24:14.6389684Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 427.1/427.1 kB 36.7 MB/s eta 0:00:00
2022-05-20T19:24:14.7696223Z Collecting zipp>=0.5
2022-05-20T19:24:14.7745238Z   Downloading zipp-3.8.0-py3-none-any.whl (5.4 kB)
2022-05-20T19:24:14.9369205Z Collecting MarkupSafe>=2.0
2022-05-20T19:24:14.9427562Z   Downloading MarkupSafe-2.1.1-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)
2022-05-20T19:24:15.3049932Z Collecting pyasn1
2022-05-20T19:24:15.3106172Z   Downloading pyasn1-0.4.8-py2.py3-none-any.whl (77 kB)
2022-05-20T19:24:15.3169072Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 77.1/77.1 kB 22.3 MB/s eta 0:00:00
2022-05-20T19:24:15.3554281Z Collecting rsa
2022-05-20T19:24:15.3614428Z   Downloading rsa-4.8-py3-none-any.whl (39 kB)
2022-05-20T19:24:16.9342088Z Collecting pycparser
2022-05-20T19:24:16.9396271Z   Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)
2022-05-20T19:24:16.9467012Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 118.7/118.7 kB 29.9 MB/s eta 0:00:00
2022-05-20T19:24:17.0169301Z Collecting pbr
2022-05-20T19:24:17.0223865Z   Downloading pbr-5.9.0-py2.py3-none-any.whl (112 kB)
2022-05-20T19:24:17.0300625Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 112.3/112.3 kB 24.3 MB/s eta 0:00:00
2022-05-20T19:24:17.0771489Z Collecting jsonpickle
2022-05-20T19:24:17.0822742Z   Downloading jsonpickle-2.2.0-py2.py3-none-any.whl (39 kB)
2022-05-20T19:24:17.1763317Z Collecting pyrsistent>=0.14.0
2022-05-20T19:24:17.1814568Z   Downloading pyrsistent-0.18.1-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (117 kB)
2022-05-20T19:24:17.1891682Z      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 117.1/117.1 kB 26.0 MB/s eta 0:00:00
2022-05-20T19:24:17.4981448Z Collecting jsonpointer>=1.9
2022-05-20T19:24:17.5050379Z   Downloading jsonpointer-2.3-py2.py3-none-any.whl (7.8 kB)
2022-05-20T19:24:17.8362963Z Using legacy 'setup.py install' for jsondiff, since package 'wheel' is not installed.
2022-05-20T19:24:17.8364062Z Using legacy 'setup.py install' for sqlalchemy-utils, since package 'wheel' is not installed.
2022-05-20T19:24:17.8374388Z Using legacy 'setup.py install' for future, since package 'wheel' is not installed.
2022-05-20T19:24:17.8377233Z Building wheels for collected packages: cerberus
2022-05-20T19:24:17.8391742Z   Building wheel for cerberus (pyproject.toml): started
2022-05-20T19:24:20.7420390Z   Building wheel for cerberus (pyproject.toml): finished with status 'done'
2022-05-20T19:24:20.7435504Z   Created wheel for cerberus: filename=Cerberus-1.3.4-py3-none-any.whl size=58193 sha256=4cf5b75ef8265bb9f87c33542c937b238eeb3dbf4c8b54c74c91f2bd3eef2e48
2022-05-20T19:24:20.7438338Z   Stored in directory: /home/runner/.cache/pip/wheels/6c/bd/4b/a3b7dcd0bc718e601a9ba7cba5f7c1d73fd777b6dc48d6eaa0
2022-05-20T19:24:20.7474767Z Successfully built cerberus
2022-05-20T19:24:21.9393812Z Installing collected packages: tabulate, pytz, pyasn1, parameterized, mccabe, jsondiff, iniconfig, deepmerge, boto, appdirs, zipp, xmltodict, wrapt, werkzeug, websocket-client, urllib3, typing-extensions, typed-ast, tomli, toml, threadpoolctl, sqlalchemy, six, simple-di, ruamel.yaml.clib, rsa, regex, PyYAML, python-json-logger, pyrsistent, pyparsing, pyflakes, pycparser, pycodestyle, py, psutil, protobuf, prometheus-client, platformdirs, pillow, pbr, pathspec, numpy, networkx, multidict, mock, MarkupSafe, lazy-object-proxy, jsonpointer, joblib, jmespath, itsdangerous, isort, idna, humanfriendly, gunicorn, future, frozenlist, dill, coverage, contextlib2, configparser, charset-normalizer, chardet, certifi, cerberus, attrs, asynctest, yarl, sqlalchemy-utils, scipy, schema, sarif-om, ruamel.yaml, requests, python-dateutil, packaging, junit-xml, jsonpatch, Jinja2, importlib-resources, importlib-metadata, imageio, grpcio, ecdsa, cffi, async-timeout, astroid, aiosignal, scikit-learn, responses, python-jose, pylint, pluggy, pandas, Mako, jsonschema, jsonpickle, flake8, docker, cryptography, codecov, click, botocore, aiohttp, sshpubkeys, s3transfer, pytest, jschema-to-python, flask, black, aws-xray-sdk, alembic, aiohttp-cors, pytest-cov, pytest-asyncio, boto3, BentoML, aws-sam-translator, cfn-lint, moto
2022-05-20T19:24:22.2651905Z   Running setup.py install for jsondiff: started
2022-05-20T19:24:22.5676744Z   Running setup.py install for jsondiff: finished with status 'done'
2022-05-20T19:24:29.5589108Z   Running setup.py install for future: started
2022-05-20T19:24:30.2523733Z   Running setup.py install for future: finished with status 'done'
2022-05-20T19:24:30.8377607Z   Running setup.py install for sqlalchemy-utils: started
2022-05-20T19:24:31.2717663Z   Running setup.py install for sqlalchemy-utils: finished with status 'done'
2022-05-20T19:24:44.6095192Z   Running setup.py develop for BentoML
2022-05-20T19:24:50.4356250Z Successfully installed BentoML-0.13.1+29.g5b464785 Jinja2-3.1.2 Mako-1.2.0 MarkupSafe-2.1.1 PyYAML-6.0 aiohttp-3.8.1 aiohttp-cors-0.7.0 aiosignal-1.2.0 alembic-1.7.7 appdirs-1.4.4 astroid-2.11.5 async-timeout-4.0.2 asynctest-0.13.0 attrs-21.4.0 aws-sam-translator-1.45.0 aws-xray-sdk-2.9.0 black-19.10b0 boto-2.49.0 boto3-1.23.4 botocore-1.26.5 cerberus-1.3.4 certifi-2022.5.18.1 cffi-1.15.0 cfn-lint-0.60.1 chardet-4.0.0 charset-normalizer-2.0.12 click-8.1.3 codecov-2.1.12 configparser-5.2.0 contextlib2-21.6.0 coverage-6.3.3 cryptography-37.0.2 deepmerge-1.0.1 dill-0.3.5.1 docker-5.0.3 ecdsa-0.14 flake8-4.0.1 flask-2.1.2 frozenlist-1.3.0 future-0.18.2 grpcio-1.46.1 gunicorn-20.1.0 humanfriendly-10.0 idna-2.8 imageio-2.19.2 importlib-metadata-4.2.0 importlib-resources-5.7.1 iniconfig-1.1.1 isort-5.10.1 itsdangerous-2.1.2 jmespath-1.0.0 joblib-1.1.0 jschema-to-python-1.2.3 jsondiff-1.1.2 jsonpatch-1.32 jsonpickle-2.2.0 jsonpointer-2.3 jsonschema-3.2.0 junit-xml-1.9 lazy-object-proxy-1.7.1 mccabe-0.6.1 mock-4.0.3 moto-1.3.14 multidict-6.0.2 networkx-2.6.3 numpy-1.21.6 packaging-21.3 pandas-1.3.5 parameterized-0.8.1 pathspec-0.9.0 pbr-5.9.0 pillow-9.1.1 platformdirs-2.5.2 pluggy-1.0.0 prometheus-client-0.14.1 protobuf-3.20.1 psutil-5.9.0 py-1.11.0 pyasn1-0.4.8 pycodestyle-2.8.0 pycparser-2.21 pyflakes-2.4.0 pylint-2.13.9 pyparsing-3.0.9 pyrsistent-0.18.1 pytest-7.1.2 pytest-asyncio-0.18.3 pytest-cov-3.0.0 python-dateutil-2.8.2 python-jose-3.3.0 python-json-logger-2.0.2 pytz-2022.1 regex-2022.4.24 requests-2.27.1 responses-0.20.0 rsa-4.8 ruamel.yaml-0.17.21 ruamel.yaml.clib-0.2.6 s3transfer-0.5.2 sarif-om-1.0.4 schema-0.7.5 scikit-learn-1.0.2 scipy-1.7.3 simple-di-0.1.0 six-1.16.0 sqlalchemy-1.3.24 sqlalchemy-utils-0.36.5 sshpubkeys-3.3.1 tabulate-0.8.9 threadpoolctl-3.1.0 toml-0.10.2 tomli-2.0.1 typed-ast-1.5.3 typing-extensions-4.2.0 urllib3-1.26.6 websocket-client-1.3.2 werkzeug-2.1.2 wrapt-1.14.1 xmltodict-0.13.0 yarl-1.7.2 zipp-3.8.0
2022-05-20T19:24:51.3784165Z ++ exit
2022-05-20T19:24:51.3821220Z ##[group]Run ./ci/unit_tests.sh
2022-05-20T19:24:51.3821523Z [36;1m./ci/unit_tests.sh[0m
2022-05-20T19:24:51.3876068Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2022-05-20T19:24:51.3876362Z env:
2022-05-20T19:24:51.3876654Z   pythonLocation: /opt/hostedtoolcache/Python/3.7.13/x64
2022-05-20T19:24:51.3877026Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.7.13/x64/lib
2022-05-20T19:24:51.3877316Z ##[endgroup]
2022-05-20T19:24:51.3979057Z + error=0
2022-05-20T19:24:51.3979322Z + trap error=1 ERR
2022-05-20T19:24:51.3984724Z ++ git rev-parse --show-toplevel
2022-05-20T19:24:51.4001274Z + GIT_ROOT=/home/runner/work/BentoML/BentoML
2022-05-20T19:24:51.4002961Z + cd /home/runner/work/BentoML/BentoML
2022-05-20T19:24:51.4005224Z + python -m pytest tests --cov=bentoml --cov-config=.coveragerc --ignore tests/integration
2022-05-20T19:25:00.2625767Z ============================= test session starts ==============================
2022-05-20T19:25:00.2626563Z platform linux -- Python 3.7.13, pytest-7.1.2, pluggy-1.0.0
2022-05-20T19:25:00.2626949Z rootdir: /home/runner/work/BentoML/BentoML, configfile: pytest.ini
2022-05-20T19:25:00.2627339Z plugins: cov-3.0.0, asyncio-0.18.3
2022-05-20T19:25:00.2627598Z asyncio: mode=legacy
2022-05-20T19:25:00.2627831Z collected 410 items
2022-05-20T19:25:00.2627976Z 
2022-05-20T19:25:06.0760308Z tests/test_auto_pip_dependency.py ...                                    [  0%]
2022-05-20T19:25:21.7205806Z tests/test_bundle_local_dependencies.py ...                              [  1%]
2022-05-20T19:25:26.2349438Z tests/test_labels.py ...                                                 [  2%]
2022-05-20T19:25:51.3236283Z tests/test_lock.py ..                                                    [  2%]
2022-05-20T19:26:37.7300423Z tests/test_pip_install_saved_bundle.py .                                 [  2%]
2022-05-20T19:26:57.8186763Z tests/test_save_and_load.py .........                                    [  5%]
2022-05-20T19:26:57.8377338Z tests/test_service.py .......                                            [  6%]
2022-05-20T19:27:14.0949830Z tests/test_service_env.py .............                                  [ 10%]
2022-05-20T19:27:14.2609429Z tests/adapters/test_annotated_image_input.py ...............             [ 13%]
2022-05-20T19:27:14.6208083Z tests/adapters/test_dataframe_input.py ..s.s.s.......................... [ 21%]
2022-05-20T19:27:15.0158800Z ........................................................................ [ 39%]
2022-05-20T19:27:18.8257587Z ........................................                                 [ 49%]
2022-05-20T19:27:18.9209244Z tests/adapters/test_file_input.py ......                                 [ 50%]
2022-05-20T19:27:19.0420367Z tests/adapters/test_image_input.py ....                                  [ 51%]
2022-05-20T19:27:19.1080767Z tests/adapters/test_json_input.py ....                                   [ 52%]
2022-05-20T19:27:19.1498726Z tests/adapters/test_multi_file_input.py ........                         [ 54%]
2022-05-20T19:27:19.1906537Z tests/adapters/test_multi_image_input.py .......                         [ 56%]
2022-05-20T19:27:19.2069406Z tests/adapters/test_string_input.py ..                                   [ 56%]
2022-05-20T19:27:19.3208437Z tests/adapters/test_tf_tensor_input.py .s.s.s.s.s.s.s.s.s.s.s.s.s.s      [ 63%]
2022-05-20T19:27:19.3278409Z tests/adapters/test_utils.py ....                                        [ 64%]
2022-05-20T19:27:19.3512393Z tests/artifact/test_bento_service_artifact.py ....                       [ 65%]
2022-05-20T19:27:21.0580165Z tests/artifact/test_json_artifact.py .                                   [ 65%]
2022-05-20T19:27:21.0607163Z tests/cli/test_bento_management.py .                                     [ 65%]
2022-05-20T19:27:23.9013043Z tests/cli/test_cli.py .........................                          [ 71%]
2022-05-20T19:27:24.7938369Z tests/cli/test_yatai_service.py ..                                       [ 72%]
2022-05-20T19:27:25.9643887Z tests/configuration/test_configuration.py ....                           [ 73%]
2022-05-20T19:27:27.0466908Z tests/configuration/test_containers.py ................                  [ 77%]
2022-05-20T19:27:27.3465480Z tests/deployment/aws_lambda/test_aws_lambda_deployment_operator.py ..... [ 78%]
2022-05-20T19:27:27.4217856Z ...                                                                      [ 79%]
2022-05-20T19:27:31.8155484Z tests/deployment/sagemaker/test_sagemaker.py .FFFFFF                     [ 80%]
2022-05-20T19:28:09.3073338Z tests/marshal/test_dispatcher.py .......                                 [ 82%]
2022-05-20T19:28:13.8021294Z tests/server/test_model_api_server.py ..                                 [ 83%]
2022-05-20T19:28:13.8495505Z tests/utils/test_log.py .....                                            [ 84%]
2022-05-20T19:28:18.0277476Z tests/utils/test_usage_stats.py ........                                 [ 86%]
2022-05-20T19:28:54.3729476Z tests/yatai/test_delete.py .......                                       [ 88%]
2022-05-20T19:28:54.3792444Z tests/yatai/test_deployment_utils.py ...                                 [ 88%]
2022-05-20T19:28:55.4612827Z tests/yatai/test_grpc_server_interceptor.py ..................FFFF       [ 94%]
2022-05-20T19:28:55.4684532Z tests/yatai/test_label_selector_utils.py ...                             [ 94%]
2022-05-20T19:28:55.5005624Z tests/yatai/test_validators.py ..                                        [ 95%]
2022-05-20T19:28:55.5053785Z tests/yatai/client/test_label_utils.py ..                                [ 95%]
2022-05-20T19:28:55.5590344Z tests/yatai/deployment/test_aws_utils.py ....                            [ 96%]
2022-05-20T19:28:55.5702369Z tests/yatai/deployment/test_deployment_docker_utils.py ...               [ 97%]
2022-05-20T19:28:55.6703931Z tests/yatai/deployment/aws_ec2/test_ec2_deployment_operator.py ......... [ 99%]
2022-05-20T19:28:57.2171671Z .                                                                        [100%]
2022-05-20T19:28:57.2171918Z 
2022-05-20T19:28:57.2172050Z =================================== FAILURES ===================================
2022-05-20T19:28:57.2172758Z ___________________ test_sagemaker_apply_fail_not_local_repo ___________________
2022-05-20T19:28:57.2172981Z 
2022-05-20T19:28:57.2173275Z self = <docker.api.client.APIClient object at 0x7f647e8c4f10>
2022-05-20T19:28:57.2173583Z 
2022-05-20T19:28:57.2174087Z     def _retrieve_server_version(self):
2022-05-20T19:28:57.2174453Z         try:
2022-05-20T19:28:57.2174758Z >           return self.version(api_version=False)["ApiVersion"]
2022-05-20T19:28:57.2174970Z 
2022-05-20T19:28:57.2175663Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:214: 
2022-05-20T19:28:57.2176170Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2176432Z 
2022-05-20T19:28:57.2176687Z self = <docker.api.client.APIClient object at 0x7f647e8c4f10>
2022-05-20T19:28:57.2176992Z api_version = False
2022-05-20T19:28:57.2177141Z 
2022-05-20T19:28:57.2177368Z     def version(self, api_version=True):
2022-05-20T19:28:57.2177717Z         """
2022-05-20T19:28:57.2178134Z         Returns version information from the server. Similar to the ``docker
2022-05-20T19:28:57.2178553Z         version`` command.
2022-05-20T19:28:57.2178867Z     
2022-05-20T19:28:57.2179097Z         Returns:
2022-05-20T19:28:57.2179953Z             (dict): The server version information
2022-05-20T19:28:57.2180291Z     
2022-05-20T19:28:57.2180509Z         Raises:
2022-05-20T19:28:57.2180957Z             :py:class:`docker.errors.APIError`
2022-05-20T19:28:57.2181345Z                 If the server returns an error.
2022-05-20T19:28:57.2181685Z         """
2022-05-20T19:28:57.2181988Z         url = self._url("/version", versioned_api=api_version)
2022-05-20T19:28:57.2182421Z >       return self._result(self._get(url), json=True)
2022-05-20T19:28:57.2182698Z 
2022-05-20T19:28:57.2183325Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/daemon.py:181: 
2022-05-20T19:28:57.2183742Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2184049Z 
2022-05-20T19:28:57.2184334Z self = <docker.api.client.APIClient object at 0x7f647e8c4f10>
2022-05-20T19:28:57.2184958Z args = ('http+docker://localhost/version',), kwargs = {}
2022-05-20T19:28:57.2185272Z 
2022-05-20T19:28:57.2185506Z     def inner(self, *args, **kwargs):
2022-05-20T19:28:57.2185900Z         if 'HttpHeaders' in self._general_configs:
2022-05-20T19:28:57.2186276Z             if not kwargs.get('headers'):
2022-05-20T19:28:57.2186714Z                 kwargs['headers'] = self._general_configs['HttpHeaders']
2022-05-20T19:28:57.2187108Z             else:
2022-05-20T19:28:57.2187564Z                 kwargs['headers'].update(self._general_configs['HttpHeaders'])
2022-05-20T19:28:57.2188005Z >       return f(self, *args, **kwargs)
2022-05-20T19:28:57.2188174Z 
2022-05-20T19:28:57.2188656Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/utils/decorators.py:46: 
2022-05-20T19:28:57.2189142Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2189405Z 
2022-05-20T19:28:57.2189664Z self = <docker.api.client.APIClient object at 0x7f647e8c4f10>
2022-05-20T19:28:57.2190176Z url = 'http+docker://localhost/version', kwargs = {'timeout': 60}
2022-05-20T19:28:57.2190414Z 
2022-05-20T19:28:57.2190510Z     @update_headers
2022-05-20T19:28:57.2190879Z     def _get(self, url, **kwargs):
2022-05-20T19:28:57.2191263Z >       return self.get(url, **self._set_request_timeout(kwargs))
2022-05-20T19:28:57.2191549Z 
2022-05-20T19:28:57.2191991Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:237: 
2022-05-20T19:28:57.2192381Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2192548Z 
2022-05-20T19:28:57.2192843Z self = <docker.api.client.APIClient object at 0x7f647e8c4f10>
2022-05-20T19:28:57.2193274Z url = 'http+docker://localhost/version'
2022-05-20T19:28:57.2193803Z kwargs = {'allow_redirects': True, 'timeout': 60}
2022-05-20T19:28:57.2194089Z 
2022-05-20T19:28:57.2194453Z     def get(self, url, **kwargs):
2022-05-20T19:28:57.2194780Z         r"""Sends a GET request. Returns :class:`Response` object.
2022-05-20T19:28:57.2195042Z     
2022-05-20T19:28:57.2195485Z         :param url: URL for the new :class:`Request` object.
2022-05-20T19:28:57.2195871Z         :param \*\*kwargs: Optional arguments that ``request`` takes.
2022-05-20T19:28:57.2196187Z         :rtype: requests.Response
2022-05-20T19:28:57.2196426Z         """
2022-05-20T19:28:57.2196649Z     
2022-05-20T19:28:57.2197015Z         kwargs.setdefault('allow_redirects', True)
2022-05-20T19:28:57.2197417Z >       return self.request('GET', url, **kwargs)
2022-05-20T19:28:57.2197754Z 
2022-05-20T19:28:57.2198241Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:542: 
2022-05-20T19:28:57.2198633Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2198914Z 
2022-05-20T19:28:57.2199230Z self = <docker.api.client.APIClient object at 0x7f647e8c4f10>, method = 'GET'
2022-05-20T19:28:57.2199881Z url = 'http+docker://localhost/version', params = None, data = None
2022-05-20T19:28:57.2200395Z headers = None, cookies = None, files = None, auth = None, timeout = 60
2022-05-20T19:28:57.2201103Z allow_redirects = True, proxies = {}, hooks = None, stream = None, verify = None
2022-05-20T19:28:57.2201503Z cert = None, json = None
2022-05-20T19:28:57.2201756Z 
2022-05-20T19:28:57.2201958Z     def request(self, method, url,
2022-05-20T19:28:57.2202300Z             params=None, data=None, headers=None, cookies=None, files=None,
2022-05-20T19:28:57.2202782Z             auth=None, timeout=None, allow_redirects=True, proxies=None,
2022-05-20T19:28:57.2203253Z             hooks=None, stream=None, verify=None, cert=None, json=None):
2022-05-20T19:28:57.2203835Z         """Constructs a :class:`Request <Request>`, prepares it and sends it.
2022-05-20T19:28:57.2204339Z         Returns :class:`Response <Response>` object.
2022-05-20T19:28:57.2204690Z     
2022-05-20T19:28:57.2204987Z         :param method: method for the new :class:`Request` object.
2022-05-20T19:28:57.2205341Z         :param url: URL for the new :class:`Request` object.
2022-05-20T19:28:57.2205720Z         :param params: (optional) Dictionary or bytes to be sent in the query
2022-05-20T19:28:57.2206063Z             string for the :class:`Request`.
2022-05-20T19:28:57.2207091Z         :param data: (optional) Dictionary, list of tuples, bytes, or file-like
2022-05-20T19:28:57.2207688Z             object to send in the body of the :class:`Request`.
2022-05-20T19:28:57.2208144Z         :param json: (optional) json to send in the body of the
2022-05-20T19:28:57.2208530Z             :class:`Request`.
2022-05-20T19:28:57.2208939Z         :param headers: (optional) Dictionary of HTTP Headers to send with the
2022-05-20T19:28:57.2209354Z             :class:`Request`.
2022-05-20T19:28:57.2209777Z         :param cookies: (optional) Dict or CookieJar object to send with the
2022-05-20T19:28:57.2210181Z             :class:`Request`.
2022-05-20T19:28:57.2210690Z         :param files: (optional) Dictionary of ``'filename': file-like-objects``
2022-05-20T19:28:57.2211052Z             for multipart encoding upload.
2022-05-20T19:28:57.2211389Z         :param auth: (optional) Auth tuple or callable to enable
2022-05-20T19:28:57.2211698Z             Basic/Digest/Custom HTTP Auth.
2022-05-20T19:28:57.2212157Z         :param timeout: (optional) How long to wait for the server to send
2022-05-20T19:28:57.2212643Z             data before giving up, as a float, or a :ref:`(connect timeout,
2022-05-20T19:28:57.2213074Z             read timeout) <timeouts>` tuple.
2022-05-20T19:28:57.2213437Z         :type timeout: float or tuple
2022-05-20T19:28:57.2213865Z         :param allow_redirects: (optional) Set to True by default.
2022-05-20T19:28:57.2214280Z         :type allow_redirects: bool
2022-05-20T19:28:57.2214735Z         :param proxies: (optional) Dictionary mapping protocol or protocol and
2022-05-20T19:28:57.2215172Z             hostname to the URL of the proxy.
2022-05-20T19:28:57.2215624Z         :param stream: (optional) whether to immediately download the response
2022-05-20T19:28:57.2216063Z             content. Defaults to ``False``.
2022-05-20T19:28:57.2216540Z         :param verify: (optional) Either a boolean, in which case it controls whether we verify
2022-05-20T19:28:57.2217182Z             the server's TLS certificate, or a string, in which case it must be a path
2022-05-20T19:28:57.2217679Z             to a CA bundle to use. Defaults to ``True``. When set to
2022-05-20T19:28:57.2218157Z             ``False``, requests will accept any TLS certificate presented by
2022-05-20T19:28:57.2218636Z             the server, and will ignore hostname mismatches and/or expired
2022-05-20T19:28:57.2219126Z             certificates, which will make your application vulnerable to
2022-05-20T19:28:57.2219717Z             man-in-the-middle (MitM) attacks. Setting verify to ``False``
2022-05-20T19:28:57.2220202Z             may be useful during local development or testing.
2022-05-20T19:28:57.2220680Z         :param cert: (optional) if String, path to ssl client cert file (.pem).
2022-05-20T19:28:57.2221204Z             If Tuple, ('cert', 'key') pair.
2022-05-20T19:28:57.2221792Z         :rtype: requests.Response
2022-05-20T19:28:57.2222132Z         """
2022-05-20T19:28:57.2222483Z         # Create the Request.
2022-05-20T19:28:57.2222804Z         req = Request(
2022-05-20T19:28:57.2223169Z             method=method.upper(),
2022-05-20T19:28:57.2223509Z             url=url,
2022-05-20T19:28:57.2223819Z             headers=headers,
2022-05-20T19:28:57.2224135Z             files=files,
2022-05-20T19:28:57.2224464Z             data=data or {},
2022-05-20T19:28:57.2224789Z             json=json,
2022-05-20T19:28:57.2225232Z             params=params or {},
2022-05-20T19:28:57.2225599Z             auth=auth,
2022-05-20T19:28:57.2225910Z             cookies=cookies,
2022-05-20T19:28:57.2226246Z             hooks=hooks,
2022-05-20T19:28:57.2226539Z         )
2022-05-20T19:28:57.2226833Z         prep = self.prepare_request(req)
2022-05-20T19:28:57.2227083Z     
2022-05-20T19:28:57.2227296Z         proxies = proxies or {}
2022-05-20T19:28:57.2227534Z     
2022-05-20T19:28:57.2227796Z         settings = self.merge_environment_settings(
2022-05-20T19:28:57.2228122Z             prep.url, proxies, stream, verify, cert
2022-05-20T19:28:57.2228369Z         )
2022-05-20T19:28:57.2228564Z     
2022-05-20T19:28:57.2228886Z         # Send the request.
2022-05-20T19:28:57.2229138Z         send_kwargs = {
2022-05-20T19:28:57.2229475Z             'timeout': timeout,
2022-05-20T19:28:57.2229830Z             'allow_redirects': allow_redirects,
2022-05-20T19:28:57.2230174Z         }
2022-05-20T19:28:57.2230447Z         send_kwargs.update(settings)
2022-05-20T19:28:57.2230838Z >       resp = self.send(prep, **send_kwargs)
2022-05-20T19:28:57.2231105Z 
2022-05-20T19:28:57.2231878Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:529: 
2022-05-20T19:28:57.2232373Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2232632Z 
2022-05-20T19:28:57.2232895Z self = <docker.api.client.APIClient object at 0x7f647e8c4f10>
2022-05-20T19:28:57.2233242Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.2233734Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.2234329Z allow_redirects = True, stream = False, hooks = {'response': []}
2022-05-20T19:28:57.2234877Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f647e8b8650>
2022-05-20T19:28:57.2235535Z start = 1653074847.6789289
2022-05-20T19:28:57.2235805Z 
2022-05-20T19:28:57.2236009Z     def send(self, request, **kwargs):
2022-05-20T19:28:57.2236300Z         """Send a given PreparedRequest.
2022-05-20T19:28:57.2236547Z     
2022-05-20T19:28:57.2236776Z         :rtype: requests.Response
2022-05-20T19:28:57.2237013Z         """
2022-05-20T19:28:57.2237694Z         # Set defaults that the hooks can utilize to ensure they always have
2022-05-20T19:28:57.2238289Z         # the correct parameters to reproduce the previous request.
2022-05-20T19:28:57.2238875Z         kwargs.setdefault('stream', self.stream)
2022-05-20T19:28:57.2239396Z         kwargs.setdefault('verify', self.verify)
2022-05-20T19:28:57.2239899Z         kwargs.setdefault('cert', self.cert)
2022-05-20T19:28:57.2240374Z         if 'proxies' not in kwargs:
2022-05-20T19:28:57.2240857Z             kwargs['proxies'] = resolve_proxies(
2022-05-20T19:28:57.2241275Z                 request, self.proxies, self.trust_env
2022-05-20T19:28:57.2241632Z             )
2022-05-20T19:28:57.2241925Z     
2022-05-20T19:28:57.2242366Z         # It's possible that users might accidentally send a Request object.
2022-05-20T19:28:57.2242823Z         # Guard against that specific failure case.
2022-05-20T19:28:57.2243230Z         if isinstance(request, Request):
2022-05-20T19:28:57.2243779Z             raise ValueError('You can only send PreparedRequests.')
2022-05-20T19:28:57.2244168Z     
2022-05-20T19:28:57.2244487Z         # Set up variables needed for resolve_redirects and dispatching of hooks
2022-05-20T19:28:57.2245074Z         allow_redirects = kwargs.pop('allow_redirects', True)
2022-05-20T19:28:57.2245832Z         stream = kwargs.get('stream')
2022-05-20T19:28:57.2246243Z         hooks = request.hooks
2022-05-20T19:28:57.2246564Z     
2022-05-20T19:28:57.2246839Z         # Get the appropriate adapter to use
2022-05-20T19:28:57.2247255Z         adapter = self.get_adapter(url=request.url)
2022-05-20T19:28:57.2247590Z     
2022-05-20T19:28:57.2247876Z         # Start time (approximately) of the request
2022-05-20T19:28:57.2248473Z         start = preferred_clock()
2022-05-20T19:28:57.2248695Z     
2022-05-20T19:28:57.2249052Z         # Send the request
2022-05-20T19:28:57.2249531Z >       r = adapter.send(request, **kwargs)
2022-05-20T19:28:57.2249798Z 
2022-05-20T19:28:57.2250275Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:645: 
2022-05-20T19:28:57.2250655Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2250828Z 
2022-05-20T19:28:57.2251195Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f647e8b8650>
2022-05-20T19:28:57.2251687Z request = <PreparedRequest [GET]>, a = ()
2022-05-20T19:28:57.2252276Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.2252600Z 
2022-05-20T19:28:57.2252862Z     def unbound_on_send(adapter, request, *a, **kwargs):
2022-05-20T19:28:57.2253199Z >       return self._on_request(adapter, request, *a, **kwargs)
2022-05-20T19:28:57.2253395Z 
2022-05-20T19:28:57.2253858Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:841: 
2022-05-20T19:28:57.2254341Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2254597Z 
2022-05-20T19:28:57.2254844Z self = <responses.RequestsMock object at 0x7f64a905d950>
2022-05-20T19:28:57.2255267Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f647e8b8650>
2022-05-20T19:28:57.2255659Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.2256156Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.2256497Z 
2022-05-20T19:28:57.2256767Z     def _on_request(self, adapter, request, **kwargs):
2022-05-20T19:28:57.2257286Z         # add attributes params and req_kwargs to 'request' object for further match comparison
2022-05-20T19:28:57.2257805Z         # original request object does not have these attributes
2022-05-20T19:28:57.2258282Z         request.params = self._parse_request_params(request.path_url)
2022-05-20T19:28:57.2258711Z         request.req_kwargs = kwargs
2022-05-20T19:28:57.2259032Z     
2022-05-20T19:28:57.2259335Z >       match, match_failed_reasons = self._find_match(request)
2022-05-20T19:28:57.2259534Z 
2022-05-20T19:28:57.2259993Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:779: 
2022-05-20T19:28:57.2260479Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2260743Z 
2022-05-20T19:28:57.2260984Z self = <responses.RequestsMock object at 0x7f64a905d950>
2022-05-20T19:28:57.2261299Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.2261561Z 
2022-05-20T19:28:57.2261690Z     def _find_match(self, request):
2022-05-20T19:28:57.2262025Z         """
2022-05-20T19:28:57.2262470Z         Iterates through all available matches and validates if any of them matches the request
2022-05-20T19:28:57.2262882Z     
2022-05-20T19:28:57.2263181Z         :param request: (PreparedRequest), request object
2022-05-20T19:28:57.2263548Z         :return:
2022-05-20T19:28:57.2263889Z             (Response) found match. If multiple found, then remove & return the first match.
2022-05-20T19:28:57.2264487Z             (list) list with reasons why other matches don't match
2022-05-20T19:28:57.2264867Z         """
2022-05-20T19:28:57.2265145Z >       return self._registry.find(request)
2022-05-20T19:28:57.2265322Z 
2022-05-20T19:28:57.2265764Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:762: 
2022-05-20T19:28:57.2266427Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2266688Z 
2022-05-20T19:28:57.2266983Z self = <responses.registries.FirstMatchRegistry object at 0x7f647f0aec50>
2022-05-20T19:28:57.2267358Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.2267532Z 
2022-05-20T19:28:57.2267604Z     def find(
2022-05-20T19:28:57.2267966Z         self, request: "PreparedRequest"
2022-05-20T19:28:57.2268504Z     ) -> Tuple[Optional["BaseResponse"], List[str]]:
2022-05-20T19:28:57.2269008Z         found = None
2022-05-20T19:28:57.2269370Z         found_match = None
2022-05-20T19:28:57.2269727Z         match_failed_reasons = []
2022-05-20T19:28:57.2270127Z         for i, response in enumerate(self.registered):
2022-05-20T19:28:57.2270573Z >           match_result, reason = response.matches(request)
2022-05-20T19:28:57.2270862Z 
2022-05-20T19:28:57.2271324Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/registries.py:32: 
2022-05-20T19:28:57.2271730Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2271895Z 
2022-05-20T19:28:57.2272092Z self = <moto.core.models.CallbackResponse object at 0x7f647ee3d290>
2022-05-20T19:28:57.2273435Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.2273850Z 
2022-05-20T19:28:57.2274063Z     def matches(self, request):
2022-05-20T19:28:57.2274356Z         if request.method != self.method:
2022-05-20T19:28:57.2274779Z             return False, "Method does not match"
2022-05-20T19:28:57.2275130Z     
2022-05-20T19:28:57.2275552Z >       if not self._url_matches(self.url, request.url):
2022-05-20T19:28:57.2275844Z 
2022-05-20T19:28:57.2276353Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:350: 
2022-05-20T19:28:57.2276741Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2276912Z 
2022-05-20T19:28:57.2277244Z self = <moto.core.models.CallbackResponse object at 0x7f647ee3d290>
2022-05-20T19:28:57.2277809Z url = re.compile('https?://ecr.(.+).amazonaws.com/$')
2022-05-20T19:28:57.2278433Z other = 'http+docker://localhost/version', match_querystring = False
2022-05-20T19:28:57.2278771Z 
2022-05-20T19:28:57.2279017Z     def _url_matches(self, url, other, match_querystring=False):
2022-05-20T19:28:57.2279309Z         """
2022-05-20T19:28:57.2279729Z         Need to override this so we can fix querystrings breaking regex matching
2022-05-20T19:28:57.2280109Z         """
2022-05-20T19:28:57.2280378Z         if not match_querystring:
2022-05-20T19:28:57.2280751Z             other = other.split("?", 1)[0]
2022-05-20T19:28:57.2281070Z     
2022-05-20T19:28:57.2281337Z >       if responses._is_string(url):
2022-05-20T19:28:57.2281511Z 
2022-05-20T19:28:57.2281874Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/moto/core/models.py:198: 
2022-05-20T19:28:57.2282255Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2282531Z 
2022-05-20T19:28:57.2282762Z name = '_is_string'
2022-05-20T19:28:57.2282913Z 
2022-05-20T19:28:57.2283019Z     def __getattr__(name):
2022-05-20T19:28:57.2283395Z         if name in deprecated_names:
2022-05-20T19:28:57.2283742Z             warn(
2022-05-20T19:28:57.2284172Z                 f"{name} is deprecated. Please use 'responses.mock.{name}",
2022-05-20T19:28:57.2284603Z                 DeprecationWarning,
2022-05-20T19:28:57.2284927Z             )
2022-05-20T19:28:57.2285220Z             return globals()[f"_deprecated_{name}"]
2022-05-20T19:28:57.2285783Z >       raise AttributeError(f"module {__name__} has no attribute {name}")
2022-05-20T19:28:57.2286295Z E       AttributeError: module responses has no attribute _is_string
2022-05-20T19:28:57.2286600Z 
2022-05-20T19:28:57.2287105Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:969: AttributeError
2022-05-20T19:28:57.2287592Z 
2022-05-20T19:28:57.2287780Z During handling of the above exception, another exception occurred:
2022-05-20T19:28:57.2288517Z 
2022-05-20T19:28:57.2288985Z     def ensure_docker_available_or_raise() -> None:
2022-05-20T19:28:57.2289389Z         """
2022-05-20T19:28:57.2289719Z         Ensure docker is available.
2022-05-20T19:28:57.2290054Z     
2022-05-20T19:28:57.2290265Z         Raises:
2022-05-20T19:28:57.2290551Z             :class:`~MissingDependencyException`:
2022-05-20T19:28:57.2290895Z                 for :class:`~docker.errors.APIErrors`
2022-05-20T19:28:57.2291509Z                 or :class:`~docker.errors.DockerException`
2022-05-20T19:28:57.2291818Z         """
2022-05-20T19:28:57.2292023Z         try:
2022-05-20T19:28:57.2292263Z >           client = docker.from_env()
2022-05-20T19:28:57.2292414Z 
2022-05-20T19:28:57.2292567Z bentoml/yatai/deployment/docker_utils.py:22: 
2022-05-20T19:28:57.2292878Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2293053Z 
2022-05-20T19:28:57.2293373Z cls = <class 'docker.client.DockerClient'>, kwargs = {}, timeout = 60
2022-05-20T19:28:57.2293734Z max_pool_size = 10, version = None, use_ssh_client = False
2022-05-20T19:28:57.2293927Z 
2022-05-20T19:28:57.2294163Z     @classmethod
2022-05-20T19:28:57.2294434Z     def from_env(cls, **kwargs):
2022-05-20T19:28:57.2294669Z         """
2022-05-20T19:28:57.2295039Z         Return a client configured from environment variables.
2022-05-20T19:28:57.2295406Z     
2022-05-20T19:28:57.2295760Z         The environment variables used are the same as those used by the
2022-05-20T19:28:57.2296313Z         Docker command-line client. They are:
2022-05-20T19:28:57.2296657Z     
2022-05-20T19:28:57.2296934Z         .. envvar:: DOCKER_HOST
2022-05-20T19:28:57.2297260Z     
2022-05-20T19:28:57.2297504Z             The URL to the Docker host.
2022-05-20T19:28:57.2297743Z     
2022-05-20T19:28:57.2298099Z         .. envvar:: DOCKER_TLS_VERIFY
2022-05-20T19:28:57.2298321Z     
2022-05-20T19:28:57.2299318Z             Verify the host against a CA certificate.
2022-05-20T19:28:57.2299630Z     
2022-05-20T19:28:57.2345839Z         .. envvar:: DOCKER_CERT_PATH
2022-05-20T19:28:57.2346094Z     
2022-05-20T19:28:57.2346404Z             A path to a directory containing TLS certificates to use when
2022-05-20T19:28:57.2346750Z             connecting to the Docker host.
2022-05-20T19:28:57.2346978Z     
2022-05-20T19:28:57.2347176Z         Args:
2022-05-20T19:28:57.2347476Z             version (str): The version of the API to use. Set to ``auto`` to
2022-05-20T19:28:57.2348030Z                 automatically detect the server's version. Default: ``auto``
2022-05-20T19:28:57.2348417Z             timeout (int): Default timeout for API calls, in seconds.
2022-05-20T19:28:57.2348777Z             max_pool_size (int): The maximum number of connections
2022-05-20T19:28:57.2349085Z                 to save in the pool.
2022-05-20T19:28:57.2349364Z             ssl_version (int): A valid `SSL version`_.
2022-05-20T19:28:57.2349933Z             assert_hostname (bool): Verify the hostname of the server.
2022-05-20T19:28:57.2350324Z             environment (dict): The environment to read environment variables
2022-05-20T19:28:57.2350984Z                 from. Default: the value of ``os.environ``
2022-05-20T19:28:57.2351351Z             credstore_env (dict): Override environment variables when calling
2022-05-20T19:28:57.2351822Z                 the credential store process.
2022-05-20T19:28:57.2352253Z             use_ssh_client (bool): If set to `True`, an ssh connection is
2022-05-20T19:28:57.2352709Z                 made via shelling out to the ssh client. Ensure the ssh
2022-05-20T19:28:57.2353175Z                 client is installed and configured on the host.
2022-05-20T19:28:57.2353545Z     
2022-05-20T19:28:57.2353774Z         Example:
2022-05-20T19:28:57.2354060Z     
2022-05-20T19:28:57.2354313Z             >>> import docker
2022-05-20T19:28:57.2354580Z             >>> client = docker.from_env()
2022-05-20T19:28:57.2355025Z     
2022-05-20T19:28:57.2355236Z         .. _`SSL version`:
2022-05-20T19:28:57.2355753Z             https://docs.python.org/3.5/library/ssl.html#ssl.PROTOCOL_TLSv1
2022-05-20T19:28:57.2356050Z         """
2022-05-20T19:28:57.2356482Z         timeout = kwargs.pop('timeout', DEFAULT_TIMEOUT_SECONDS)
2022-05-20T19:28:57.2357166Z         max_pool_size = kwargs.pop('max_pool_size', DEFAULT_MAX_POOL_SIZE)
2022-05-20T19:28:57.2357723Z         version = kwargs.pop('version', None)
2022-05-20T19:28:57.2358388Z         use_ssh_client = kwargs.pop('use_ssh_client', False)
2022-05-20T19:28:57.2358834Z         return cls(
2022-05-20T19:28:57.2359176Z             timeout=timeout,
2022-05-20T19:28:57.2359534Z             max_pool_size=max_pool_size,
2022-05-20T19:28:57.2359876Z             version=version,
2022-05-20T19:28:57.2360229Z             use_ssh_client=use_ssh_client,
2022-05-20T19:28:57.2360600Z >           **kwargs_from_env(**kwargs)
2022-05-20T19:28:57.2360917Z         )
2022-05-20T19:28:57.2361087Z 
2022-05-20T19:28:57.2361470Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/client.py:101: 
2022-05-20T19:28:57.2361854Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2362023Z 
2022-05-20T19:28:57.2362212Z self = <docker.client.DockerClient object at 0x7f647e8c4e90>, args = ()
2022-05-20T19:28:57.2362726Z kwargs = {'max_pool_size': 10, 'timeout': 60, 'use_ssh_client': False, 'version': None}
2022-05-20T19:28:57.2362956Z 
2022-05-20T19:28:57.2363215Z     def __init__(self, *args, **kwargs):
2022-05-20T19:28:57.2363617Z >       self.api = APIClient(*args, **kwargs)
2022-05-20T19:28:57.2363881Z 
2022-05-20T19:28:57.2378262Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/client.py:45: 
2022-05-20T19:28:57.2378830Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2379113Z 
2022-05-20T19:28:57.2379351Z self = <docker.api.client.APIClient object at 0x7f647e8c4f10>
2022-05-20T19:28:57.2379989Z base_url = 'http+unix:///var/run/docker.sock', version = None, timeout = 60
2022-05-20T19:28:57.2380627Z tls = False, user_agent = 'docker-sdk-python/5.0.3', num_pools = 25
2022-05-20T19:28:57.2381125Z credstore_env = None, use_ssh_client = False, max_pool_size = 10
2022-05-20T19:28:57.2381429Z 
2022-05-20T19:28:57.2408255Z     def __init__(self, base_url=None, version=None,
2022-05-20T19:28:57.2408778Z                  timeout=DEFAULT_TIMEOUT_SECONDS, tls=False,
2022-05-20T19:28:57.2409698Z                  user_agent=DEFAULT_USER_AGENT, num_pools=None,
2022-05-20T19:28:57.2410094Z                  credstore_env=None, use_ssh_client=False,
2022-05-20T19:28:57.2410566Z                  max_pool_size=DEFAULT_MAX_POOL_SIZE):
2022-05-20T19:28:57.2410938Z         super().__init__()
2022-05-20T19:28:57.2411257Z     
2022-05-20T19:28:57.2411582Z         if tls and not base_url:
2022-05-20T19:28:57.2411937Z             raise TLSParameterError(
2022-05-20T19:28:57.2412559Z                 'If using TLS, the base_url argument must be provided.'
2022-05-20T19:28:57.2412967Z             )
2022-05-20T19:28:57.2413267Z     
2022-05-20T19:28:57.2413502Z         self.base_url = base_url
2022-05-20T19:28:57.2413872Z         self.timeout = timeout
2022-05-20T19:28:57.2414441Z         self.headers['User-Agent'] = user_agent
2022-05-20T19:28:57.2414725Z     
2022-05-20T19:28:57.2415230Z         self._general_configs = config.load_general_config()
2022-05-20T19:28:57.2415530Z     
2022-05-20T19:28:57.2416189Z         proxy_config = self._general_configs.get('proxies', {})
2022-05-20T19:28:57.2416687Z         try:
2022-05-20T19:28:57.2417139Z             proxies = proxy_config[base_url]
2022-05-20T19:28:57.2417617Z         except KeyError:
2022-05-20T19:28:57.2418237Z             proxies = proxy_config.get('default', {})
2022-05-20T19:28:57.2418695Z     
2022-05-20T19:28:57.2419141Z         self._proxy_configs = ProxyConfig.from_dict(proxies)
2022-05-20T19:28:57.2419611Z     
2022-05-20T19:28:57.2420382Z         self._auth_configs = auth.load_config(
2022-05-20T19:28:57.2420943Z             config_dict=self._general_configs, credstore_env=credstore_env,
2022-05-20T19:28:57.2421367Z         )
2022-05-20T19:28:57.2421816Z         self.credstore_env = credstore_env
2022-05-20T19:28:57.2422304Z     
2022-05-20T19:28:57.2422758Z         base_url = utils.parse_host(
2022-05-20T19:28:57.2423208Z             base_url, IS_WINDOWS_PLATFORM, tls=bool(tls)
2022-05-20T19:28:57.2423652Z         )
2022-05-20T19:28:57.2424261Z         # SSH has a different default for num_pools to all other adapters
2022-05-20T19:28:57.2424965Z         num_pools = num_pools or DEFAULT_NUM_POOLS_SSH if \
2022-05-20T19:28:57.2425625Z             base_url.startswith('ssh://') else DEFAULT_NUM_POOLS
2022-05-20T19:28:57.2426108Z     
2022-05-20T19:28:57.2426688Z         if base_url.startswith('http+unix://'):
2022-05-20T19:28:57.2427176Z             self._custom_adapter = UnixHTTPAdapter(
2022-05-20T19:28:57.2427827Z                 base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.2428350Z                 max_pool_size=max_pool_size
2022-05-20T19:28:57.2428783Z             )
2022-05-20T19:28:57.2429327Z             self.mount('http+docker://', self._custom_adapter)
2022-05-20T19:28:57.2430792Z             self._unmount('http://', 'https://')
2022-05-20T19:28:57.2431527Z             # host part of URL should be unused, but is resolved by requests
2022-05-20T19:28:57.2432094Z             # module in proxy_bypass_macosx_sysconf()
2022-05-20T19:28:57.2432715Z             self.base_url = 'http+docker://localhost'
2022-05-20T19:28:57.2433410Z         elif base_url.startswith('npipe://'):
2022-05-20T19:28:57.2434061Z             if not IS_WINDOWS_PLATFORM:
2022-05-20T19:28:57.2434536Z                 raise DockerException(
2022-05-20T19:28:57.2435130Z                     'The npipe:// protocol is only supported on Windows'
2022-05-20T19:28:57.2435815Z                 )
2022-05-20T19:28:57.2436299Z             try:
2022-05-20T19:28:57.2531341Z                 self._custom_adapter = NpipeHTTPAdapter(
2022-05-20T19:28:57.2531873Z                     base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.2534885Z                     max_pool_size=max_pool_size
2022-05-20T19:28:57.2535144Z                 )
2022-05-20T19:28:57.2535363Z             except NameError:
2022-05-20T19:28:57.2535608Z                 raise DockerException(
2022-05-20T19:28:57.2536350Z                     'Install pypiwin32 package to enable npipe:// support'
2022-05-20T19:28:57.2536652Z                 )
2022-05-20T19:28:57.2537295Z             self.mount('http+docker://', self._custom_adapter)
2022-05-20T19:28:57.2537895Z             self.base_url = 'http+docker://localnpipe'
2022-05-20T19:28:57.2538435Z         elif base_url.startswith('ssh://'):
2022-05-20T19:28:57.2538810Z             try:
2022-05-20T19:28:57.2539171Z                 self._custom_adapter = SSHHTTPAdapter(
2022-05-20T19:28:57.2539615Z                     base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.2540015Z                     max_pool_size=max_pool_size, shell_out=use_ssh_client
2022-05-20T19:28:57.2540295Z                 )
2022-05-20T19:28:57.2540504Z             except NameError:
2022-05-20T19:28:57.2540746Z                 raise DockerException(
2022-05-20T19:28:57.2541172Z                     'Install paramiko package to enable ssh:// support'
2022-05-20T19:28:57.2541434Z                 )
2022-05-20T19:28:57.2541811Z             self.mount('http+docker://ssh', self._custom_adapter)
2022-05-20T19:28:57.2542231Z             self._unmount('http://', 'https://')
2022-05-20T19:28:57.2542763Z             self.base_url = 'http+docker://ssh'
2022-05-20T19:28:57.2543018Z         else:
2022-05-20T19:28:57.2543410Z             # Use SSLAdapter for the ability to specify SSL version
2022-05-20T19:28:57.2543816Z             if isinstance(tls, TLSConfig):
2022-05-20T19:28:57.2544178Z                 tls.configure_client(self)
2022-05-20T19:28:57.2544510Z             elif tls:
2022-05-20T19:28:57.2545170Z                 self._custom_adapter = SSLHTTPAdapter(
2022-05-20T19:28:57.2545576Z                     pool_connections=num_pools)
2022-05-20T19:28:57.2546261Z                 self.mount('https://', self._custom_adapter)
2022-05-20T19:28:57.2546676Z             self.base_url = base_url
2022-05-20T19:28:57.2546980Z     
2022-05-20T19:28:57.2547351Z         # version detection needs to be after unix adapter mounting
2022-05-20T19:28:57.2547668Z         if version is None or (isinstance(
2022-05-20T19:28:57.2548069Z                                 version,
2022-05-20T19:28:57.2548322Z                                 str
2022-05-20T19:28:57.2548852Z                                 ) and version.lower() == 'auto'):
2022-05-20T19:28:57.2549287Z >           self._version = self._retrieve_server_version()
2022-05-20T19:28:57.2549562Z 
2022-05-20T19:28:57.2550068Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:197: 
2022-05-20T19:28:57.2550458Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2550624Z 
2022-05-20T19:28:57.2550913Z self = <docker.api.client.APIClient object at 0x7f647e8c4f10>
2022-05-20T19:28:57.2551215Z 
2022-05-20T19:28:57.2551402Z     def _retrieve_server_version(self):
2022-05-20T19:28:57.2551648Z         try:
2022-05-20T19:28:57.2552033Z             return self.version(api_version=False)["ApiVersion"]
2022-05-20T19:28:57.2552414Z         except KeyError:
2022-05-20T19:28:57.2552766Z             raise DockerException(
2022-05-20T19:28:57.2553319Z                 'Invalid response from docker daemon: key "ApiVersion"'
2022-05-20T19:28:57.2553808Z                 ' is missing.'
2022-05-20T19:28:57.2554119Z             )
2022-05-20T19:28:57.2554447Z         except Exception as e:
2022-05-20T19:28:57.2554801Z             raise DockerException(
2022-05-20T19:28:57.2555525Z >               f'Error while fetching server API version: {e}'
2022-05-20T19:28:57.2555919Z             )
2022-05-20T19:28:57.2556424Z E           docker.errors.DockerException: Error while fetching server API version: module responses has no attribute _is_string
2022-05-20T19:28:57.2556819Z 
2022-05-20T19:28:57.2557291Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:222: DockerException
2022-05-20T19:28:57.2557570Z 
2022-05-20T19:28:57.2557887Z During handling of the above exception, another exception occurred:
2022-05-20T19:28:57.2558130Z 
2022-05-20T19:28:57.2558244Z args = (), kwargs = {}
2022-05-20T19:28:57.2558537Z ecr_client = <botocore.client.ECR object at 0x7f647e919410>
2022-05-20T19:28:57.2559032Z repo_name = 'my_bento-sagemaker'
2022-05-20T19:28:57.2559897Z iam_role_policy = '\n        {\n            "Version": "2019-10-10",\n            "Statement": [\n                {\n                   ...    "Service": "sagemaker.amazonaws.com"\n                    }\n                }\n            ]\n        }\n        '
2022-05-20T19:28:57.2560519Z iam_client = <botocore.client.IAM object at 0x7f647edecc90>
2022-05-20T19:28:57.2560818Z 
2022-05-20T19:28:57.2560949Z     @mock_ecr
2022-05-20T19:28:57.2561163Z     @mock_iam
2022-05-20T19:28:57.2561363Z     @mock_sts
2022-05-20T19:28:57.2561571Z     @moto_mock_sagemaker
2022-05-20T19:28:57.2561824Z     def mock_wrapper(*args, **kwargs):
2022-05-20T19:28:57.2562231Z         ecr_client = boto3.client('ecr', TEST_AWS_REGION)
2022-05-20T19:28:57.2562800Z         repo_name = TEST_DEPLOYMENT_BENTO_NAME + '-sagemaker'
2022-05-20T19:28:57.2563172Z         try:
2022-05-20T19:28:57.2563572Z             ecr_client.create_repository(repositoryName=repo_name)
2022-05-20T19:28:57.2564107Z         except ecr_client.exceptions.RepositoryAlreadyExistsException:
2022-05-20T19:28:57.2564700Z             print('Repository already exists')
2022-05-20T19:28:57.2565043Z     
2022-05-20T19:28:57.2565361Z         iam_role_policy = """
2022-05-20T19:28:57.2565672Z         {
2022-05-20T19:28:57.2566058Z             "Version": "2019-10-10",
2022-05-20T19:28:57.2566630Z             "Statement": [
2022-05-20T19:28:57.2566936Z                 {
2022-05-20T19:28:57.2567258Z                     "Effect": "Allow",
2022-05-20T19:28:57.2567583Z                     "Action": "*",
2022-05-20T19:28:57.2567923Z                     "Principal": {
2022-05-20T19:28:57.2568321Z                         "Service": "sagemaker.amazonaws.com"
2022-05-20T19:28:57.2568683Z                     }
2022-05-20T19:28:57.2568895Z                 }
2022-05-20T19:28:57.2569196Z             ]
2022-05-20T19:28:57.2569396Z         }
2022-05-20T19:28:57.2569691Z         """
2022-05-20T19:28:57.2570093Z         iam_client = boto3.client('iam', TEST_AWS_REGION)
2022-05-20T19:28:57.2570381Z         iam_client.create_role(
2022-05-20T19:28:57.2570853Z             RoleName="moto", AssumeRolePolicyDocument=iam_role_policy
2022-05-20T19:28:57.2571236Z         )
2022-05-20T19:28:57.2571482Z >       return func(*args, **kwargs)
2022-05-20T19:28:57.2571642Z 
2022-05-20T19:28:57.2571797Z tests/deployment/sagemaker/test_sagemaker.py:168: 
2022-05-20T19:28:57.2572111Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2572753Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/mock/mock.py:1346: in patched
2022-05-20T19:28:57.2573240Z     return func(*newargs, **newkeywargs)
2022-05-20T19:28:57.2573675Z tests/deployment/sagemaker/test_sagemaker.py:191: in mock_wrapper
2022-05-20T19:28:57.2574073Z     return func(*args, **kwargs)
2022-05-20T19:28:57.2574534Z tests/deployment/sagemaker/test_sagemaker.py:240: in test_sagemaker_apply_fail_not_local_repo
2022-05-20T19:28:57.2575074Z     deployment_operator = SageMakerDeploymentOperator(yatai_service)
2022-05-20T19:28:57.2575563Z bentoml/yatai/deployment/sagemaker/operator.py:432: in __init__
2022-05-20T19:28:57.2575970Z     ensure_docker_available_or_raise()
2022-05-20T19:28:57.2576345Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2576608Z 
2022-05-20T19:28:57.2576921Z     def ensure_docker_available_or_raise() -> None:
2022-05-20T19:28:57.2577177Z         """
2022-05-20T19:28:57.2577395Z         Ensure docker is available.
2022-05-20T19:28:57.2577619Z     
2022-05-20T19:28:57.2577805Z         Raises:
2022-05-20T19:28:57.2578066Z             :class:`~MissingDependencyException`:
2022-05-20T19:28:57.2578528Z                 for :class:`~docker.errors.APIErrors`
2022-05-20T19:28:57.2578872Z                 or :class:`~docker.errors.DockerException`
2022-05-20T19:28:57.2579237Z         """
2022-05-20T19:28:57.2579657Z         try:
2022-05-20T19:28:57.2579888Z             client = docker.from_env()
2022-05-20T19:28:57.2580139Z             client.ping()
2022-05-20T19:28:57.2580516Z         except docker.errors.APIError as error:
2022-05-20T19:28:57.2581148Z             raise MissingDependencyException(f'Docker server is not responsive. {error}')
2022-05-20T19:28:57.2603411Z         except docker.errors.DockerException:
2022-05-20T19:28:57.2604104Z             raise MissingDependencyException(
2022-05-20T19:28:57.2604743Z >               'Docker is required for this deployment. Please visit '
2022-05-20T19:28:57.2605297Z                 'www.docker.com for instructions'
2022-05-20T19:28:57.2605664Z             )
2022-05-20T19:28:57.2606223Z E           bentoml.exceptions.MissingDependencyException: Docker is required for this deployment. Please visit www.docker.com for instructions
2022-05-20T19:28:57.2606669Z 
2022-05-20T19:28:57.2606951Z bentoml/yatai/deployment/docker_utils.py:28: MissingDependencyException
2022-05-20T19:28:57.2607338Z _________________________ test_sagemaker_apply_success _________________________
2022-05-20T19:28:57.2607536Z 
2022-05-20T19:28:57.2607832Z self = <docker.api.client.APIClient object at 0x7f647ee74910>
2022-05-20T19:28:57.2608131Z 
2022-05-20T19:28:57.2608332Z     def _retrieve_server_version(self):
2022-05-20T19:28:57.2608578Z         try:
2022-05-20T19:28:57.2608854Z >           return self.version(api_version=False)["ApiVersion"]
2022-05-20T19:28:57.2609266Z 
2022-05-20T19:28:57.2609657Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:214: 
2022-05-20T19:28:57.2610031Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2610195Z 
2022-05-20T19:28:57.2610361Z self = <docker.api.client.APIClient object at 0x7f647ee74910>
2022-05-20T19:28:57.2610654Z api_version = False
2022-05-20T19:28:57.2610795Z 
2022-05-20T19:28:57.2611097Z     def version(self, api_version=True):
2022-05-20T19:28:57.2611443Z         """
2022-05-20T19:28:57.2612367Z         Returns version information from the server. Similar to the ``docker
2022-05-20T19:28:57.2612934Z         version`` command.
2022-05-20T19:28:57.2613254Z     
2022-05-20T19:28:57.2613549Z         Returns:
2022-05-20T19:28:57.2613903Z             (dict): The server version information
2022-05-20T19:28:57.2614171Z     
2022-05-20T19:28:57.2614374Z         Raises:
2022-05-20T19:28:57.2614641Z             :py:class:`docker.errors.APIError`
2022-05-20T19:28:57.2615050Z                 If the server returns an error.
2022-05-20T19:28:57.2615385Z         """
2022-05-20T19:28:57.2615750Z         url = self._url("/version", versioned_api=api_version)
2022-05-20T19:28:57.2616163Z >       return self._result(self._get(url), json=True)
2022-05-20T19:28:57.2616434Z 
2022-05-20T19:28:57.2616910Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/daemon.py:181: 
2022-05-20T19:28:57.2617297Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2617464Z 
2022-05-20T19:28:57.2617770Z self = <docker.api.client.APIClient object at 0x7f647ee74910>
2022-05-20T19:28:57.2618351Z args = ('http+docker://localhost/version',), kwargs = {}
2022-05-20T19:28:57.2618672Z 
2022-05-20T19:28:57.2618857Z     def inner(self, *args, **kwargs):
2022-05-20T19:28:57.2619255Z         if 'HttpHeaders' in self._general_configs:
2022-05-20T19:28:57.2619627Z             if not kwargs.get('headers'):
2022-05-20T19:28:57.2620048Z                 kwargs['headers'] = self._general_configs['HttpHeaders']
2022-05-20T19:28:57.2620333Z             else:
2022-05-20T19:28:57.2620737Z                 kwargs['headers'].update(self._general_configs['HttpHeaders'])
2022-05-20T19:28:57.2621060Z >       return f(self, *args, **kwargs)
2022-05-20T19:28:57.2621333Z 
2022-05-20T19:28:57.2621721Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/utils/decorators.py:46: 
2022-05-20T19:28:57.2622218Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2622471Z 
2022-05-20T19:28:57.2622710Z self = <docker.api.client.APIClient object at 0x7f647ee74910>
2022-05-20T19:28:57.2623320Z url = 'http+docker://localhost/version', kwargs = {'timeout': 60}
2022-05-20T19:28:57.2623648Z 
2022-05-20T19:28:57.2623779Z     @update_headers
2022-05-20T19:28:57.2624026Z     def _get(self, url, **kwargs):
2022-05-20T19:28:57.2624436Z >       return self.get(url, **self._set_request_timeout(kwargs))
2022-05-20T19:28:57.2624730Z 
2022-05-20T19:28:57.2625441Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:237: 
2022-05-20T19:28:57.2625812Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2626081Z 
2022-05-20T19:28:57.2626327Z self = <docker.api.client.APIClient object at 0x7f647ee74910>
2022-05-20T19:28:57.2626763Z url = 'http+docker://localhost/version'
2022-05-20T19:28:57.2627292Z kwargs = {'allow_redirects': True, 'timeout': 60}
2022-05-20T19:28:57.2627577Z 
2022-05-20T19:28:57.2627740Z     def get(self, url, **kwargs):
2022-05-20T19:28:57.2628043Z         r"""Sends a GET request. Returns :class:`Response` object.
2022-05-20T19:28:57.2628311Z     
2022-05-20T19:28:57.2628576Z         :param url: URL for the new :class:`Request` object.
2022-05-20T19:28:57.2629034Z         :param \*\*kwargs: Optional arguments that ``request`` takes.
2022-05-20T19:28:57.2629627Z         :rtype: requests.Response
2022-05-20T19:28:57.2629881Z         """
2022-05-20T19:28:57.2630074Z     
2022-05-20T19:28:57.2630527Z         kwargs.setdefault('allow_redirects', True)
2022-05-20T19:28:57.2631045Z >       return self.request('GET', url, **kwargs)
2022-05-20T19:28:57.2631324Z 
2022-05-20T19:28:57.2631742Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:542: 
2022-05-20T19:28:57.2632119Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2632271Z 
2022-05-20T19:28:57.2632819Z self = <docker.api.client.APIClient object at 0x7f647ee74910>, method = 'GET'
2022-05-20T19:28:57.2633512Z url = 'http+docker://localhost/version', params = None, data = None
2022-05-20T19:28:57.2634023Z headers = None, cookies = None, files = None, auth = None, timeout = 60
2022-05-20T19:28:57.2634508Z allow_redirects = True, proxies = {}, hooks = None, stream = None, verify = None
2022-05-20T19:28:57.2634906Z cert = None, json = None
2022-05-20T19:28:57.2635154Z 
2022-05-20T19:28:57.2635488Z     def request(self, method, url,
2022-05-20T19:28:57.2635830Z             params=None, data=None, headers=None, cookies=None, files=None,
2022-05-20T19:28:57.2636204Z             auth=None, timeout=None, allow_redirects=True, proxies=None,
2022-05-20T19:28:57.2636680Z             hooks=None, stream=None, verify=None, cert=None, json=None):
2022-05-20T19:28:57.2637157Z         """Constructs a :class:`Request <Request>`, prepares it and sends it.
2022-05-20T19:28:57.2637615Z         Returns :class:`Response <Response>` object.
2022-05-20T19:28:57.2637964Z     
2022-05-20T19:28:57.2652466Z         :param method: method for the new :class:`Request` object.
2022-05-20T19:28:57.2652953Z         :param url: URL for the new :class:`Request` object.
2022-05-20T19:28:57.2653435Z         :param params: (optional) Dictionary or bytes to be sent in the query
2022-05-20T19:28:57.2653872Z             string for the :class:`Request`.
2022-05-20T19:28:57.2654503Z         :param data: (optional) Dictionary, list of tuples, bytes, or file-like
2022-05-20T19:28:57.2654995Z             object to send in the body of the :class:`Request`.
2022-05-20T19:28:57.2655434Z         :param json: (optional) json to send in the body of the
2022-05-20T19:28:57.2655815Z             :class:`Request`.
2022-05-20T19:28:57.2656229Z         :param headers: (optional) Dictionary of HTTP Headers to send with the
2022-05-20T19:28:57.2656678Z             :class:`Request`.
2022-05-20T19:28:57.2657101Z         :param cookies: (optional) Dict or CookieJar object to send with the
2022-05-20T19:28:57.2657510Z             :class:`Request`.
2022-05-20T19:28:57.2658050Z         :param files: (optional) Dictionary of ``'filename': file-like-objects``
2022-05-20T19:28:57.2658510Z             for multipart encoding upload.
2022-05-20T19:28:57.2658931Z         :param auth: (optional) Auth tuple or callable to enable
2022-05-20T19:28:57.2659341Z             Basic/Digest/Custom HTTP Auth.
2022-05-20T19:28:57.2659689Z         :param timeout: (optional) How long to wait for the server to send
2022-05-20T19:28:57.2660164Z             data before giving up, as a float, or a :ref:`(connect timeout,
2022-05-20T19:28:57.2660587Z             read timeout) <timeouts>` tuple.
2022-05-20T19:28:57.2660959Z         :type timeout: float or tuple
2022-05-20T19:28:57.2661361Z         :param allow_redirects: (optional) Set to True by default.
2022-05-20T19:28:57.2661770Z         :type allow_redirects: bool
2022-05-20T19:28:57.2662215Z         :param proxies: (optional) Dictionary mapping protocol or protocol and
2022-05-20T19:28:57.2662658Z             hostname to the URL of the proxy.
2022-05-20T19:28:57.2663022Z         :param stream: (optional) whether to immediately download the response
2022-05-20T19:28:57.2663360Z             content. Defaults to ``False``.
2022-05-20T19:28:57.2663727Z         :param verify: (optional) Either a boolean, in which case it controls whether we verify
2022-05-20T19:28:57.2664264Z             the server's TLS certificate, or a string, in which case it must be a path
2022-05-20T19:28:57.2665020Z             to a CA bundle to use. Defaults to ``True``. When set to
2022-05-20T19:28:57.2665499Z             ``False``, requests will accept any TLS certificate presented by
2022-05-20T19:28:57.2665975Z             the server, and will ignore hostname mismatches and/or expired
2022-05-20T19:28:57.2666436Z             certificates, which will make your application vulnerable to
2022-05-20T19:28:57.2667180Z             man-in-the-middle (MitM) attacks. Setting verify to ``False``
2022-05-20T19:28:57.2667698Z             may be useful during local development or testing.
2022-05-20T19:28:57.2668175Z         :param cert: (optional) if String, path to ssl client cert file (.pem).
2022-05-20T19:28:57.2668706Z             If Tuple, ('cert', 'key') pair.
2022-05-20T19:28:57.2669080Z         :rtype: requests.Response
2022-05-20T19:28:57.2669402Z         """
2022-05-20T19:28:57.2669639Z         # Create the Request.
2022-05-20T19:28:57.2669881Z         req = Request(
2022-05-20T19:28:57.2670212Z             method=method.upper(),
2022-05-20T19:28:57.2670541Z             url=url,
2022-05-20T19:28:57.2670856Z             headers=headers,
2022-05-20T19:28:57.2671166Z             files=files,
2022-05-20T19:28:57.2671483Z             data=data or {},
2022-05-20T19:28:57.2671803Z             json=json,
2022-05-20T19:28:57.2672125Z             params=params or {},
2022-05-20T19:28:57.2672455Z             auth=auth,
2022-05-20T19:28:57.2672771Z             cookies=cookies,
2022-05-20T19:28:57.2673100Z             hooks=hooks,
2022-05-20T19:28:57.2673385Z         )
2022-05-20T19:28:57.2673755Z         prep = self.prepare_request(req)
2022-05-20T19:28:57.2673994Z     
2022-05-20T19:28:57.2674201Z         proxies = proxies or {}
2022-05-20T19:28:57.2674421Z     
2022-05-20T19:28:57.2674681Z         settings = self.merge_environment_settings(
2022-05-20T19:28:57.2674999Z             prep.url, proxies, stream, verify, cert
2022-05-20T19:28:57.2675394Z         )
2022-05-20T19:28:57.2675604Z     
2022-05-20T19:28:57.2675815Z         # Send the request.
2022-05-20T19:28:57.2676034Z         send_kwargs = {
2022-05-20T19:28:57.2676500Z             'timeout': timeout,
2022-05-20T19:28:57.2676975Z             'allow_redirects': allow_redirects,
2022-05-20T19:28:57.2677311Z         }
2022-05-20T19:28:57.2677581Z         send_kwargs.update(settings)
2022-05-20T19:28:57.2677876Z >       resp = self.send(prep, **send_kwargs)
2022-05-20T19:28:57.2678048Z 
2022-05-20T19:28:57.2678418Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:529: 
2022-05-20T19:28:57.2678786Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2678953Z 
2022-05-20T19:28:57.2679136Z self = <docker.api.client.APIClient object at 0x7f647ee74910>
2022-05-20T19:28:57.2679468Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.2680069Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.2680681Z allow_redirects = True, stream = False, hooks = {'response': []}
2022-05-20T19:28:57.2681212Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f647e40bf50>
2022-05-20T19:28:57.2681656Z start = 1653074849.1675904
2022-05-20T19:28:57.2681887Z 
2022-05-20T19:28:57.2682064Z     def send(self, request, **kwargs):
2022-05-20T19:28:57.2682342Z         """Send a given PreparedRequest.
2022-05-20T19:28:57.2682674Z     
2022-05-20T19:28:57.2682936Z         :rtype: requests.Response
2022-05-20T19:28:57.2683162Z         """
2022-05-20T19:28:57.2683459Z         # Set defaults that the hooks can utilize to ensure they always have
2022-05-20T19:28:57.2683836Z         # the correct parameters to reproduce the previous request.
2022-05-20T19:28:57.2684268Z         kwargs.setdefault('stream', self.stream)
2022-05-20T19:28:57.2684663Z         kwargs.setdefault('verify', self.verify)
2022-05-20T19:28:57.2685035Z         kwargs.setdefault('cert', self.cert)
2022-05-20T19:28:57.2685573Z         if 'proxies' not in kwargs:
2022-05-20T19:28:57.2686312Z             kwargs['proxies'] = resolve_proxies(
2022-05-20T19:28:57.2686766Z                 request, self.proxies, self.trust_env
2022-05-20T19:28:57.2687118Z             )
2022-05-20T19:28:57.2687395Z     
2022-05-20T19:28:57.2687834Z         # It's possible that users might accidentally send a Request object.
2022-05-20T19:28:57.2688304Z         # Guard against that specific failure case.
2022-05-20T19:28:57.2688697Z         if isinstance(request, Request):
2022-05-20T19:28:57.2689358Z             raise ValueError('You can only send PreparedRequests.')
2022-05-20T19:28:57.2689791Z     
2022-05-20T19:28:57.2690127Z         # Set up variables needed for resolve_redirects and dispatching of hooks
2022-05-20T19:28:57.2690617Z         allow_redirects = kwargs.pop('allow_redirects', True)
2022-05-20T19:28:57.2691109Z         stream = kwargs.get('stream')
2022-05-20T19:28:57.2691477Z         hooks = request.hooks
2022-05-20T19:28:57.2691799Z     
2022-05-20T19:28:57.2692162Z         # Get the appropriate adapter to use
2022-05-20T19:28:57.2692566Z         adapter = self.get_adapter(url=request.url)
2022-05-20T19:28:57.2692915Z     
2022-05-20T19:28:57.2693277Z         # Start time (approximately) of the request
2022-05-20T19:28:57.2693649Z         start = preferred_clock()
2022-05-20T19:28:57.2693968Z     
2022-05-20T19:28:57.2694195Z         # Send the request
2022-05-20T19:28:57.2694558Z >       r = adapter.send(request, **kwargs)
2022-05-20T19:28:57.2694815Z 
2022-05-20T19:28:57.2695500Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:645: 
2022-05-20T19:28:57.2695893Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2696169Z 
2022-05-20T19:28:57.2696472Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f647e40bf50>
2022-05-20T19:28:57.2696862Z request = <PreparedRequest [GET]>, a = ()
2022-05-20T19:28:57.2697342Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.2697568Z 
2022-05-20T19:28:57.2697717Z     def unbound_on_send(adapter, request, *a, **kwargs):
2022-05-20T19:28:57.2698049Z >       return self._on_request(adapter, request, *a, **kwargs)
2022-05-20T19:28:57.2698235Z 
2022-05-20T19:28:57.2698734Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:841: 
2022-05-20T19:28:57.2699203Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2699460Z 
2022-05-20T19:28:57.2699872Z self = <responses.RequestsMock object at 0x7f64a905d950>
2022-05-20T19:28:57.2700395Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f647e40bf50>
2022-05-20T19:28:57.2700867Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.2701446Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.2701778Z 
2022-05-20T19:28:57.2701950Z     def _on_request(self, adapter, request, **kwargs):
2022-05-20T19:28:57.2702571Z         # add attributes params and req_kwargs to 'request' object for further match comparison
2022-05-20T19:28:57.2703072Z         # original request object does not have these attributes
2022-05-20T19:28:57.2703538Z         request.params = self._parse_request_params(request.path_url)
2022-05-20T19:28:57.2703946Z         request.req_kwargs = kwargs
2022-05-20T19:28:57.2704264Z     
2022-05-20T19:28:57.2704550Z >       match, match_failed_reasons = self._find_match(request)
2022-05-20T19:28:57.2704834Z 
2022-05-20T19:28:57.2705257Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:779: 
2022-05-20T19:28:57.2705623Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2705787Z 
2022-05-20T19:28:57.2705948Z self = <responses.RequestsMock object at 0x7f64a905d950>
2022-05-20T19:28:57.2706264Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.2706572Z 
2022-05-20T19:28:57.2706693Z     def _find_match(self, request):
2022-05-20T19:28:57.2707065Z         """
2022-05-20T19:28:57.2707425Z         Iterates through all available matches and validates if any of them matches the request
2022-05-20T19:28:57.2707823Z     
2022-05-20T19:28:57.2708112Z         :param request: (PreparedRequest), request object
2022-05-20T19:28:57.2708466Z         :return:
2022-05-20T19:28:57.2708885Z             (Response) found match. If multiple found, then remove & return the first match.
2022-05-20T19:28:57.2709592Z             (list) list with reasons why other matches don't match
2022-05-20T19:28:57.2709996Z         """
2022-05-20T19:28:57.2710258Z >       return self._registry.find(request)
2022-05-20T19:28:57.2710430Z 
2022-05-20T19:28:57.2710902Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:762: 
2022-05-20T19:28:57.2711382Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2711644Z 
2022-05-20T19:28:57.2711916Z self = <responses.registries.FirstMatchRegistry object at 0x7f647f0ca710>
2022-05-20T19:28:57.2712272Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.2712533Z 
2022-05-20T19:28:57.2712672Z     def find(
2022-05-20T19:28:57.2713379Z         self, request: "PreparedRequest"
2022-05-20T19:28:57.2713843Z     ) -> Tuple[Optional["BaseResponse"], List[str]]:
2022-05-20T19:28:57.2714107Z         found = None
2022-05-20T19:28:57.2714533Z         found_match = None
2022-05-20T19:28:57.2714894Z         match_failed_reasons = []
2022-05-20T19:28:57.2715441Z         for i, response in enumerate(self.registered):
2022-05-20T19:28:57.2715912Z >           match_result, reason = response.matches(request)
2022-05-20T19:28:57.2716199Z 
2022-05-20T19:28:57.2716654Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/registries.py:32: 
2022-05-20T19:28:57.2717149Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2717411Z 
2022-05-20T19:28:57.2717672Z self = <moto.core.models.CallbackResponse object at 0x7f647e40bdd0>
2022-05-20T19:28:57.2718016Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.2718186Z 
2022-05-20T19:28:57.2718302Z     def matches(self, request):
2022-05-20T19:28:57.2718690Z         if request.method != self.method:
2022-05-20T19:28:57.2719077Z             return False, "Method does not match"
2022-05-20T19:28:57.2719396Z     
2022-05-20T19:28:57.2719680Z >       if not self._url_matches(self.url, request.url):
2022-05-20T19:28:57.2719947Z 
2022-05-20T19:28:57.2720525Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:350: 
2022-05-20T19:28:57.2720904Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2721058Z 
2022-05-20T19:28:57.2721385Z self = <moto.core.models.CallbackResponse object at 0x7f647e40bdd0>
2022-05-20T19:28:57.2721964Z url = re.compile('https?://ecr.(.+).amazonaws.com/$')
2022-05-20T19:28:57.2722572Z other = 'http+docker://localhost/version', match_querystring = False
2022-05-20T19:28:57.2722909Z 
2022-05-20T19:28:57.2723131Z     def _url_matches(self, url, other, match_querystring=False):
2022-05-20T19:28:57.2723397Z         """
2022-05-20T19:28:57.2723812Z         Need to override this so we can fix querystrings breaking regex matching
2022-05-20T19:28:57.2724201Z         """
2022-05-20T19:28:57.2724523Z         if not match_querystring:
2022-05-20T19:28:57.2724874Z             other = other.split("?", 1)[0]
2022-05-20T19:28:57.2725190Z     
2022-05-20T19:28:57.2725443Z >       if responses._is_string(url):
2022-05-20T19:28:57.2725695Z 
2022-05-20T19:28:57.2726118Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/moto/core/models.py:198: 
2022-05-20T19:28:57.2726532Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2726810Z 
2022-05-20T19:28:57.2727024Z name = '_is_string'
2022-05-20T19:28:57.2727378Z 
2022-05-20T19:28:57.2727483Z     def __getattr__(name):
2022-05-20T19:28:57.2727744Z         if name in deprecated_names:
2022-05-20T19:28:57.2727970Z             warn(
2022-05-20T19:28:57.2728392Z                 f"{name} is deprecated. Please use 'responses.mock.{name}",
2022-05-20T19:28:57.2728716Z                 DeprecationWarning,
2022-05-20T19:28:57.2729102Z             )
2022-05-20T19:28:57.2729385Z             return globals()[f"_deprecated_{name}"]
2022-05-20T19:28:57.2729748Z >       raise AttributeError(f"module {__name__} has no attribute {name}")
2022-05-20T19:28:57.2730343Z E       AttributeError: module responses has no attribute _is_string
2022-05-20T19:28:57.2730683Z 
2022-05-20T19:28:57.2731142Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:969: AttributeError
2022-05-20T19:28:57.2731414Z 
2022-05-20T19:28:57.2731593Z During handling of the above exception, another exception occurred:
2022-05-20T19:28:57.2731803Z 
2022-05-20T19:28:57.2732170Z     def ensure_docker_available_or_raise() -> None:
2022-05-20T19:28:57.2732544Z         """
2022-05-20T19:28:57.2732870Z         Ensure docker is available.
2022-05-20T19:28:57.2733180Z     
2022-05-20T19:28:57.2733391Z         Raises:
2022-05-20T19:28:57.2733751Z             :class:`~MissingDependencyException`:
2022-05-20T19:28:57.2734169Z                 for :class:`~docker.errors.APIErrors`
2022-05-20T19:28:57.2734604Z                 or :class:`~docker.errors.DockerException`
2022-05-20T19:28:57.2734962Z         """
2022-05-20T19:28:57.2735170Z         try:
2022-05-20T19:28:57.2735488Z >           client = docker.from_env()
2022-05-20T19:28:57.2735740Z 
2022-05-20T19:28:57.2735948Z bentoml/yatai/deployment/docker_utils.py:22: 
2022-05-20T19:28:57.2736249Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2736413Z 
2022-05-20T19:28:57.2736710Z cls = <class 'docker.client.DockerClient'>, kwargs = {}, timeout = 60
2022-05-20T19:28:57.2737182Z max_pool_size = 10, version = None, use_ssh_client = False
2022-05-20T19:28:57.2737468Z 
2022-05-20T19:28:57.2737614Z     @classmethod
2022-05-20T19:28:57.2737850Z     def from_env(cls, **kwargs):
2022-05-20T19:28:57.2738075Z         """
2022-05-20T19:28:57.2738457Z         Return a client configured from environment variables.
2022-05-20T19:28:57.2738805Z     
2022-05-20T19:28:57.2739114Z         The environment variables used are the same as those used by the
2022-05-20T19:28:57.2739535Z         Docker command-line client. They are:
2022-05-20T19:28:57.2739786Z     
2022-05-20T19:28:57.2740146Z         .. envvar:: DOCKER_HOST
2022-05-20T19:28:57.2740468Z     
2022-05-20T19:28:57.2740702Z             The URL to the Docker host.
2022-05-20T19:28:57.2741021Z     
2022-05-20T19:28:57.2741264Z         .. envvar:: DOCKER_TLS_VERIFY
2022-05-20T19:28:57.2741572Z     
2022-05-20T19:28:57.2741851Z             Verify the host against a CA certificate.
2022-05-20T19:28:57.2742099Z     
2022-05-20T19:28:57.2742421Z         .. envvar:: DOCKER_CERT_PATH
2022-05-20T19:28:57.2742735Z     
2022-05-20T19:28:57.2743040Z             A path to a directory containing TLS certificates to use when
2022-05-20T19:28:57.2743468Z             connecting to the Docker host.
2022-05-20T19:28:57.2743795Z     
2022-05-20T19:28:57.2743999Z         Args:
2022-05-20T19:28:57.2744289Z             version (str): The version of the API to use. Set to ``auto`` to
2022-05-20T19:28:57.2744883Z                 automatically detect the server's version. Default: ``auto``
2022-05-20T19:28:57.2745355Z             timeout (int): Default timeout for API calls, in seconds.
2022-05-20T19:28:57.2745808Z             max_pool_size (int): The maximum number of connections
2022-05-20T19:28:57.2746197Z                 to save in the pool.
2022-05-20T19:28:57.2746587Z             ssl_version (int): A valid `SSL version`_.
2022-05-20T19:28:57.2747010Z             assert_hostname (bool): Verify the hostname of the server.
2022-05-20T19:28:57.2747485Z             environment (dict): The environment to read environment variables
2022-05-20T19:28:57.2748099Z                 from. Default: the value of ``os.environ``
2022-05-20T19:28:57.2749013Z             credstore_env (dict): Override environment variables when calling
2022-05-20T19:28:57.2749673Z                 the credential store process.
2022-05-20T19:28:57.2765125Z             use_ssh_client (bool): If set to `True`, an ssh connection is
2022-05-20T19:28:57.2765560Z                 made via shelling out to the ssh client. Ensure the ssh
2022-05-20T19:28:57.2766090Z                 client is installed and configured on the host.
2022-05-20T19:28:57.2766356Z     
2022-05-20T19:28:57.2766546Z         Example:
2022-05-20T19:28:57.2766745Z     
2022-05-20T19:28:57.2766946Z             >>> import docker
2022-05-20T19:28:57.2767210Z             >>> client = docker.from_env()
2022-05-20T19:28:57.2767436Z     
2022-05-20T19:28:57.2767631Z         .. _`SSL version`:
2022-05-20T19:28:57.2767975Z             https://docs.python.org/3.5/library/ssl.html#ssl.PROTOCOL_TLSv1
2022-05-20T19:28:57.2768284Z         """
2022-05-20T19:28:57.2768721Z         timeout = kwargs.pop('timeout', DEFAULT_TIMEOUT_SECONDS)
2022-05-20T19:28:57.2769196Z         max_pool_size = kwargs.pop('max_pool_size', DEFAULT_MAX_POOL_SIZE)
2022-05-20T19:28:57.2769614Z         version = kwargs.pop('version', None)
2022-05-20T19:28:57.2770024Z         use_ssh_client = kwargs.pop('use_ssh_client', False)
2022-05-20T19:28:57.2770284Z         return cls(
2022-05-20T19:28:57.2770510Z             timeout=timeout,
2022-05-20T19:28:57.2770772Z             max_pool_size=max_pool_size,
2022-05-20T19:28:57.2771015Z             version=version,
2022-05-20T19:28:57.2771261Z             use_ssh_client=use_ssh_client,
2022-05-20T19:28:57.2771521Z >           **kwargs_from_env(**kwargs)
2022-05-20T19:28:57.2771738Z         )
2022-05-20T19:28:57.2771861Z 
2022-05-20T19:28:57.2772511Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/client.py:101: 
2022-05-20T19:28:57.2773022Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2773295Z 
2022-05-20T19:28:57.2773552Z self = <docker.client.DockerClient object at 0x7f647ee74310>, args = ()
2022-05-20T19:28:57.2774081Z kwargs = {'max_pool_size': 10, 'timeout': 60, 'use_ssh_client': False, 'version': None}
2022-05-20T19:28:57.2774420Z 
2022-05-20T19:28:57.2774609Z     def __init__(self, *args, **kwargs):
2022-05-20T19:28:57.2774904Z >       self.api = APIClient(*args, **kwargs)
2022-05-20T19:28:57.2775076Z 
2022-05-20T19:28:57.2775428Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/client.py:45: 
2022-05-20T19:28:57.2775798Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2775952Z 
2022-05-20T19:28:57.2776128Z self = <docker.api.client.APIClient object at 0x7f647ee74910>
2022-05-20T19:28:57.2776624Z base_url = 'http+unix:///var/run/docker.sock', version = None, timeout = 60
2022-05-20T19:28:57.2777264Z tls = False, user_agent = 'docker-sdk-python/5.0.3', num_pools = 25
2022-05-20T19:28:57.2777750Z credstore_env = None, use_ssh_client = False, max_pool_size = 10
2022-05-20T19:28:57.2778051Z 
2022-05-20T19:28:57.2778258Z     def __init__(self, base_url=None, version=None,
2022-05-20T19:28:57.2778588Z                  timeout=DEFAULT_TIMEOUT_SECONDS, tls=False,
2022-05-20T19:28:57.2778922Z                  user_agent=DEFAULT_USER_AGENT, num_pools=None,
2022-05-20T19:28:57.2779237Z                  credstore_env=None, use_ssh_client=False,
2022-05-20T19:28:57.2779662Z                  max_pool_size=DEFAULT_MAX_POOL_SIZE):
2022-05-20T19:28:57.2779966Z         super().__init__()
2022-05-20T19:28:57.2780684Z     
2022-05-20T19:28:57.2780899Z         if tls and not base_url:
2022-05-20T19:28:57.2781164Z             raise TLSParameterError(
2022-05-20T19:28:57.2781640Z                 'If using TLS, the base_url argument must be provided.'
2022-05-20T19:28:57.2781903Z             )
2022-05-20T19:28:57.2782091Z     
2022-05-20T19:28:57.2782747Z         self.base_url = base_url
2022-05-20T19:28:57.2783097Z         self.timeout = timeout
2022-05-20T19:28:57.2783597Z         self.headers['User-Agent'] = user_agent
2022-05-20T19:28:57.2784061Z     
2022-05-20T19:28:57.2784331Z         self._general_configs = config.load_general_config()
2022-05-20T19:28:57.2784577Z     
2022-05-20T19:28:57.2784950Z         proxy_config = self._general_configs.get('proxies', {})
2022-05-20T19:28:57.2785353Z         try:
2022-05-20T19:28:57.2785693Z             proxies = proxy_config[base_url]
2022-05-20T19:28:57.2786174Z         except KeyError:
2022-05-20T19:28:57.2786720Z             proxies = proxy_config.get('default', {})
2022-05-20T19:28:57.2787093Z     
2022-05-20T19:28:57.2787383Z         self._proxy_configs = ProxyConfig.from_dict(proxies)
2022-05-20T19:28:57.2787644Z     
2022-05-20T19:28:57.2787876Z         self._auth_configs = auth.load_config(
2022-05-20T19:28:57.2788313Z             config_dict=self._general_configs, credstore_env=credstore_env,
2022-05-20T19:28:57.2788704Z         )
2022-05-20T19:28:57.2788962Z         self.credstore_env = credstore_env
2022-05-20T19:28:57.2789291Z     
2022-05-20T19:28:57.2789526Z         base_url = utils.parse_host(
2022-05-20T19:28:57.2789841Z             base_url, IS_WINDOWS_PLATFORM, tls=bool(tls)
2022-05-20T19:28:57.2790186Z         )
2022-05-20T19:28:57.2790486Z         # SSH has a different default for num_pools to all other adapters
2022-05-20T19:28:57.2790945Z         num_pools = num_pools or DEFAULT_NUM_POOLS_SSH if \
2022-05-20T19:28:57.2791520Z             base_url.startswith('ssh://') else DEFAULT_NUM_POOLS
2022-05-20T19:28:57.2791902Z     
2022-05-20T19:28:57.2792273Z         if base_url.startswith('http+unix://'):
2022-05-20T19:28:57.2792719Z             self._custom_adapter = UnixHTTPAdapter(
2022-05-20T19:28:57.2793146Z                 base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.2793544Z                 max_pool_size=max_pool_size
2022-05-20T19:28:57.2793867Z             )
2022-05-20T19:28:57.2794293Z             self.mount('http+docker://', self._custom_adapter)
2022-05-20T19:28:57.2794834Z             self._unmount('http://', 'https://')
2022-05-20T19:28:57.2795434Z             # host part of URL should be unused, but is resolved by requests
2022-05-20T19:28:57.2795893Z             # module in proxy_bypass_macosx_sysconf()
2022-05-20T19:28:57.2796436Z             self.base_url = 'http+docker://localhost'
2022-05-20T19:28:57.2796978Z         elif base_url.startswith('npipe://'):
2022-05-20T19:28:57.2797375Z             if not IS_WINDOWS_PLATFORM:
2022-05-20T19:28:57.2797681Z                 raise DockerException(
2022-05-20T19:28:57.2798119Z                     'The npipe:// protocol is only supported on Windows'
2022-05-20T19:28:57.2798399Z                 )
2022-05-20T19:28:57.2798592Z             try:
2022-05-20T19:28:57.2798864Z                 self._custom_adapter = NpipeHTTPAdapter(
2022-05-20T19:28:57.2799202Z                     base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.2799521Z                     max_pool_size=max_pool_size
2022-05-20T19:28:57.2799744Z                 )
2022-05-20T19:28:57.2799966Z             except NameError:
2022-05-20T19:28:57.2800221Z                 raise DockerException(
2022-05-20T19:28:57.2800647Z                     'Install pypiwin32 package to enable npipe:// support'
2022-05-20T19:28:57.2800928Z                 )
2022-05-20T19:28:57.2801307Z             self.mount('http+docker://', self._custom_adapter)
2022-05-20T19:28:57.2801742Z             self.base_url = 'http+docker://localnpipe'
2022-05-20T19:28:57.2802318Z         elif base_url.startswith('ssh://'):
2022-05-20T19:28:57.2802688Z             try:
2022-05-20T19:28:57.2803059Z                 self._custom_adapter = SSHHTTPAdapter(
2022-05-20T19:28:57.2803481Z                     base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.2803929Z                     max_pool_size=max_pool_size, shell_out=use_ssh_client
2022-05-20T19:28:57.2804295Z                 )
2022-05-20T19:28:57.2804812Z             except NameError:
2022-05-20T19:28:57.2805163Z                 raise DockerException(
2022-05-20T19:28:57.2805718Z                     'Install paramiko package to enable ssh:// support'
2022-05-20T19:28:57.2806107Z                 )
2022-05-20T19:28:57.2806598Z             self.mount('http+docker://ssh', self._custom_adapter)
2022-05-20T19:28:57.2807152Z             self._unmount('http://', 'https://')
2022-05-20T19:28:57.2807670Z             self.base_url = 'http+docker://ssh'
2022-05-20T19:28:57.2808024Z         else:
2022-05-20T19:28:57.2828238Z             # Use SSLAdapter for the ability to specify SSL version
2022-05-20T19:28:57.2828812Z             if isinstance(tls, TLSConfig):
2022-05-20T19:28:57.2829203Z                 tls.configure_client(self)
2022-05-20T19:28:57.2829543Z             elif tls:
2022-05-20T19:28:57.2829919Z                 self._custom_adapter = SSLHTTPAdapter(
2022-05-20T19:28:57.2830234Z                     pool_connections=num_pools)
2022-05-20T19:28:57.2830734Z                 self.mount('https://', self._custom_adapter)
2022-05-20T19:28:57.2831025Z             self.base_url = base_url
2022-05-20T19:28:57.2831251Z     
2022-05-20T19:28:57.2831528Z         # version detection needs to be after unix adapter mounting
2022-05-20T19:28:57.2831848Z         if version is None or (isinstance(
2022-05-20T19:28:57.2832098Z                                 version,
2022-05-20T19:28:57.2832331Z                                 str
2022-05-20T19:28:57.2832886Z                                 ) and version.lower() == 'auto'):
2022-05-20T19:28:57.2833318Z >           self._version = self._retrieve_server_version()
2022-05-20T19:28:57.2833599Z 
2022-05-20T19:28:57.2834053Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:197: 
2022-05-20T19:28:57.2834434Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2834600Z 
2022-05-20T19:28:57.2834781Z self = <docker.api.client.APIClient object at 0x7f647ee74910>
2022-05-20T19:28:57.2834997Z 
2022-05-20T19:28:57.2835122Z     def _retrieve_server_version(self):
2022-05-20T19:28:57.2835507Z         try:
2022-05-20T19:28:57.2835945Z             return self.version(api_version=False)["ApiVersion"]
2022-05-20T19:28:57.2836341Z         except KeyError:
2022-05-20T19:28:57.2836680Z             raise DockerException(
2022-05-20T19:28:57.2837224Z                 'Invalid response from docker daemon: key "ApiVersion"'
2022-05-20T19:28:57.2837705Z                 ' is missing.'
2022-05-20T19:28:57.2838034Z             )
2022-05-20T19:28:57.2838346Z         except Exception as e:
2022-05-20T19:28:57.2838662Z             raise DockerException(
2022-05-20T19:28:57.2839076Z >               f'Error while fetching server API version: {e}'
2022-05-20T19:28:57.2839332Z             )
2022-05-20T19:28:57.2839832Z E           docker.errors.DockerException: Error while fetching server API version: module responses has no attribute _is_string
2022-05-20T19:28:57.2840239Z 
2022-05-20T19:28:57.2840711Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:222: DockerException
2022-05-20T19:28:57.2840992Z 
2022-05-20T19:28:57.2841289Z During handling of the above exception, another exception occurred:
2022-05-20T19:28:57.2841599Z 
2022-05-20T19:28:57.2841752Z args = (), kwargs = {}
2022-05-20T19:28:57.2842041Z ecr_client = <botocore.client.ECR object at 0x7f647e409f50>
2022-05-20T19:28:57.2842538Z repo_name = 'my_bento-sagemaker'
2022-05-20T19:28:57.2843409Z iam_role_policy = '\n        {\n            "Version": "2019-10-10",\n            "Statement": [\n                {\n                   ...    "Service": "sagemaker.amazonaws.com"\n                    }\n                }\n            ]\n        }\n        '
2022-05-20T19:28:57.2844028Z iam_client = <botocore.client.IAM object at 0x7f647e5f8910>
2022-05-20T19:28:57.2844315Z 
2022-05-20T19:28:57.2844456Z     @mock_ecr
2022-05-20T19:28:57.2844653Z     @mock_iam
2022-05-20T19:28:57.2845166Z     @mock_sts
2022-05-20T19:28:57.2845487Z     @moto_mock_sagemaker
2022-05-20T19:28:57.2845836Z     def mock_wrapper(*args, **kwargs):
2022-05-20T19:28:57.2846365Z         ecr_client = boto3.client('ecr', TEST_AWS_REGION)
2022-05-20T19:28:57.2846921Z         repo_name = TEST_DEPLOYMENT_BENTO_NAME + '-sagemaker'
2022-05-20T19:28:57.2847297Z         try:
2022-05-20T19:28:57.2847675Z             ecr_client.create_repository(repositoryName=repo_name)
2022-05-20T19:28:57.2848208Z         except ecr_client.exceptions.RepositoryAlreadyExistsException:
2022-05-20T19:28:57.2848916Z             print('Repository already exists')
2022-05-20T19:28:57.2849294Z     
2022-05-20T19:28:57.2849521Z         iam_role_policy = """
2022-05-20T19:28:57.2849847Z         {
2022-05-20T19:28:57.2850194Z             "Version": "2019-10-10",
2022-05-20T19:28:57.2850537Z             "Statement": [
2022-05-20T19:28:57.2850847Z                 {
2022-05-20T19:28:57.2851166Z                     "Effect": "Allow",
2022-05-20T19:28:57.2851513Z                     "Action": "*",
2022-05-20T19:28:57.2851845Z                     "Principal": {
2022-05-20T19:28:57.2852243Z                         "Service": "sagemaker.amazonaws.com"
2022-05-20T19:28:57.2852603Z                     }
2022-05-20T19:28:57.2852902Z                 }
2022-05-20T19:28:57.2853122Z             ]
2022-05-20T19:28:57.2853322Z         }
2022-05-20T19:28:57.2853514Z         """
2022-05-20T19:28:57.2853872Z         iam_client = boto3.client('iam', TEST_AWS_REGION)
2022-05-20T19:28:57.2854279Z         iam_client.create_role(
2022-05-20T19:28:57.2854711Z             RoleName="moto", AssumeRolePolicyDocument=iam_role_policy
2022-05-20T19:28:57.2855096Z         )
2022-05-20T19:28:57.2855344Z >       return func(*args, **kwargs)
2022-05-20T19:28:57.2855508Z 
2022-05-20T19:28:57.2855662Z tests/deployment/sagemaker/test_sagemaker.py:168: 
2022-05-20T19:28:57.2855977Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2856606Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/mock/mock.py:1346: in patched
2022-05-20T19:28:57.2857091Z     return func(*newargs, **newkeywargs)
2022-05-20T19:28:57.2857525Z tests/deployment/sagemaker/test_sagemaker.py:191: in mock_wrapper
2022-05-20T19:28:57.2857932Z     return func(*args, **kwargs)
2022-05-20T19:28:57.2858363Z tests/deployment/sagemaker/test_sagemaker.py:250: in test_sagemaker_apply_success
2022-05-20T19:28:57.2858883Z     deployment_operator = SageMakerDeploymentOperator(yatai_service)
2022-05-20T19:28:57.2859377Z bentoml/yatai/deployment/sagemaker/operator.py:432: in __init__
2022-05-20T19:28:57.2860187Z     ensure_docker_available_or_raise()
2022-05-20T19:28:57.2860578Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2860836Z 
2022-05-20T19:28:57.2861294Z     def ensure_docker_available_or_raise() -> None:
2022-05-20T19:28:57.2861558Z         """
2022-05-20T19:28:57.2861671Z         Ensure docker is available.
2022-05-20T19:28:57.2861753Z     
2022-05-20T19:28:57.2861838Z         Raises:
2022-05-20T19:28:57.2861983Z             :class:`~MissingDependencyException`:
2022-05-20T19:28:57.2862130Z                 for :class:`~docker.errors.APIErrors`
2022-05-20T19:28:57.2862450Z                 or :class:`~docker.errors.DockerException`
2022-05-20T19:28:57.2862546Z         """
2022-05-20T19:28:57.2862641Z         try:
2022-05-20T19:28:57.2862755Z             client = docker.from_env()
2022-05-20T19:28:57.2862952Z             client.ping()
2022-05-20T19:28:57.2863107Z         except docker.errors.APIError as error:
2022-05-20T19:28:57.2863555Z             raise MissingDependencyException(f'Docker server is not responsive. {error}')
2022-05-20T19:28:57.2863805Z         except docker.errors.DockerException:
2022-05-20T19:28:57.2863968Z             raise MissingDependencyException(
2022-05-20T19:28:57.2864263Z >               'Docker is required for this deployment. Please visit '
2022-05-20T19:28:57.2864814Z                 'www.docker.com for instructions'
2022-05-20T19:28:57.2864999Z             )
2022-05-20T19:28:57.2865354Z E           bentoml.exceptions.MissingDependencyException: Docker is required for this deployment. Please visit www.docker.com for instructions
2022-05-20T19:28:57.2865364Z 
2022-05-20T19:28:57.2865659Z bentoml/yatai/deployment/docker_utils.py:28: MissingDependencyException
2022-05-20T19:28:57.2865923Z ____________________ test_sagemaker_apply_create_model_fail ____________________
2022-05-20T19:28:57.2865948Z 
2022-05-20T19:28:57.2866241Z self = <docker.api.client.APIClient object at 0x7f6486863350>
2022-05-20T19:28:57.2866253Z 
2022-05-20T19:28:57.2866506Z     def _retrieve_server_version(self):
2022-05-20T19:28:57.2866606Z         try:
2022-05-20T19:28:57.2866786Z >           return self.version(api_version=False)["ApiVersion"]
2022-05-20T19:28:57.2866795Z 
2022-05-20T19:28:57.2867262Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:214: 
2022-05-20T19:28:57.2867506Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2867533Z 
2022-05-20T19:28:57.2867728Z self = <docker.api.client.APIClient object at 0x7f6486863350>
2022-05-20T19:28:57.2867815Z api_version = False
2022-05-20T19:28:57.2867833Z 
2022-05-20T19:28:57.2867950Z     def version(self, api_version=True):
2022-05-20T19:28:57.2868029Z         """
2022-05-20T19:28:57.2868208Z         Returns version information from the server. Similar to the ``docker
2022-05-20T19:28:57.2868412Z         version`` command.
2022-05-20T19:28:57.2868514Z     
2022-05-20T19:28:57.2868597Z         Returns:
2022-05-20T19:28:57.2868735Z             (dict): The server version information
2022-05-20T19:28:57.2868800Z     
2022-05-20T19:28:57.2868984Z         Raises:
2022-05-20T19:28:57.2869145Z             :py:class:`docker.errors.APIError`
2022-05-20T19:28:57.2869290Z                 If the server returns an error.
2022-05-20T19:28:57.2869368Z         """
2022-05-20T19:28:57.2869619Z         url = self._url("/version", versioned_api=api_version)
2022-05-20T19:28:57.2869899Z >       return self._result(self._get(url), json=True)
2022-05-20T19:28:57.2869909Z 
2022-05-20T19:28:57.2870272Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/daemon.py:181: 
2022-05-20T19:28:57.2870399Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2870407Z 
2022-05-20T19:28:57.2870580Z self = <docker.api.client.APIClient object at 0x7f6486863350>
2022-05-20T19:28:57.2870839Z args = ('http+docker://localhost/version',), kwargs = {}
2022-05-20T19:28:57.2870848Z 
2022-05-20T19:28:57.2870965Z     def inner(self, *args, **kwargs):
2022-05-20T19:28:57.2871182Z         if 'HttpHeaders' in self._general_configs:
2022-05-20T19:28:57.2871515Z             if not kwargs.get('headers'):
2022-05-20T19:28:57.2871811Z                 kwargs['headers'] = self._general_configs['HttpHeaders']
2022-05-20T19:28:57.2871896Z             else:
2022-05-20T19:28:57.2872304Z                 kwargs['headers'].update(self._general_configs['HttpHeaders'])
2022-05-20T19:28:57.2872524Z >       return f(self, *args, **kwargs)
2022-05-20T19:28:57.2872549Z 
2022-05-20T19:28:57.2872938Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/utils/decorators.py:46: 
2022-05-20T19:28:57.2873071Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2873078Z 
2022-05-20T19:28:57.2873366Z self = <docker.api.client.APIClient object at 0x7f6486863350>
2022-05-20T19:28:57.2873678Z url = 'http+docker://localhost/version', kwargs = {'timeout': 60}
2022-05-20T19:28:57.2873794Z 
2022-05-20T19:28:57.2873928Z     @update_headers
2022-05-20T19:28:57.2874045Z     def _get(self, url, **kwargs):
2022-05-20T19:28:57.2874207Z >       return self.get(url, **self._set_request_timeout(kwargs))
2022-05-20T19:28:57.2874215Z 
2022-05-20T19:28:57.2874676Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:237: 
2022-05-20T19:28:57.2875075Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2875102Z 
2022-05-20T19:28:57.2875543Z self = <docker.api.client.APIClient object at 0x7f6486863350>
2022-05-20T19:28:57.2875945Z url = 'http+docker://localhost/version'
2022-05-20T19:28:57.2876293Z kwargs = {'allow_redirects': True, 'timeout': 60}
2022-05-20T19:28:57.2876404Z 
2022-05-20T19:28:57.2876578Z     def get(self, url, **kwargs):
2022-05-20T19:28:57.2876888Z         r"""Sends a GET request. Returns :class:`Response` object.
2022-05-20T19:28:57.2876979Z     
2022-05-20T19:28:57.2877127Z         :param url: URL for the new :class:`Request` object.
2022-05-20T19:28:57.2877448Z         :param \*\*kwargs: Optional arguments that ``request`` takes.
2022-05-20T19:28:57.2877582Z         :rtype: requests.Response
2022-05-20T19:28:57.2877662Z         """
2022-05-20T19:28:57.2877830Z     
2022-05-20T19:28:57.2878109Z         kwargs.setdefault('allow_redirects', True)
2022-05-20T19:28:57.2878330Z >       return self.request('GET', url, **kwargs)
2022-05-20T19:28:57.2878442Z 
2022-05-20T19:28:57.2878865Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:542: 
2022-05-20T19:28:57.2878996Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2879004Z 
2022-05-20T19:28:57.2879305Z self = <docker.api.client.APIClient object at 0x7f6486863350>, method = 'GET'
2022-05-20T19:28:57.2879739Z url = 'http+docker://localhost/version', params = None, data = None
2022-05-20T19:28:57.2879912Z headers = None, cookies = None, files = None, auth = None, timeout = 60
2022-05-20T19:28:57.2880209Z allow_redirects = True, proxies = {}, hooks = None, stream = None, verify = None
2022-05-20T19:28:57.2880327Z cert = None, json = None
2022-05-20T19:28:57.2880349Z 
2022-05-20T19:28:57.2880478Z     def request(self, method, url,
2022-05-20T19:28:57.2880786Z             params=None, data=None, headers=None, cookies=None, files=None,
2022-05-20T19:28:57.2881077Z             auth=None, timeout=None, allow_redirects=True, proxies=None,
2022-05-20T19:28:57.2881260Z             hooks=None, stream=None, verify=None, cert=None, json=None):
2022-05-20T19:28:57.2881469Z         """Constructs a :class:`Request <Request>`, prepares it and sends it.
2022-05-20T19:28:57.2881615Z         Returns :class:`Response <Response>` object.
2022-05-20T19:28:57.2881692Z     
2022-05-20T19:28:57.2881845Z         :param method: method for the new :class:`Request` object.
2022-05-20T19:28:57.2882002Z         :param url: URL for the new :class:`Request` object.
2022-05-20T19:28:57.2882183Z         :param params: (optional) Dictionary or bytes to be sent in the query
2022-05-20T19:28:57.2882420Z             string for the :class:`Request`.
2022-05-20T19:28:57.2882754Z         :param data: (optional) Dictionary, list of tuples, bytes, or file-like
2022-05-20T19:28:57.2883008Z             object to send in the body of the :class:`Request`.
2022-05-20T19:28:57.2883187Z         :param json: (optional) json to send in the body of the
2022-05-20T19:28:57.2883375Z             :class:`Request`.
2022-05-20T19:28:57.2883583Z         :param headers: (optional) Dictionary of HTTP Headers to send with the
2022-05-20T19:28:57.2883682Z             :class:`Request`.
2022-05-20T19:28:57.2883959Z         :param cookies: (optional) Dict or CookieJar object to send with the
2022-05-20T19:28:57.2884066Z             :class:`Request`.
2022-05-20T19:28:57.2884385Z         :param files: (optional) Dictionary of ``'filename': file-like-objects``
2022-05-20T19:28:57.2884618Z             for multipart encoding upload.
2022-05-20T19:28:57.2884797Z         :param auth: (optional) Auth tuple or callable to enable
2022-05-20T19:28:57.2885010Z             Basic/Digest/Custom HTTP Auth.
2022-05-20T19:28:57.2885203Z         :param timeout: (optional) How long to wait for the server to send
2022-05-20T19:28:57.2885462Z             data before giving up, as a float, or a :ref:`(connect timeout,
2022-05-20T19:28:57.2885869Z             read timeout) <timeouts>` tuple.
2022-05-20T19:28:57.2886004Z         :type timeout: float or tuple
2022-05-20T19:28:57.2886168Z         :param allow_redirects: (optional) Set to True by default.
2022-05-20T19:28:57.2886460Z         :type allow_redirects: bool
2022-05-20T19:28:57.2886669Z         :param proxies: (optional) Dictionary mapping protocol or protocol and
2022-05-20T19:28:57.2886801Z             hostname to the URL of the proxy.
2022-05-20T19:28:57.2887101Z         :param stream: (optional) whether to immediately download the response
2022-05-20T19:28:57.2887360Z             content. Defaults to ``False``.
2022-05-20T19:28:57.2887588Z         :param verify: (optional) Either a boolean, in which case it controls whether we verify
2022-05-20T19:28:57.2888017Z             the server's TLS certificate, or a string, in which case it must be a path
2022-05-20T19:28:57.2888287Z             to a CA bundle to use. Defaults to ``True``. When set to
2022-05-20T19:28:57.2888493Z             ``False``, requests will accept any TLS certificate presented by
2022-05-20T19:28:57.2888666Z             the server, and will ignore hostname mismatches and/or expired
2022-05-20T19:28:57.2888942Z             certificates, which will make your application vulnerable to
2022-05-20T19:28:57.2889243Z             man-in-the-middle (MitM) attacks. Setting verify to ``False``
2022-05-20T19:28:57.2889504Z             may be useful during local development or testing.
2022-05-20T19:28:57.2889713Z         :param cert: (optional) if String, path to ssl client cert file (.pem).
2022-05-20T19:28:57.2889936Z             If Tuple, ('cert', 'key') pair.
2022-05-20T19:28:57.2890154Z         :rtype: requests.Response
2022-05-20T19:28:57.2890253Z         """
2022-05-20T19:28:57.2890356Z         # Create the Request.
2022-05-20T19:28:57.2890542Z         req = Request(
2022-05-20T19:28:57.2890670Z             method=method.upper(),
2022-05-20T19:28:57.2890774Z             url=url,
2022-05-20T19:28:57.2890882Z             headers=headers,
2022-05-20T19:28:57.2890994Z             files=files,
2022-05-20T19:28:57.2891093Z             data=data or {},
2022-05-20T19:28:57.2891183Z             json=json,
2022-05-20T19:28:57.2891395Z             params=params or {},
2022-05-20T19:28:57.2891507Z             auth=auth,
2022-05-20T19:28:57.2891605Z             cookies=cookies,
2022-05-20T19:28:57.2891697Z             hooks=hooks,
2022-05-20T19:28:57.2891764Z         )
2022-05-20T19:28:57.2891985Z         prep = self.prepare_request(req)
2022-05-20T19:28:57.2892132Z     
2022-05-20T19:28:57.2892246Z         proxies = proxies or {}
2022-05-20T19:28:57.2892319Z     
2022-05-20T19:28:57.2892466Z         settings = self.merge_environment_settings(
2022-05-20T19:28:57.2892609Z             prep.url, proxies, stream, verify, cert
2022-05-20T19:28:57.2892675Z         )
2022-05-20T19:28:57.2892748Z     
2022-05-20T19:28:57.2892843Z         # Send the request.
2022-05-20T19:28:57.2893056Z         send_kwargs = {
2022-05-20T19:28:57.2893264Z             'timeout': timeout,
2022-05-20T19:28:57.2893585Z             'allow_redirects': allow_redirects,
2022-05-20T19:28:57.2893768Z         }
2022-05-20T19:28:57.2893908Z         send_kwargs.update(settings)
2022-05-20T19:28:57.2894045Z >       resp = self.send(prep, **send_kwargs)
2022-05-20T19:28:57.2894143Z 
2022-05-20T19:28:57.2894572Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:529: 
2022-05-20T19:28:57.2894691Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2894705Z 
2022-05-20T19:28:57.2894997Z self = <docker.api.client.APIClient object at 0x7f6486863350>
2022-05-20T19:28:57.2895139Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.2895484Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.2895738Z allow_redirects = True, stream = False, hooks = {'response': []}
2022-05-20T19:28:57.2895968Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f647e5587d0>
2022-05-20T19:28:57.2896199Z start = 1653074849.6415052
2022-05-20T19:28:57.2896209Z 
2022-05-20T19:28:57.2896329Z     def send(self, request, **kwargs):
2022-05-20T19:28:57.2896455Z         """Send a given PreparedRequest.
2022-05-20T19:28:57.2896673Z     
2022-05-20T19:28:57.2896808Z         :rtype: requests.Response
2022-05-20T19:28:57.2896886Z         """
2022-05-20T19:28:57.2912542Z         # Set defaults that the hooks can utilize to ensure they always have
2022-05-20T19:28:57.2913201Z         # the correct parameters to reproduce the previous request.
2022-05-20T19:28:57.2913671Z         kwargs.setdefault('stream', self.stream)
2022-05-20T19:28:57.2914013Z         kwargs.setdefault('verify', self.verify)
2022-05-20T19:28:57.2914329Z         kwargs.setdefault('cert', self.cert)
2022-05-20T19:28:57.2914624Z         if 'proxies' not in kwargs:
2022-05-20T19:28:57.2914882Z             kwargs['proxies'] = resolve_proxies(
2022-05-20T19:28:57.2915035Z                 request, self.proxies, self.trust_env
2022-05-20T19:28:57.2915106Z             )
2022-05-20T19:28:57.2915183Z     
2022-05-20T19:28:57.2915628Z         # It's possible that users might accidentally send a Request object.
2022-05-20T19:28:57.2915771Z         # Guard against that specific failure case.
2022-05-20T19:28:57.2916253Z         if isinstance(request, Request):
2022-05-20T19:28:57.2916612Z             raise ValueError('You can only send PreparedRequests.')
2022-05-20T19:28:57.2916689Z     
2022-05-20T19:28:57.2916880Z         # Set up variables needed for resolve_redirects and dispatching of hooks
2022-05-20T19:28:57.2917134Z         allow_redirects = kwargs.pop('allow_redirects', True)
2022-05-20T19:28:57.2917643Z         stream = kwargs.get('stream')
2022-05-20T19:28:57.2917752Z         hooks = request.hooks
2022-05-20T19:28:57.2917939Z     
2022-05-20T19:28:57.2918108Z         # Get the appropriate adapter to use
2022-05-20T19:28:57.2918254Z         adapter = self.get_adapter(url=request.url)
2022-05-20T19:28:57.2918336Z     
2022-05-20T19:28:57.2918466Z         # Start time (approximately) of the request
2022-05-20T19:28:57.2918686Z         start = preferred_clock()
2022-05-20T19:28:57.2918778Z     
2022-05-20T19:28:57.2918874Z         # Send the request
2022-05-20T19:28:57.2919002Z >       r = adapter.send(request, **kwargs)
2022-05-20T19:28:57.2919101Z 
2022-05-20T19:28:57.2919543Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:645: 
2022-05-20T19:28:57.2919677Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2919791Z 
2022-05-20T19:28:57.2920134Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f647e5587d0>
2022-05-20T19:28:57.2920269Z request = <PreparedRequest [GET]>, a = ()
2022-05-20T19:28:57.2920588Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.2920598Z 
2022-05-20T19:28:57.2920752Z     def unbound_on_send(adapter, request, *a, **kwargs):
2022-05-20T19:28:57.2920905Z >       return self._on_request(adapter, request, *a, **kwargs)
2022-05-20T19:28:57.2920912Z 
2022-05-20T19:28:57.2921403Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:841: 
2022-05-20T19:28:57.2921532Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2921640Z 
2022-05-20T19:28:57.2921867Z self = <responses.RequestsMock object at 0x7f64a905d950>
2022-05-20T19:28:57.2922101Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f647e5587d0>
2022-05-20T19:28:57.2922323Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.2922657Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.2922759Z 
2022-05-20T19:28:57.2922967Z     def _on_request(self, adapter, request, **kwargs):
2022-05-20T19:28:57.2923310Z         # add attributes params and req_kwargs to 'request' object for further match comparison
2022-05-20T19:28:57.2923816Z         # original request object does not have these attributes
2022-05-20T19:28:57.2924016Z         request.params = self._parse_request_params(request.path_url)
2022-05-20T19:28:57.2924226Z         request.req_kwargs = kwargs
2022-05-20T19:28:57.2924307Z     
2022-05-20T19:28:57.2924477Z >       match, match_failed_reasons = self._find_match(request)
2022-05-20T19:28:57.2924500Z 
2022-05-20T19:28:57.2924865Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:779: 
2022-05-20T19:28:57.2925220Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2925342Z 
2022-05-20T19:28:57.2925571Z self = <responses.RequestsMock object at 0x7f64a905d950>
2022-05-20T19:28:57.2925694Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.2925792Z 
2022-05-20T19:28:57.2925962Z     def _find_match(self, request):
2022-05-20T19:28:57.2926042Z         """
2022-05-20T19:28:57.2926358Z         Iterates through all available matches and validates if any of them matches the request
2022-05-20T19:28:57.2926537Z     
2022-05-20T19:28:57.2926711Z         :param request: (PreparedRequest), request object
2022-05-20T19:28:57.2926809Z         :return:
2022-05-20T19:28:57.2927021Z             (Response) found match. If multiple found, then remove & return the first match.
2022-05-20T19:28:57.2927384Z             (list) list with reasons why other matches don't match
2022-05-20T19:28:57.2927576Z         """
2022-05-20T19:28:57.2927728Z >       return self._registry.find(request)
2022-05-20T19:28:57.2927756Z 
2022-05-20T19:28:57.2928121Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:762: 
2022-05-20T19:28:57.2928348Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2928374Z 
2022-05-20T19:28:57.2928603Z self = <responses.registries.FirstMatchRegistry object at 0x7f647e345f10>
2022-05-20T19:28:57.2928727Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.2928740Z 
2022-05-20T19:28:57.2928821Z     def find(
2022-05-20T19:28:57.2929046Z         self, request: "PreparedRequest"
2022-05-20T19:28:57.2929305Z     ) -> Tuple[Optional["BaseResponse"], List[str]]:
2022-05-20T19:28:57.2929497Z         found = None
2022-05-20T19:28:57.2929795Z         found_match = None
2022-05-20T19:28:57.2929896Z         match_failed_reasons = []
2022-05-20T19:28:57.2930048Z         for i, response in enumerate(self.registered):
2022-05-20T19:28:57.2930204Z >           match_result, reason = response.matches(request)
2022-05-20T19:28:57.2930218Z 
2022-05-20T19:28:57.2930577Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/registries.py:32: 
2022-05-20T19:28:57.2930701Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2930709Z 
2022-05-20T19:28:57.2931028Z self = <moto.core.models.CallbackResponse object at 0x7f64875d2890>
2022-05-20T19:28:57.2931168Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.2931195Z 
2022-05-20T19:28:57.2931304Z     def matches(self, request):
2022-05-20T19:28:57.2944227Z         if request.method != self.method:
2022-05-20T19:28:57.2944628Z             return False, "Method does not match"
2022-05-20T19:28:57.2944716Z     
2022-05-20T19:28:57.2944970Z >       if not self._url_matches(self.url, request.url):
2022-05-20T19:28:57.2944982Z 
2022-05-20T19:28:57.2945402Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:350: 
2022-05-20T19:28:57.2945539Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2945548Z 
2022-05-20T19:28:57.2945742Z self = <moto.core.models.CallbackResponse object at 0x7f64875d2890>
2022-05-20T19:28:57.2945976Z url = re.compile('https?://ecr.(.+).amazonaws.com/$')
2022-05-20T19:28:57.2946445Z other = 'http+docker://localhost/version', match_querystring = False
2022-05-20T19:28:57.2946556Z 
2022-05-20T19:28:57.2946793Z     def _url_matches(self, url, other, match_querystring=False):
2022-05-20T19:28:57.2947058Z         """
2022-05-20T19:28:57.2947249Z         Need to override this so we can fix querystrings breaking regex matching
2022-05-20T19:28:57.2947317Z         """
2022-05-20T19:28:57.2947579Z         if not match_querystring:
2022-05-20T19:28:57.2947724Z             other = other.split("?", 1)[0]
2022-05-20T19:28:57.2947813Z     
2022-05-20T19:28:57.2947944Z >       if responses._is_string(url):
2022-05-20T19:28:57.2947954Z 
2022-05-20T19:28:57.2948472Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/moto/core/models.py:198: 
2022-05-20T19:28:57.2948610Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2948619Z 
2022-05-20T19:28:57.2948767Z name = '_is_string'
2022-05-20T19:28:57.2948775Z 
2022-05-20T19:28:57.2948872Z     def __getattr__(name):
2022-05-20T19:28:57.2948986Z         if name in deprecated_names:
2022-05-20T19:28:57.2949203Z             warn(
2022-05-20T19:28:57.2949527Z                 f"{name} is deprecated. Please use 'responses.mock.{name}",
2022-05-20T19:28:57.2949644Z                 DeprecationWarning,
2022-05-20T19:28:57.2949835Z             )
2022-05-20T19:28:57.2950006Z             return globals()[f"_deprecated_{name}"]
2022-05-20T19:28:57.2950180Z >       raise AttributeError(f"module {__name__} has no attribute {name}")
2022-05-20T19:28:57.2950356Z E       AttributeError: module responses has no attribute _is_string
2022-05-20T19:28:57.2950365Z 
2022-05-20T19:28:57.2950754Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:969: AttributeError
2022-05-20T19:28:57.2950764Z 
2022-05-20T19:28:57.2950943Z During handling of the above exception, another exception occurred:
2022-05-20T19:28:57.2950951Z 
2022-05-20T19:28:57.2951309Z     def ensure_docker_available_or_raise() -> None:
2022-05-20T19:28:57.2951391Z         """
2022-05-20T19:28:57.2951600Z         Ensure docker is available.
2022-05-20T19:28:57.2951698Z     
2022-05-20T19:28:57.2951780Z         Raises:
2022-05-20T19:28:57.2952034Z             :class:`~MissingDependencyException`:
2022-05-20T19:28:57.2952198Z                 for :class:`~docker.errors.APIErrors`
2022-05-20T19:28:57.2952378Z                 or :class:`~docker.errors.DockerException`
2022-05-20T19:28:57.2952456Z         """
2022-05-20T19:28:57.2952628Z         try:
2022-05-20T19:28:57.2952760Z >           client = docker.from_env()
2022-05-20T19:28:57.2952783Z 
2022-05-20T19:28:57.2952929Z bentoml/yatai/deployment/docker_utils.py:22: 
2022-05-20T19:28:57.2953061Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2953159Z 
2022-05-20T19:28:57.2953517Z cls = <class 'docker.client.DockerClient'>, kwargs = {}, timeout = 60
2022-05-20T19:28:57.2953676Z max_pool_size = 10, version = None, use_ssh_client = False
2022-05-20T19:28:57.2953787Z 
2022-05-20T19:28:57.2953942Z     @classmethod
2022-05-20T19:28:57.2954052Z     def from_env(cls, **kwargs):
2022-05-20T19:28:57.2954233Z         """
2022-05-20T19:28:57.2954419Z         Return a client configured from environment variables.
2022-05-20T19:28:57.2954494Z     
2022-05-20T19:28:57.2954764Z         The environment variables used are the same as those used by the
2022-05-20T19:28:57.2955007Z         Docker command-line client. They are:
2022-05-20T19:28:57.2955073Z     
2022-05-20T19:28:57.2955433Z         .. envvar:: DOCKER_HOST
2022-05-20T19:28:57.2955547Z     
2022-05-20T19:28:57.2955679Z             The URL to the Docker host.
2022-05-20T19:28:57.2955753Z     
2022-05-20T19:28:57.2955981Z         .. envvar:: DOCKER_TLS_VERIFY
2022-05-20T19:28:57.2956071Z     
2022-05-20T19:28:57.2956232Z             Verify the host against a CA certificate.
2022-05-20T19:28:57.2956317Z     
2022-05-20T19:28:57.2956436Z         .. envvar:: DOCKER_CERT_PATH
2022-05-20T19:28:57.2956509Z     
2022-05-20T19:28:57.2956831Z             A path to a directory containing TLS certificates to use when
2022-05-20T19:28:57.2957240Z             connecting to the Docker host.
2022-05-20T19:28:57.2957329Z     
2022-05-20T19:28:57.2957411Z         Args:
2022-05-20T19:28:57.2957678Z             version (str): The version of the API to use. Set to ``auto`` to
2022-05-20T19:28:57.2958010Z                 automatically detect the server's version. Default: ``auto``
2022-05-20T19:28:57.2958283Z             timeout (int): Default timeout for API calls, in seconds.
2022-05-20T19:28:57.2959072Z             max_pool_size (int): The maximum number of connections
2022-05-20T19:28:57.2959183Z                 to save in the pool.
2022-05-20T19:28:57.2959467Z             ssl_version (int): A valid `SSL version`_.
2022-05-20T19:28:57.2959639Z             assert_hostname (bool): Verify the hostname of the server.
2022-05-20T19:28:57.2959822Z             environment (dict): The environment to read environment variables
2022-05-20T19:28:57.2959966Z                 from. Default: the value of ``os.environ``
2022-05-20T19:28:57.2960146Z             credstore_env (dict): Override environment variables when calling
2022-05-20T19:28:57.2960278Z                 the credential store process.
2022-05-20T19:28:57.2960440Z             use_ssh_client (bool): If set to `True`, an ssh connection is
2022-05-20T19:28:57.2960603Z                 made via shelling out to the ssh client. Ensure the ssh
2022-05-20T19:28:57.2960755Z                 client is installed and configured on the host.
2022-05-20T19:28:57.2960819Z     
2022-05-20T19:28:57.2960903Z         Example:
2022-05-20T19:28:57.2960973Z     
2022-05-20T19:28:57.2961074Z             >>> import docker
2022-05-20T19:28:57.2961193Z             >>> client = docker.from_env()
2022-05-20T19:28:57.2961267Z     
2022-05-20T19:28:57.2961351Z         .. _`SSL version`:
2022-05-20T19:28:57.2961553Z             https://docs.python.org/3.5/library/ssl.html#ssl.PROTOCOL_TLSv1
2022-05-20T19:28:57.2961631Z         """
2022-05-20T19:28:57.2961936Z         timeout = kwargs.pop('timeout', DEFAULT_TIMEOUT_SECONDS)
2022-05-20T19:28:57.2962217Z         max_pool_size = kwargs.pop('max_pool_size', DEFAULT_MAX_POOL_SIZE)
2022-05-20T19:28:57.2962425Z         version = kwargs.pop('version', None)
2022-05-20T19:28:57.2962662Z         use_ssh_client = kwargs.pop('use_ssh_client', False)
2022-05-20T19:28:57.2962750Z         return cls(
2022-05-20T19:28:57.2962839Z             timeout=timeout,
2022-05-20T19:28:57.2962958Z             max_pool_size=max_pool_size,
2022-05-20T19:28:57.2963055Z             version=version,
2022-05-20T19:28:57.2963171Z             use_ssh_client=use_ssh_client,
2022-05-20T19:28:57.2963285Z >           **kwargs_from_env(**kwargs)
2022-05-20T19:28:57.2963365Z         )
2022-05-20T19:28:57.2963375Z 
2022-05-20T19:28:57.2963713Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/client.py:101: 
2022-05-20T19:28:57.2963830Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2963847Z 
2022-05-20T19:28:57.2964017Z self = <docker.client.DockerClient object at 0x7f6486863150>, args = ()
2022-05-20T19:28:57.2964320Z kwargs = {'max_pool_size': 10, 'timeout': 60, 'use_ssh_client': False, 'version': None}
2022-05-20T19:28:57.2964329Z 
2022-05-20T19:28:57.2964445Z     def __init__(self, *args, **kwargs):
2022-05-20T19:28:57.2964572Z >       self.api = APIClient(*args, **kwargs)
2022-05-20T19:28:57.2964580Z 
2022-05-20T19:28:57.2964904Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/client.py:45: 
2022-05-20T19:28:57.2965030Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2965040Z 
2022-05-20T19:28:57.2965215Z self = <docker.api.client.APIClient object at 0x7f6486863350>
2022-05-20T19:28:57.2965498Z base_url = 'http+unix:///var/run/docker.sock', version = None, timeout = 60
2022-05-20T19:28:57.2965766Z tls = False, user_agent = 'docker-sdk-python/5.0.3', num_pools = 25
2022-05-20T19:28:57.2965920Z credstore_env = None, use_ssh_client = False, max_pool_size = 10
2022-05-20T19:28:57.2966030Z 
2022-05-20T19:28:57.2966178Z     def __init__(self, base_url=None, version=None,
2022-05-20T19:28:57.2966328Z                  timeout=DEFAULT_TIMEOUT_SECONDS, tls=False,
2022-05-20T19:28:57.2966480Z                  user_agent=DEFAULT_USER_AGENT, num_pools=None,
2022-05-20T19:28:57.2966621Z                  credstore_env=None, use_ssh_client=False,
2022-05-20T19:28:57.2966761Z                  max_pool_size=DEFAULT_MAX_POOL_SIZE):
2022-05-20T19:28:57.2966858Z         super().__init__()
2022-05-20T19:28:57.2966931Z     
2022-05-20T19:28:57.2967026Z         if tls and not base_url:
2022-05-20T19:28:57.2967211Z             raise TLSParameterError(
2022-05-20T19:28:57.2967502Z                 'If using TLS, the base_url argument must be provided.'
2022-05-20T19:28:57.2967583Z             )
2022-05-20T19:28:57.2967657Z     
2022-05-20T19:28:57.2967762Z         self.base_url = base_url
2022-05-20T19:28:57.2967864Z         self.timeout = timeout
2022-05-20T19:28:57.2968069Z         self.headers['User-Agent'] = user_agent
2022-05-20T19:28:57.2968147Z     
2022-05-20T19:28:57.2968303Z         self._general_configs = config.load_general_config()
2022-05-20T19:28:57.2968374Z     
2022-05-20T19:28:57.2968627Z         proxy_config = self._general_configs.get('proxies', {})
2022-05-20T19:28:57.2968708Z         try:
2022-05-20T19:28:57.2968835Z             proxies = proxy_config[base_url]
2022-05-20T19:28:57.2968923Z         except KeyError:
2022-05-20T19:28:57.2969143Z             proxies = proxy_config.get('default', {})
2022-05-20T19:28:57.2969215Z     
2022-05-20T19:28:57.2969378Z         self._proxy_configs = ProxyConfig.from_dict(proxies)
2022-05-20T19:28:57.2969447Z     
2022-05-20T19:28:57.2969575Z         self._auth_configs = auth.load_config(
2022-05-20T19:28:57.2969753Z             config_dict=self._general_configs, credstore_env=credstore_env,
2022-05-20T19:28:57.2969820Z         )
2022-05-20T19:28:57.2969947Z         self.credstore_env = credstore_env
2022-05-20T19:28:57.2970022Z     
2022-05-20T19:28:57.2970137Z         base_url = utils.parse_host(
2022-05-20T19:28:57.2970283Z             base_url, IS_WINDOWS_PLATFORM, tls=bool(tls)
2022-05-20T19:28:57.2970361Z         )
2022-05-20T19:28:57.2970535Z         # SSH has a different default for num_pools to all other adapters
2022-05-20T19:28:57.2970678Z         num_pools = num_pools or DEFAULT_NUM_POOLS_SSH if \
2022-05-20T19:28:57.2970945Z             base_url.startswith('ssh://') else DEFAULT_NUM_POOLS
2022-05-20T19:28:57.2971022Z     
2022-05-20T19:28:57.2971255Z         if base_url.startswith('http+unix://'):
2022-05-20T19:28:57.2971405Z             self._custom_adapter = UnixHTTPAdapter(
2022-05-20T19:28:57.2971563Z                 base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.2971683Z                 max_pool_size=max_pool_size
2022-05-20T19:28:57.2971752Z             )
2022-05-20T19:28:57.2972010Z             self.mount('http+docker://', self._custom_adapter)
2022-05-20T19:28:57.2972224Z             self._unmount('http://', 'https://')
2022-05-20T19:28:57.2972401Z             # host part of URL should be unused, but is resolved by requests
2022-05-20T19:28:57.2972541Z             # module in proxy_bypass_macosx_sysconf()
2022-05-20T19:28:57.2972780Z             self.base_url = 'http+docker://localhost'
2022-05-20T19:28:57.2972999Z         elif base_url.startswith('npipe://'):
2022-05-20T19:28:57.2973116Z             if not IS_WINDOWS_PLATFORM:
2022-05-20T19:28:57.2973222Z                 raise DockerException(
2022-05-20T19:28:57.2973485Z                     'The npipe:// protocol is only supported on Windows'
2022-05-20T19:28:57.2973566Z                 )
2022-05-20T19:28:57.2973647Z             try:
2022-05-20T19:28:57.2973800Z                 self._custom_adapter = NpipeHTTPAdapter(
2022-05-20T19:28:57.2973958Z                     base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.2974082Z                     max_pool_size=max_pool_size
2022-05-20T19:28:57.2974152Z                 )
2022-05-20T19:28:57.2974251Z             except NameError:
2022-05-20T19:28:57.2974466Z                 raise DockerException(
2022-05-20T19:28:57.2974754Z                     'Install pypiwin32 package to enable npipe:// support'
2022-05-20T19:28:57.2974836Z                 )
2022-05-20T19:28:57.2975091Z             self.mount('http+docker://', self._custom_adapter)
2022-05-20T19:28:57.2975330Z             self.base_url = 'http+docker://localnpipe'
2022-05-20T19:28:57.2975528Z         elif base_url.startswith('ssh://'):
2022-05-20T19:28:57.2975608Z             try:
2022-05-20T19:28:57.2975824Z                 self._custom_adapter = SSHHTTPAdapter(
2022-05-20T19:28:57.2975988Z                     base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.2976148Z                     max_pool_size=max_pool_size, shell_out=use_ssh_client
2022-05-20T19:28:57.2976225Z                 )
2022-05-20T19:28:57.2976325Z             except NameError:
2022-05-20T19:28:57.2976802Z                 raise DockerException(
2022-05-20T19:28:57.2983251Z                     'Install paramiko package to enable ssh:// support'
2022-05-20T19:28:57.2983703Z                 )
2022-05-20T19:28:57.2984228Z             self.mount('http+docker://ssh', self._custom_adapter)
2022-05-20T19:28:57.2984939Z             self._unmount('http://', 'https://')
2022-05-20T19:28:57.2985466Z             self.base_url = 'http+docker://ssh'
2022-05-20T19:28:57.2985836Z         else:
2022-05-20T19:28:57.2986148Z             # Use SSLAdapter for the ability to specify SSL version
2022-05-20T19:28:57.2986458Z             if isinstance(tls, TLSConfig):
2022-05-20T19:28:57.2986738Z                 tls.configure_client(self)
2022-05-20T19:28:57.2987082Z             elif tls:
2022-05-20T19:28:57.2987449Z                 self._custom_adapter = SSLHTTPAdapter(
2022-05-20T19:28:57.2987769Z                     pool_connections=num_pools)
2022-05-20T19:28:57.2988284Z                 self.mount('https://', self._custom_adapter)
2022-05-20T19:28:57.2988688Z             self.base_url = base_url
2022-05-20T19:28:57.2989014Z     
2022-05-20T19:28:57.2989306Z         # version detection needs to be after unix adapter mounting
2022-05-20T19:28:57.2989715Z         if version is None or (isinstance(
2022-05-20T19:28:57.2990074Z                                 version,
2022-05-20T19:28:57.2990396Z                                 str
2022-05-20T19:28:57.2990884Z                                 ) and version.lower() == 'auto'):
2022-05-20T19:28:57.2991310Z >           self._version = self._retrieve_server_version()
2022-05-20T19:28:57.2991585Z 
2022-05-20T19:28:57.2992030Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:197: 
2022-05-20T19:28:57.2992415Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.2992687Z 
2022-05-20T19:28:57.2992943Z self = <docker.api.client.APIClient object at 0x7f6486863350>
2022-05-20T19:28:57.2993154Z 
2022-05-20T19:28:57.2993278Z     def _retrieve_server_version(self):
2022-05-20T19:28:57.2993527Z         try:
2022-05-20T19:28:57.2993809Z             return self.version(api_version=False)["ApiVersion"]
2022-05-20T19:28:57.2994090Z         except KeyError:
2022-05-20T19:28:57.2994344Z             raise DockerException(
2022-05-20T19:28:57.2994782Z                 'Invalid response from docker daemon: key "ApiVersion"'
2022-05-20T19:28:57.2995130Z                 ' is missing.'
2022-05-20T19:28:57.2995500Z             )
2022-05-20T19:28:57.2995731Z         except Exception as e:
2022-05-20T19:28:57.2995978Z             raise DockerException(
2022-05-20T19:28:57.2996388Z >               f'Error while fetching server API version: {e}'
2022-05-20T19:28:57.2996646Z             )
2022-05-20T19:28:57.2997027Z E           docker.errors.DockerException: Error while fetching server API version: module responses has no attribute _is_string
2022-05-20T19:28:57.2997323Z 
2022-05-20T19:28:57.2997713Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:222: DockerException
2022-05-20T19:28:57.2998198Z 
2022-05-20T19:28:57.2998559Z During handling of the above exception, another exception occurred:
2022-05-20T19:28:57.2998782Z 
2022-05-20T19:28:57.2999003Z args = (), kwargs = {}
2022-05-20T19:28:57.2999414Z ecr_client = <botocore.client.ECR object at 0x7f6486c90d50>
2022-05-20T19:28:57.2999827Z repo_name = 'my_bento-sagemaker'
2022-05-20T19:28:57.3000805Z iam_role_policy = '\n        {\n            "Version": "2019-10-10",\n            "Statement": [\n                {\n                   ...    "Service": "sagemaker.amazonaws.com"\n                    }\n                }\n            ]\n        }\n        '
2022-05-20T19:28:57.3001454Z iam_client = <botocore.client.IAM object at 0x7f6486893a10>
2022-05-20T19:28:57.3001751Z 
2022-05-20T19:28:57.3001903Z     @mock_ecr
2022-05-20T19:28:57.3002098Z     @mock_iam
2022-05-20T19:28:57.3002343Z     @mock_sts
2022-05-20T19:28:57.3002559Z     @moto_mock_sagemaker
2022-05-20T19:28:57.3002805Z     def mock_wrapper(*args, **kwargs):
2022-05-20T19:28:57.3003237Z         ecr_client = boto3.client('ecr', TEST_AWS_REGION)
2022-05-20T19:28:57.3003658Z         repo_name = TEST_DEPLOYMENT_BENTO_NAME + '-sagemaker'
2022-05-20T19:28:57.3003924Z         try:
2022-05-20T19:28:57.3004349Z             ecr_client.create_repository(repositoryName=repo_name)
2022-05-20T19:28:57.3004884Z         except ecr_client.exceptions.RepositoryAlreadyExistsException:
2022-05-20T19:28:57.3005475Z             print('Repository already exists')
2022-05-20T19:28:57.3005817Z     
2022-05-20T19:28:57.3006064Z         iam_role_policy = """
2022-05-20T19:28:57.3006297Z         {
2022-05-20T19:28:57.3006703Z             "Version": "2019-10-10",
2022-05-20T19:28:57.3007052Z             "Statement": [
2022-05-20T19:28:57.3007360Z                 {
2022-05-20T19:28:57.3007683Z                     "Effect": "Allow",
2022-05-20T19:28:57.3008019Z                     "Action": "*",
2022-05-20T19:28:57.3008342Z                     "Principal": {
2022-05-20T19:28:57.3008725Z                         "Service": "sagemaker.amazonaws.com"
2022-05-20T19:28:57.3009090Z                     }
2022-05-20T19:28:57.3009376Z                 }
2022-05-20T19:28:57.3009577Z             ]
2022-05-20T19:28:57.3009773Z         }
2022-05-20T19:28:57.3009953Z         """
2022-05-20T19:28:57.3010439Z         iam_client = boto3.client('iam', TEST_AWS_REGION)
2022-05-20T19:28:57.3010836Z         iam_client.create_role(
2022-05-20T19:28:57.3011266Z             RoleName="moto", AssumeRolePolicyDocument=iam_role_policy
2022-05-20T19:28:57.3011645Z         )
2022-05-20T19:28:57.3011900Z >       return func(*args, **kwargs)
2022-05-20T19:28:57.3012149Z 
2022-05-20T19:28:57.3012368Z tests/deployment/sagemaker/test_sagemaker.py:168: 
2022-05-20T19:28:57.3012685Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3013306Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/mock/mock.py:1346: in patched
2022-05-20T19:28:57.3013794Z     return func(*newargs, **newkeywargs)
2022-05-20T19:28:57.3014237Z tests/deployment/sagemaker/test_sagemaker.py:191: in mock_wrapper
2022-05-20T19:28:57.3014641Z     return func(*args, **kwargs)
2022-05-20T19:28:57.3015087Z tests/deployment/sagemaker/test_sagemaker.py:273: in test_sagemaker_apply_create_model_fail
2022-05-20T19:28:57.3015629Z     deployment_operator = SageMakerDeploymentOperator(yatai_service)
2022-05-20T19:28:57.3016118Z bentoml/yatai/deployment/sagemaker/operator.py:432: in __init__
2022-05-20T19:28:57.3016528Z     ensure_docker_available_or_raise()
2022-05-20T19:28:57.3036055Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3036360Z 
2022-05-20T19:28:57.3036755Z     def ensure_docker_available_or_raise() -> None:
2022-05-20T19:28:57.3037020Z         """
2022-05-20T19:28:57.3037255Z         Ensure docker is available.
2022-05-20T19:28:57.3037471Z     
2022-05-20T19:28:57.3037664Z         Raises:
2022-05-20T19:28:57.3037934Z             :class:`~MissingDependencyException`:
2022-05-20T19:28:57.3038494Z                 for :class:`~docker.errors.APIErrors`
2022-05-20T19:28:57.3038838Z                 or :class:`~docker.errors.DockerException`
2022-05-20T19:28:57.3039104Z         """
2022-05-20T19:28:57.3039292Z         try:
2022-05-20T19:28:57.3039525Z             client = docker.from_env()
2022-05-20T19:28:57.3039957Z             client.ping()
2022-05-20T19:28:57.3040351Z         except docker.errors.APIError as error:
2022-05-20T19:28:57.3040989Z             raise MissingDependencyException(f'Docker server is not responsive. {error}')
2022-05-20T19:28:57.3041619Z         except docker.errors.DockerException:
2022-05-20T19:28:57.3042095Z             raise MissingDependencyException(
2022-05-20T19:28:57.3042669Z >               'Docker is required for this deployment. Please visit '
2022-05-20T19:28:57.3043201Z                 'www.docker.com for instructions'
2022-05-20T19:28:57.3043553Z             )
2022-05-20T19:28:57.3044103Z E           bentoml.exceptions.MissingDependencyException: Docker is required for this deployment. Please visit www.docker.com for instructions
2022-05-20T19:28:57.3044556Z 
2022-05-20T19:28:57.3044823Z bentoml/yatai/deployment/docker_utils.py:28: MissingDependencyException
2022-05-20T19:28:57.3045212Z ____________________ test_sagemaker_apply_delete_model_fail ____________________
2022-05-20T19:28:57.3045415Z 
2022-05-20T19:28:57.3045699Z self = <docker.api.client.APIClient object at 0x7f6486518190>
2022-05-20T19:28:57.3045998Z 
2022-05-20T19:28:57.3046366Z     def _retrieve_server_version(self):
2022-05-20T19:28:57.3046619Z         try:
2022-05-20T19:28:57.3047001Z >           return self.version(api_version=False)["ApiVersion"]
2022-05-20T19:28:57.3047206Z 
2022-05-20T19:28:57.3047684Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:214: 
2022-05-20T19:28:57.3048167Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3048421Z 
2022-05-20T19:28:57.3048659Z self = <docker.api.client.APIClient object at 0x7f6486518190>
2022-05-20T19:28:57.3048965Z api_version = False
2022-05-20T19:28:57.3049188Z 
2022-05-20T19:28:57.3049386Z     def version(self, api_version=True):
2022-05-20T19:28:57.3049636Z         """
2022-05-20T19:28:57.3049935Z         Returns version information from the server. Similar to the ``docker
2022-05-20T19:28:57.3050233Z         version`` command.
2022-05-20T19:28:57.3050448Z     
2022-05-20T19:28:57.3050640Z         Returns:
2022-05-20T19:28:57.3050883Z             (dict): The server version information
2022-05-20T19:28:57.3051132Z     
2022-05-20T19:28:57.3051319Z         Raises:
2022-05-20T19:28:57.3051569Z             :py:class:`docker.errors.APIError`
2022-05-20T19:28:57.3051868Z                 If the server returns an error.
2022-05-20T19:28:57.3052456Z         """
2022-05-20T19:28:57.3052732Z         url = self._url("/version", versioned_api=api_version)
2022-05-20T19:28:57.3053046Z >       return self._result(self._get(url), json=True)
2022-05-20T19:28:57.3053231Z 
2022-05-20T19:28:57.3053623Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/daemon.py:181: 
2022-05-20T19:28:57.3054200Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3054468Z 
2022-05-20T19:28:57.3055234Z self = <docker.api.client.APIClient object at 0x7f6486518190>
2022-05-20T19:28:57.3055824Z args = ('http+docker://localhost/version',), kwargs = {}
2022-05-20T19:28:57.3056141Z 
2022-05-20T19:28:57.3056309Z     def inner(self, *args, **kwargs):
2022-05-20T19:28:57.3056707Z         if 'HttpHeaders' in self._general_configs:
2022-05-20T19:28:57.3057067Z             if not kwargs.get('headers'):
2022-05-20T19:28:57.3057610Z                 kwargs['headers'] = self._general_configs['HttpHeaders']
2022-05-20T19:28:57.3057994Z             else:
2022-05-20T19:28:57.3058510Z                 kwargs['headers'].update(self._general_configs['HttpHeaders'])
2022-05-20T19:28:57.3058949Z >       return f(self, *args, **kwargs)
2022-05-20T19:28:57.3059385Z 
2022-05-20T19:28:57.3060021Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/utils/decorators.py:46: 
2022-05-20T19:28:57.3060525Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3060787Z 
2022-05-20T19:28:57.3061021Z self = <docker.api.client.APIClient object at 0x7f6486518190>
2022-05-20T19:28:57.3061521Z url = 'http+docker://localhost/version', kwargs = {'timeout': 60}
2022-05-20T19:28:57.3061846Z 
2022-05-20T19:28:57.3061992Z     @update_headers
2022-05-20T19:28:57.3062340Z     def _get(self, url, **kwargs):
2022-05-20T19:28:57.3063150Z >       return self.get(url, **self._set_request_timeout(kwargs))
2022-05-20T19:28:57.3064053Z 
2022-05-20T19:28:57.3064556Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:237: 
2022-05-20T19:28:57.3064919Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3065216Z 
2022-05-20T19:28:57.3065457Z self = <docker.api.client.APIClient object at 0x7f6486518190>
2022-05-20T19:28:57.3065919Z url = 'http+docker://localhost/version'
2022-05-20T19:28:57.3066468Z kwargs = {'allow_redirects': True, 'timeout': 60}
2022-05-20T19:28:57.3066651Z 
2022-05-20T19:28:57.3066760Z     def get(self, url, **kwargs):
2022-05-20T19:28:57.3067083Z         r"""Sends a GET request. Returns :class:`Response` object.
2022-05-20T19:28:57.3067349Z     
2022-05-20T19:28:57.3067612Z         :param url: URL for the new :class:`Request` object.
2022-05-20T19:28:57.3067958Z         :param \*\*kwargs: Optional arguments that ``request`` takes.
2022-05-20T19:28:57.3068403Z         :rtype: requests.Response
2022-05-20T19:28:57.3068729Z         """
2022-05-20T19:28:57.3069001Z     
2022-05-20T19:28:57.3069380Z         kwargs.setdefault('allow_redirects', True)
2022-05-20T19:28:57.3069768Z >       return self.request('GET', url, **kwargs)
2022-05-20T19:28:57.3070041Z 
2022-05-20T19:28:57.3070490Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:542: 
2022-05-20T19:28:57.3070864Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3071030Z 
2022-05-20T19:28:57.3071472Z self = <docker.api.client.APIClient object at 0x7f6486518190>, method = 'GET'
2022-05-20T19:28:57.3087407Z url = 'http+docker://localhost/version', params = None, data = None
2022-05-20T19:28:57.3088068Z headers = None, cookies = None, files = None, auth = None, timeout = 60
2022-05-20T19:28:57.3088582Z allow_redirects = True, proxies = {}, hooks = None, stream = None, verify = None
2022-05-20T19:28:57.3088994Z cert = None, json = None
2022-05-20T19:28:57.3089169Z 
2022-05-20T19:28:57.3089517Z     def request(self, method, url,
2022-05-20T19:28:57.3089849Z             params=None, data=None, headers=None, cookies=None, files=None,
2022-05-20T19:28:57.3090335Z             auth=None, timeout=None, allow_redirects=True, proxies=None,
2022-05-20T19:28:57.3090795Z             hooks=None, stream=None, verify=None, cert=None, json=None):
2022-05-20T19:28:57.3091278Z         """Constructs a :class:`Request <Request>`, prepares it and sends it.
2022-05-20T19:28:57.3091728Z         Returns :class:`Response <Response>` object.
2022-05-20T19:28:57.3092075Z     
2022-05-20T19:28:57.3092358Z         :param method: method for the new :class:`Request` object.
2022-05-20T19:28:57.3092702Z         :param url: URL for the new :class:`Request` object.
2022-05-20T19:28:57.3093158Z         :param params: (optional) Dictionary or bytes to be sent in the query
2022-05-20T19:28:57.3093583Z             string for the :class:`Request`.
2022-05-20T19:28:57.3094209Z         :param data: (optional) Dictionary, list of tuples, bytes, or file-like
2022-05-20T19:28:57.3094696Z             object to send in the body of the :class:`Request`.
2022-05-20T19:28:57.3095133Z         :param json: (optional) json to send in the body of the
2022-05-20T19:28:57.3095499Z             :class:`Request`.
2022-05-20T19:28:57.3096175Z         :param headers: (optional) Dictionary of HTTP Headers to send with the
2022-05-20T19:28:57.3096579Z             :class:`Request`.
2022-05-20T19:28:57.3096997Z         :param cookies: (optional) Dict or CookieJar object to send with the
2022-05-20T19:28:57.3097384Z             :class:`Request`.
2022-05-20T19:28:57.3097958Z         :param files: (optional) Dictionary of ``'filename': file-like-objects``
2022-05-20T19:28:57.3098420Z             for multipart encoding upload.
2022-05-20T19:28:57.3098957Z         :param auth: (optional) Auth tuple or callable to enable
2022-05-20T19:28:57.3099404Z             Basic/Digest/Custom HTTP Auth.
2022-05-20T19:28:57.3099758Z         :param timeout: (optional) How long to wait for the server to send
2022-05-20T19:28:57.3100235Z             data before giving up, as a float, or a :ref:`(connect timeout,
2022-05-20T19:28:57.3100662Z             read timeout) <timeouts>` tuple.
2022-05-20T19:28:57.3101118Z         :type timeout: float or tuple
2022-05-20T19:28:57.3101542Z         :param allow_redirects: (optional) Set to True by default.
2022-05-20T19:28:57.3101939Z         :type allow_redirects: bool
2022-05-20T19:28:57.3102390Z         :param proxies: (optional) Dictionary mapping protocol or protocol and
2022-05-20T19:28:57.3102819Z             hostname to the URL of the proxy.
2022-05-20T19:28:57.3103267Z         :param stream: (optional) whether to immediately download the response
2022-05-20T19:28:57.3103699Z             content. Defaults to ``False``.
2022-05-20T19:28:57.3104167Z         :param verify: (optional) Either a boolean, in which case it controls whether we verify
2022-05-20T19:28:57.3104824Z             the server's TLS certificate, or a string, in which case it must be a path
2022-05-20T19:28:57.3105316Z             to a CA bundle to use. Defaults to ``True``. When set to
2022-05-20T19:28:57.3105787Z             ``False``, requests will accept any TLS certificate presented by
2022-05-20T19:28:57.3106263Z             the server, and will ignore hostname mismatches and/or expired
2022-05-20T19:28:57.3106751Z             certificates, which will make your application vulnerable to
2022-05-20T19:28:57.3107340Z             man-in-the-middle (MitM) attacks. Setting verify to ``False``
2022-05-20T19:28:57.3107814Z             may be useful during local development or testing.
2022-05-20T19:28:57.3108290Z         :param cert: (optional) if String, path to ssl client cert file (.pem).
2022-05-20T19:28:57.3108806Z             If Tuple, ('cert', 'key') pair.
2022-05-20T19:28:57.3109182Z         :rtype: requests.Response
2022-05-20T19:28:57.3109511Z         """
2022-05-20T19:28:57.3109828Z         # Create the Request.
2022-05-20T19:28:57.3110049Z         req = Request(
2022-05-20T19:28:57.3110284Z             method=method.upper(),
2022-05-20T19:28:57.3110518Z             url=url,
2022-05-20T19:28:57.3110728Z             headers=headers,
2022-05-20T19:28:57.3110956Z             files=files,
2022-05-20T19:28:57.3111186Z             data=data or {},
2022-05-20T19:28:57.3111404Z             json=json,
2022-05-20T19:28:57.3111639Z             params=params or {},
2022-05-20T19:28:57.3111873Z             auth=auth,
2022-05-20T19:28:57.3112088Z             cookies=cookies,
2022-05-20T19:28:57.3130692Z             hooks=hooks,
2022-05-20T19:28:57.3130952Z         )
2022-05-20T19:28:57.3131204Z         prep = self.prepare_request(req)
2022-05-20T19:28:57.3131435Z     
2022-05-20T19:28:57.3131652Z         proxies = proxies or {}
2022-05-20T19:28:57.3131872Z     
2022-05-20T19:28:57.3132115Z         settings = self.merge_environment_settings(
2022-05-20T19:28:57.3132437Z             prep.url, proxies, stream, verify, cert
2022-05-20T19:28:57.3132686Z         )
2022-05-20T19:28:57.3132863Z     
2022-05-20T19:28:57.3133068Z         # Send the request.
2022-05-20T19:28:57.3133445Z         send_kwargs = {
2022-05-20T19:28:57.3133803Z             'timeout': timeout,
2022-05-20T19:28:57.3134301Z             'allow_redirects': allow_redirects,
2022-05-20T19:28:57.3134906Z         }
2022-05-20T19:28:57.3135229Z         send_kwargs.update(settings)
2022-05-20T19:28:57.3135603Z >       resp = self.send(prep, **send_kwargs)
2022-05-20T19:28:57.3135867Z 
2022-05-20T19:28:57.3136331Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:529: 
2022-05-20T19:28:57.3136706Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3136873Z 
2022-05-20T19:28:57.3137176Z self = <docker.api.client.APIClient object at 0x7f6486518190>
2022-05-20T19:28:57.3137719Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.3138372Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.3139114Z allow_redirects = True, stream = False, hooks = {'response': []}
2022-05-20T19:28:57.3139674Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f647e558ad0>
2022-05-20T19:28:57.3140114Z start = 1653074850.1110682
2022-05-20T19:28:57.3140354Z 
2022-05-20T19:28:57.3140553Z     def send(self, request, **kwargs):
2022-05-20T19:28:57.3140841Z         """Send a given PreparedRequest.
2022-05-20T19:28:57.3141080Z     
2022-05-20T19:28:57.3141291Z         :rtype: requests.Response
2022-05-20T19:28:57.3141520Z         """
2022-05-20T19:28:57.3141809Z         # Set defaults that the hooks can utilize to ensure they always have
2022-05-20T19:28:57.3142174Z         # the correct parameters to reproduce the previous request.
2022-05-20T19:28:57.3142762Z         kwargs.setdefault('stream', self.stream)
2022-05-20T19:28:57.3143166Z         kwargs.setdefault('verify', self.verify)
2022-05-20T19:28:57.3143678Z         kwargs.setdefault('cert', self.cert)
2022-05-20T19:28:57.3144135Z         if 'proxies' not in kwargs:
2022-05-20T19:28:57.3144620Z             kwargs['proxies'] = resolve_proxies(
2022-05-20T19:28:57.3145049Z                 request, self.proxies, self.trust_env
2022-05-20T19:28:57.3145401Z             )
2022-05-20T19:28:57.3145603Z     
2022-05-20T19:28:57.3146108Z         # It's possible that users might accidentally send a Request object.
2022-05-20T19:28:57.3146583Z         # Guard against that specific failure case.
2022-05-20T19:28:57.3146981Z         if isinstance(request, Request):
2022-05-20T19:28:57.3147518Z             raise ValueError('You can only send PreparedRequests.')
2022-05-20T19:28:57.3147906Z     
2022-05-20T19:28:57.3148309Z         # Set up variables needed for resolve_redirects and dispatching of hooks
2022-05-20T19:28:57.3148882Z         allow_redirects = kwargs.pop('allow_redirects', True)
2022-05-20T19:28:57.3149380Z         stream = kwargs.get('stream')
2022-05-20T19:28:57.3149751Z         hooks = request.hooks
2022-05-20T19:28:57.3150066Z     
2022-05-20T19:28:57.3150323Z         # Get the appropriate adapter to use
2022-05-20T19:28:57.3150730Z         adapter = self.get_adapter(url=request.url)
2022-05-20T19:28:57.3151169Z     
2022-05-20T19:28:57.3151426Z         # Start time (approximately) of the request
2022-05-20T19:28:57.3151697Z         start = preferred_clock()
2022-05-20T19:28:57.3151920Z     
2022-05-20T19:28:57.3152125Z         # Send the request
2022-05-20T19:28:57.3152376Z >       r = adapter.send(request, **kwargs)
2022-05-20T19:28:57.3152540Z 
2022-05-20T19:28:57.3153038Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:645: 
2022-05-20T19:28:57.3153510Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3153698Z 
2022-05-20T19:28:57.3153925Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f647e558ad0>
2022-05-20T19:28:57.3154308Z request = <PreparedRequest [GET]>, a = ()
2022-05-20T19:28:57.3154914Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.3155378Z 
2022-05-20T19:28:57.3155581Z     def unbound_on_send(adapter, request, *a, **kwargs):
2022-05-20T19:28:57.3156034Z >       return self._on_request(adapter, request, *a, **kwargs)
2022-05-20T19:28:57.3156320Z 
2022-05-20T19:28:57.3156927Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:841: 
2022-05-20T19:28:57.3157293Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3157458Z 
2022-05-20T19:28:57.3157617Z self = <responses.RequestsMock object at 0x7f64a905d950>
2022-05-20T19:28:57.3158033Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f647e558ad0>
2022-05-20T19:28:57.3158396Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.3158963Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.3159366Z 
2022-05-20T19:28:57.3159831Z     def _on_request(self, adapter, request, **kwargs):
2022-05-20T19:28:57.3160365Z         # add attributes params and req_kwargs to 'request' object for further match comparison
2022-05-20T19:28:57.3160751Z         # original request object does not have these attributes
2022-05-20T19:28:57.3161258Z         request.params = self._parse_request_params(request.path_url)
2022-05-20T19:28:57.3161690Z         request.req_kwargs = kwargs
2022-05-20T19:28:57.3162009Z     
2022-05-20T19:28:57.3162291Z >       match, match_failed_reasons = self._find_match(request)
2022-05-20T19:28:57.3162580Z 
2022-05-20T19:28:57.3162952Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:779: 
2022-05-20T19:28:57.3163320Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3163482Z 
2022-05-20T19:28:57.3163761Z self = <responses.RequestsMock object at 0x7f64a905d950>
2022-05-20T19:28:57.3164168Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.3164386Z 
2022-05-20T19:28:57.3164504Z     def _find_match(self, request):
2022-05-20T19:28:57.3164738Z         """
2022-05-20T19:28:57.3165205Z         Iterates through all available matches and validates if any of them matches the request
2022-05-20T19:28:57.3165604Z     
2022-05-20T19:28:57.3165887Z         :param request: (PreparedRequest), request object
2022-05-20T19:28:57.3166159Z         :return:
2022-05-20T19:28:57.3166576Z             (Response) found match. If multiple found, then remove & return the first match.
2022-05-20T19:28:57.3167169Z             (list) list with reasons why other matches don't match
2022-05-20T19:28:57.3167532Z         """
2022-05-20T19:28:57.3167876Z >       return self._registry.find(request)
2022-05-20T19:28:57.3168144Z 
2022-05-20T19:28:57.3168581Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:762: 
2022-05-20T19:28:57.3168947Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3169108Z 
2022-05-20T19:28:57.3169318Z self = <responses.registries.FirstMatchRegistry object at 0x7f6486878d50>
2022-05-20T19:28:57.3169671Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.3169837Z 
2022-05-20T19:28:57.3169909Z     def find(
2022-05-20T19:28:57.3170153Z         self, request: "PreparedRequest"
2022-05-20T19:28:57.3170695Z     ) -> Tuple[Optional["BaseResponse"], List[str]]:
2022-05-20T19:28:57.3171077Z         found = None
2022-05-20T19:28:57.3171397Z         found_match = None
2022-05-20T19:28:57.3171739Z         match_failed_reasons = []
2022-05-20T19:28:57.3172137Z         for i, response in enumerate(self.registered):
2022-05-20T19:28:57.3172571Z >           match_result, reason = response.matches(request)
2022-05-20T19:28:57.3172857Z 
2022-05-20T19:28:57.3173495Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/registries.py:32: 
2022-05-20T19:28:57.3174021Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3174276Z 
2022-05-20T19:28:57.3174525Z self = <moto.core.models.CallbackResponse object at 0x7f6485ea1950>
2022-05-20T19:28:57.3174869Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.3175141Z 
2022-05-20T19:28:57.3175363Z     def matches(self, request):
2022-05-20T19:28:57.3175629Z         if request.method != self.method:
2022-05-20T19:28:57.3176209Z             return False, "Method does not match"
2022-05-20T19:28:57.3176548Z     
2022-05-20T19:28:57.3176819Z >       if not self._url_matches(self.url, request.url):
2022-05-20T19:28:57.3177094Z 
2022-05-20T19:28:57.3177535Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:350: 
2022-05-20T19:28:57.3177904Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3178179Z 
2022-05-20T19:28:57.3178412Z self = <moto.core.models.CallbackResponse object at 0x7f6485ea1950>
2022-05-20T19:28:57.3178995Z url = re.compile('https?://ecr.(.+).amazonaws.com/$')
2022-05-20T19:28:57.3179657Z other = 'http+docker://localhost/version', match_querystring = False
2022-05-20T19:28:57.3179994Z 
2022-05-20T19:28:57.3180234Z     def _url_matches(self, url, other, match_querystring=False):
2022-05-20T19:28:57.3180509Z         """
2022-05-20T19:28:57.3180919Z         Need to override this so we can fix querystrings breaking regex matching
2022-05-20T19:28:57.3181308Z         """
2022-05-20T19:28:57.3181635Z         if not match_querystring:
2022-05-20T19:28:57.3182003Z             other = other.split("?", 1)[0]
2022-05-20T19:28:57.3182315Z     
2022-05-20T19:28:57.3182565Z >       if responses._is_string(url):
2022-05-20T19:28:57.3182727Z 
2022-05-20T19:28:57.3183090Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/moto/core/models.py:198: 
2022-05-20T19:28:57.3184131Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3184415Z 
2022-05-20T19:28:57.3184674Z name = '_is_string'
2022-05-20T19:28:57.3184925Z 
2022-05-20T19:28:57.3185078Z     def __getattr__(name):
2022-05-20T19:28:57.3185336Z         if name in deprecated_names:
2022-05-20T19:28:57.3185572Z             warn(
2022-05-20T19:28:57.3185983Z                 f"{name} is deprecated. Please use 'responses.mock.{name}",
2022-05-20T19:28:57.3186458Z                 DeprecationWarning,
2022-05-20T19:28:57.3186799Z             )
2022-05-20T19:28:57.3187155Z             return globals()[f"_deprecated_{name}"]
2022-05-20T19:28:57.3187588Z >       raise AttributeError(f"module {__name__} has no attribute {name}")
2022-05-20T19:28:57.3188065Z E       AttributeError: module responses has no attribute _is_string
2022-05-20T19:28:57.3188383Z 
2022-05-20T19:28:57.3188857Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:969: AttributeError
2022-05-20T19:28:57.3189131Z 
2022-05-20T19:28:57.3189320Z During handling of the above exception, another exception occurred:
2022-05-20T19:28:57.3189535Z 
2022-05-20T19:28:57.3189761Z     def ensure_docker_available_or_raise() -> None:
2022-05-20T19:28:57.3190003Z         """
2022-05-20T19:28:57.3190229Z         Ensure docker is available.
2022-05-20T19:28:57.3190448Z     
2022-05-20T19:28:57.3190624Z         Raises:
2022-05-20T19:28:57.3190890Z             :class:`~MissingDependencyException`:
2022-05-20T19:28:57.3191361Z                 for :class:`~docker.errors.APIErrors`
2022-05-20T19:28:57.3191799Z                 or :class:`~docker.errors.DockerException`
2022-05-20T19:28:57.3192167Z         """
2022-05-20T19:28:57.3192456Z         try:
2022-05-20T19:28:57.3192699Z >           client = docker.from_env()
2022-05-20T19:28:57.3192935Z 
2022-05-20T19:28:57.3193131Z bentoml/yatai/deployment/docker_utils.py:22: 
2022-05-20T19:28:57.3193440Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3193605Z 
2022-05-20T19:28:57.3194016Z cls = <class 'docker.client.DockerClient'>, kwargs = {}, timeout = 60
2022-05-20T19:28:57.3194380Z max_pool_size = 10, version = None, use_ssh_client = False
2022-05-20T19:28:57.3194673Z 
2022-05-20T19:28:57.3194801Z     @classmethod
2022-05-20T19:28:57.3195038Z     def from_env(cls, **kwargs):
2022-05-20T19:28:57.3195449Z         """
2022-05-20T19:28:57.3195847Z         Return a client configured from environment variables.
2022-05-20T19:28:57.3196211Z     
2022-05-20T19:28:57.3196733Z         The environment variables used are the same as those used by the
2022-05-20T19:28:57.3197306Z         Docker command-line client. They are:
2022-05-20T19:28:57.3197649Z     
2022-05-20T19:28:57.3197897Z         .. envvar:: DOCKER_HOST
2022-05-20T19:28:57.3198207Z     
2022-05-20T19:28:57.3198456Z             The URL to the Docker host.
2022-05-20T19:28:57.3198671Z     
2022-05-20T19:28:57.3198891Z         .. envvar:: DOCKER_TLS_VERIFY
2022-05-20T19:28:57.3199113Z     
2022-05-20T19:28:57.3199460Z             Verify the host against a CA certificate.
2022-05-20T19:28:57.3199841Z     
2022-05-20T19:28:57.3200203Z         .. envvar:: DOCKER_CERT_PATH
2022-05-20T19:28:57.3200527Z     
2022-05-20T19:28:57.3200824Z             A path to a directory containing TLS certificates to use when
2022-05-20T19:28:57.3201248Z             connecting to the Docker host.
2022-05-20T19:28:57.3201575Z     
2022-05-20T19:28:57.3201773Z         Args:
2022-05-20T19:28:57.3202157Z             version (str): The version of the API to use. Set to ``auto`` to
2022-05-20T19:28:57.3202772Z                 automatically detect the server's version. Default: ``auto``
2022-05-20T19:28:57.3203253Z             timeout (int): Default timeout for API calls, in seconds.
2022-05-20T19:28:57.3203694Z             max_pool_size (int): The maximum number of connections
2022-05-20T19:28:57.3204080Z                 to save in the pool.
2022-05-20T19:28:57.3204455Z             ssl_version (int): A valid `SSL version`_.
2022-05-20T19:28:57.3204890Z             assert_hostname (bool): Verify the hostname of the server.
2022-05-20T19:28:57.3205351Z             environment (dict): The environment to read environment variables
2022-05-20T19:28:57.3205789Z                 from. Default: the value of ``os.environ``
2022-05-20T19:28:57.3206232Z             credstore_env (dict): Override environment variables when calling
2022-05-20T19:28:57.3206656Z                 the credential store process.
2022-05-20T19:28:57.3207061Z             use_ssh_client (bool): If set to `True`, an ssh connection is
2022-05-20T19:28:57.3207434Z                 made via shelling out to the ssh client. Ensure the ssh
2022-05-20T19:28:57.3207872Z                 client is installed and configured on the host.
2022-05-20T19:28:57.3208219Z     
2022-05-20T19:28:57.3208435Z         Example:
2022-05-20T19:28:57.3222589Z     
2022-05-20T19:28:57.3222816Z             >>> import docker
2022-05-20T19:28:57.3223067Z             >>> client = docker.from_env()
2022-05-20T19:28:57.3223291Z     
2022-05-20T19:28:57.3223730Z         .. _`SSL version`:
2022-05-20T19:28:57.3224111Z             https://docs.python.org/3.5/library/ssl.html#ssl.PROTOCOL_TLSv1
2022-05-20T19:28:57.3224409Z         """
2022-05-20T19:28:57.3224979Z         timeout = kwargs.pop('timeout', DEFAULT_TIMEOUT_SECONDS)
2022-05-20T19:28:57.3225596Z         max_pool_size = kwargs.pop('max_pool_size', DEFAULT_MAX_POOL_SIZE)
2022-05-20T19:28:57.3226120Z         version = kwargs.pop('version', None)
2022-05-20T19:28:57.3226663Z         use_ssh_client = kwargs.pop('use_ssh_client', False)
2022-05-20T19:28:57.3227041Z         return cls(
2022-05-20T19:28:57.3227369Z             timeout=timeout,
2022-05-20T19:28:57.3227719Z             max_pool_size=max_pool_size,
2022-05-20T19:28:57.3228063Z             version=version,
2022-05-20T19:28:57.3228412Z             use_ssh_client=use_ssh_client,
2022-05-20T19:28:57.3228765Z >           **kwargs_from_env(**kwargs)
2022-05-20T19:28:57.3229074Z         )
2022-05-20T19:28:57.3229215Z 
2022-05-20T19:28:57.3229591Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/client.py:101: 
2022-05-20T19:28:57.3230074Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3230330Z 
2022-05-20T19:28:57.3230580Z self = <docker.client.DockerClient object at 0x7f6486518710>, args = ()
2022-05-20T19:28:57.3231104Z kwargs = {'max_pool_size': 10, 'timeout': 60, 'use_ssh_client': False, 'version': None}
2022-05-20T19:28:57.3231672Z 
2022-05-20T19:28:57.3231871Z     def __init__(self, *args, **kwargs):
2022-05-20T19:28:57.3232152Z >       self.api = APIClient(*args, **kwargs)
2022-05-20T19:28:57.3232320Z 
2022-05-20T19:28:57.3232680Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/client.py:45: 
2022-05-20T19:28:57.3233037Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3233238Z 
2022-05-20T19:28:57.3233412Z self = <docker.api.client.APIClient object at 0x7f6486518190>
2022-05-20T19:28:57.3234045Z base_url = 'http+unix:///var/run/docker.sock', version = None, timeout = 60
2022-05-20T19:28:57.3234743Z tls = False, user_agent = 'docker-sdk-python/5.0.3', num_pools = 25
2022-05-20T19:28:57.3235220Z credstore_env = None, use_ssh_client = False, max_pool_size = 10
2022-05-20T19:28:57.3235696Z 
2022-05-20T19:28:57.3235915Z     def __init__(self, base_url=None, version=None,
2022-05-20T19:28:57.3236236Z                  timeout=DEFAULT_TIMEOUT_SECONDS, tls=False,
2022-05-20T19:28:57.3236569Z                  user_agent=DEFAULT_USER_AGENT, num_pools=None,
2022-05-20T19:28:57.3236883Z                  credstore_env=None, use_ssh_client=False,
2022-05-20T19:28:57.3237189Z                  max_pool_size=DEFAULT_MAX_POOL_SIZE):
2022-05-20T19:28:57.3237450Z         super().__init__()
2022-05-20T19:28:57.3237648Z     
2022-05-20T19:28:57.3237861Z         if tls and not base_url:
2022-05-20T19:28:57.3238249Z             raise TLSParameterError(
2022-05-20T19:28:57.3238697Z                 'If using TLS, the base_url argument must be provided.'
2022-05-20T19:28:57.3239083Z             )
2022-05-20T19:28:57.3239371Z     
2022-05-20T19:28:57.3239610Z         self.base_url = base_url
2022-05-20T19:28:57.3239866Z         self.timeout = timeout
2022-05-20T19:28:57.3240352Z         self.headers['User-Agent'] = user_agent
2022-05-20T19:28:57.3240706Z     
2022-05-20T19:28:57.3241006Z         self._general_configs = config.load_general_config()
2022-05-20T19:28:57.3241253Z     
2022-05-20T19:28:57.3241629Z         proxy_config = self._general_configs.get('proxies', {})
2022-05-20T19:28:57.3241897Z         try:
2022-05-20T19:28:57.3242256Z             proxies = proxy_config[base_url]
2022-05-20T19:28:57.3242616Z         except KeyError:
2022-05-20T19:28:57.3243087Z             proxies = proxy_config.get('default', {})
2022-05-20T19:28:57.3243447Z     
2022-05-20T19:28:57.3243731Z         self._proxy_configs = ProxyConfig.from_dict(proxies)
2022-05-20T19:28:57.3244082Z     
2022-05-20T19:28:57.3244494Z         self._auth_configs = auth.load_config(
2022-05-20T19:28:57.3244826Z             config_dict=self._general_configs, credstore_env=credstore_env,
2022-05-20T19:28:57.3245105Z         )
2022-05-20T19:28:57.3245458Z         self.credstore_env = credstore_env
2022-05-20T19:28:57.3245785Z     
2022-05-20T19:28:57.3246016Z         base_url = utils.parse_host(
2022-05-20T19:28:57.3246417Z             base_url, IS_WINDOWS_PLATFORM, tls=bool(tls)
2022-05-20T19:28:57.3246669Z         )
2022-05-20T19:28:57.3246955Z         # SSH has a different default for num_pools to all other adapters
2022-05-20T19:28:57.3247310Z         num_pools = num_pools or DEFAULT_NUM_POOLS_SSH if \
2022-05-20T19:28:57.3247771Z             base_url.startswith('ssh://') else DEFAULT_NUM_POOLS
2022-05-20T19:28:57.3248153Z     
2022-05-20T19:28:57.3248525Z         if base_url.startswith('http+unix://'):
2022-05-20T19:28:57.3248860Z             self._custom_adapter = UnixHTTPAdapter(
2022-05-20T19:28:57.3249304Z                 base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.3249701Z                 max_pool_size=max_pool_size
2022-05-20T19:28:57.3250022Z             )
2022-05-20T19:28:57.3250437Z             self.mount('http+docker://', self._custom_adapter)
2022-05-20T19:28:57.3250972Z             self._unmount('http://', 'https://')
2022-05-20T19:28:57.3251420Z             # host part of URL should be unused, but is resolved by requests
2022-05-20T19:28:57.3251872Z             # module in proxy_bypass_macosx_sysconf()
2022-05-20T19:28:57.3252630Z             self.base_url = 'http+docker://localhost'
2022-05-20T19:28:57.3253171Z         elif base_url.startswith('npipe://'):
2022-05-20T19:28:57.3253563Z             if not IS_WINDOWS_PLATFORM:
2022-05-20T19:28:57.3253937Z                 raise DockerException(
2022-05-20T19:28:57.3254466Z                     'The npipe:// protocol is only supported on Windows'
2022-05-20T19:28:57.3254856Z                 )
2022-05-20T19:28:57.3255182Z             try:
2022-05-20T19:28:57.3255329Z                 self._custom_adapter = NpipeHTTPAdapter(
2022-05-20T19:28:57.3255612Z                     base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.3255754Z                     max_pool_size=max_pool_size
2022-05-20T19:28:57.3255970Z                 )
2022-05-20T19:28:57.3256077Z             except NameError:
2022-05-20T19:28:57.3256209Z                 raise DockerException(
2022-05-20T19:28:57.3256518Z                     'Install pypiwin32 package to enable npipe:// support'
2022-05-20T19:28:57.3256715Z                 )
2022-05-20T19:28:57.3256999Z             self.mount('http+docker://', self._custom_adapter)
2022-05-20T19:28:57.3276039Z             self.base_url = 'http+docker://localnpipe'
2022-05-20T19:28:57.3276625Z         elif base_url.startswith('ssh://'):
2022-05-20T19:28:57.3276904Z             try:
2022-05-20T19:28:57.3277154Z                 self._custom_adapter = SSHHTTPAdapter(
2022-05-20T19:28:57.3277411Z                     base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.3277676Z                     max_pool_size=max_pool_size, shell_out=use_ssh_client
2022-05-20T19:28:57.3277842Z                 )
2022-05-20T19:28:57.3278026Z             except NameError:
2022-05-20T19:28:57.3278231Z                 raise DockerException(
2022-05-20T19:28:57.3278646Z                     'Install paramiko package to enable ssh:// support'
2022-05-20T19:28:57.3278822Z                 )
2022-05-20T19:28:57.3279186Z             self.mount('http+docker://ssh', self._custom_adapter)
2022-05-20T19:28:57.3279520Z             self._unmount('http://', 'https://')
2022-05-20T19:28:57.3279844Z             self.base_url = 'http+docker://ssh'
2022-05-20T19:28:57.3280017Z         else:
2022-05-20T19:28:57.3280270Z             # Use SSLAdapter for the ability to specify SSL version
2022-05-20T19:28:57.3280479Z             if isinstance(tls, TLSConfig):
2022-05-20T19:28:57.3280681Z                 tls.configure_client(self)
2022-05-20T19:28:57.3280851Z             elif tls:
2022-05-20T19:28:57.3281082Z                 self._custom_adapter = SSLHTTPAdapter(
2022-05-20T19:28:57.3281288Z                     pool_connections=num_pools)
2022-05-20T19:28:57.3281622Z                 self.mount('https://', self._custom_adapter)
2022-05-20T19:28:57.3281829Z             self.base_url = base_url
2022-05-20T19:28:57.3281984Z     
2022-05-20T19:28:57.3282764Z         # version detection needs to be after unix adapter mounting
2022-05-20T19:28:57.3282987Z         if version is None or (isinstance(
2022-05-20T19:28:57.3283179Z                                 version,
2022-05-20T19:28:57.3283353Z                                 str
2022-05-20T19:28:57.3283728Z                                 ) and version.lower() == 'auto'):
2022-05-20T19:28:57.3283977Z >           self._version = self._retrieve_server_version()
2022-05-20T19:28:57.3284066Z 
2022-05-20T19:28:57.3284501Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:197: 
2022-05-20T19:28:57.3284720Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3284818Z 
2022-05-20T19:28:57.3285060Z self = <docker.api.client.APIClient object at 0x7f6486518190>
2022-05-20T19:28:57.3285156Z 
2022-05-20T19:28:57.3285345Z     def _retrieve_server_version(self):
2022-05-20T19:28:57.3285507Z         try:
2022-05-20T19:28:57.3285748Z             return self.version(api_version=False)["ApiVersion"]
2022-05-20T19:28:57.3285931Z         except KeyError:
2022-05-20T19:28:57.3286403Z             raise DockerException(
2022-05-20T19:28:57.3286786Z                 'Invalid response from docker daemon: key "ApiVersion"'
2022-05-20T19:28:57.3287043Z                 ' is missing.'
2022-05-20T19:28:57.3287213Z             )
2022-05-20T19:28:57.3287403Z         except Exception as e:
2022-05-20T19:28:57.3287593Z             raise DockerException(
2022-05-20T19:28:57.3287922Z >               f'Error while fetching server API version: {e}'
2022-05-20T19:28:57.3288090Z             )
2022-05-20T19:28:57.3288552Z E           docker.errors.DockerException: Error while fetching server API version: module responses has no attribute _is_string
2022-05-20T19:28:57.3288663Z 
2022-05-20T19:28:57.3289156Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:222: DockerException
2022-05-20T19:28:57.3289255Z 
2022-05-20T19:28:57.3289514Z During handling of the above exception, another exception occurred:
2022-05-20T19:28:57.3289599Z 
2022-05-20T19:28:57.3289774Z args = (), kwargs = {}
2022-05-20T19:28:57.3290015Z ecr_client = <botocore.client.ECR object at 0x7f6485d8cbd0>
2022-05-20T19:28:57.3290284Z repo_name = 'my_bento-sagemaker'
2022-05-20T19:28:57.3290966Z iam_role_policy = '\n        {\n            "Version": "2019-10-10",\n            "Statement": [\n                {\n                   ...    "Service": "sagemaker.amazonaws.com"\n                    }\n                }\n            ]\n        }\n        '
2022-05-20T19:28:57.3291218Z iam_client = <botocore.client.IAM object at 0x7f64866c6a90>
2022-05-20T19:28:57.3291302Z 
2022-05-20T19:28:57.3291463Z     @mock_ecr
2022-05-20T19:28:57.3291623Z     @mock_iam
2022-05-20T19:28:57.3291781Z     @mock_sts
2022-05-20T19:28:57.3291956Z     @moto_mock_sagemaker
2022-05-20T19:28:57.3292150Z     def mock_wrapper(*args, **kwargs):
2022-05-20T19:28:57.3292475Z         ecr_client = boto3.client('ecr', TEST_AWS_REGION)
2022-05-20T19:28:57.3292816Z         repo_name = TEST_DEPLOYMENT_BENTO_NAME + '-sagemaker'
2022-05-20T19:28:57.3293189Z         try:
2022-05-20T19:28:57.3293453Z             ecr_client.create_repository(repositoryName=repo_name)
2022-05-20T19:28:57.3293768Z         except ecr_client.exceptions.RepositoryAlreadyExistsException:
2022-05-20T19:28:57.3294077Z             print('Repository already exists')
2022-05-20T19:28:57.3294244Z     
2022-05-20T19:28:57.3294429Z         iam_role_policy = """
2022-05-20T19:28:57.3294583Z         {
2022-05-20T19:28:57.3294849Z             "Version": "2019-10-10",
2022-05-20T19:28:57.3295040Z             "Statement": [
2022-05-20T19:28:57.3295207Z                 {
2022-05-20T19:28:57.3295393Z                     "Effect": "Allow",
2022-05-20T19:28:57.3295571Z                     "Action": "*",
2022-05-20T19:28:57.3295753Z                     "Principal": {
2022-05-20T19:28:57.3295988Z                         "Service": "sagemaker.amazonaws.com"
2022-05-20T19:28:57.3296155Z                     }
2022-05-20T19:28:57.3296315Z                 }
2022-05-20T19:28:57.3296468Z             ]
2022-05-20T19:28:57.3296621Z         }
2022-05-20T19:28:57.3296775Z         """
2022-05-20T19:28:57.3297097Z         iam_client = boto3.client('iam', TEST_AWS_REGION)
2022-05-20T19:28:57.3297295Z         iam_client.create_role(
2022-05-20T19:28:57.3297563Z             RoleName="moto", AssumeRolePolicyDocument=iam_role_policy
2022-05-20T19:28:57.3297717Z         )
2022-05-20T19:28:57.3297904Z >       return func(*args, **kwargs)
2022-05-20T19:28:57.3297991Z 
2022-05-20T19:28:57.3298218Z tests/deployment/sagemaker/test_sagemaker.py:168: 
2022-05-20T19:28:57.3298432Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3298869Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/mock/mock.py:1346: in patched
2022-05-20T19:28:57.3299087Z     return func(*newargs, **newkeywargs)
2022-05-20T19:28:57.3299336Z tests/deployment/sagemaker/test_sagemaker.py:191: in mock_wrapper
2022-05-20T19:28:57.3299523Z     return func(*args, **kwargs)
2022-05-20T19:28:57.3300154Z tests/deployment/sagemaker/test_sagemaker.py:314: in test_sagemaker_apply_delete_model_fail
2022-05-20T19:28:57.3300445Z     deployment_operator = SageMakerDeploymentOperator(yatai_service)
2022-05-20T19:28:57.3300718Z bentoml/yatai/deployment/sagemaker/operator.py:432: in __init__
2022-05-20T19:28:57.3300915Z     ensure_docker_available_or_raise()
2022-05-20T19:28:57.3301119Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3301204Z 
2022-05-20T19:28:57.3301540Z     def ensure_docker_available_or_raise() -> None:
2022-05-20T19:28:57.3301820Z         """
2022-05-20T19:28:57.3302046Z         Ensure docker is available.
2022-05-20T19:28:57.3302202Z     
2022-05-20T19:28:57.3302356Z         Raises:
2022-05-20T19:28:57.3302588Z             :class:`~MissingDependencyException`:
2022-05-20T19:28:57.3302815Z                 for :class:`~docker.errors.APIErrors`
2022-05-20T19:28:57.3303059Z                 or :class:`~docker.errors.DockerException`
2022-05-20T19:28:57.3303221Z         """
2022-05-20T19:28:57.3303379Z         try:
2022-05-20T19:28:57.3303574Z             client = docker.from_env()
2022-05-20T19:28:57.3303756Z             client.ping()
2022-05-20T19:28:57.3303988Z         except docker.errors.APIError as error:
2022-05-20T19:28:57.3304426Z             raise MissingDependencyException(f'Docker server is not responsive. {error}')
2022-05-20T19:28:57.3304669Z         except docker.errors.DockerException:
2022-05-20T19:28:57.3304905Z             raise MissingDependencyException(
2022-05-20T19:28:57.3305266Z >               'Docker is required for this deployment. Please visit '
2022-05-20T19:28:57.3305581Z                 'www.docker.com for instructions'
2022-05-20T19:28:57.3305749Z             )
2022-05-20T19:28:57.3306166Z E           bentoml.exceptions.MissingDependencyException: Docker is required for this deployment. Please visit www.docker.com for instructions
2022-05-20T19:28:57.3306253Z 
2022-05-20T19:28:57.3306525Z bentoml/yatai/deployment/docker_utils.py:28: MissingDependencyException
2022-05-20T19:28:57.3306781Z ___________________ test_sagemaker_apply_duplicate_endpoint ____________________
2022-05-20T19:28:57.3306866Z 
2022-05-20T19:28:57.3307117Z self = <docker.api.client.APIClient object at 0x7f64863e2650>
2022-05-20T19:28:57.3307202Z 
2022-05-20T19:28:57.3307400Z     def _retrieve_server_version(self):
2022-05-20T19:28:57.3307558Z         try:
2022-05-20T19:28:57.3307799Z >           return self.version(api_version=False)["ApiVersion"]
2022-05-20T19:28:57.3307883Z 
2022-05-20T19:28:57.3308321Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:214: 
2022-05-20T19:28:57.3308544Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3308632Z 
2022-05-20T19:28:57.3308883Z self = <docker.api.client.APIClient object at 0x7f64863e2650>
2022-05-20T19:28:57.3309049Z api_version = False
2022-05-20T19:28:57.3309145Z 
2022-05-20T19:28:57.3309335Z     def version(self, api_version=True):
2022-05-20T19:28:57.3309496Z         """
2022-05-20T19:28:57.3309755Z         Returns version information from the server. Similar to the ``docker
2022-05-20T19:28:57.3309932Z         version`` command.
2022-05-20T19:28:57.3310113Z     
2022-05-20T19:28:57.3310339Z         Returns:
2022-05-20T19:28:57.3310644Z             (dict): The server version information
2022-05-20T19:28:57.3310926Z     
2022-05-20T19:28:57.3311178Z         Raises:
2022-05-20T19:28:57.3311498Z             :py:class:`docker.errors.APIError`
2022-05-20T19:28:57.3312077Z                 If the server returns an error.
2022-05-20T19:28:57.3312182Z         """
2022-05-20T19:28:57.3312358Z         url = self._url("/version", versioned_api=api_version)
2022-05-20T19:28:57.3312572Z >       return self._result(self._get(url), json=True)
2022-05-20T19:28:57.3312595Z 
2022-05-20T19:28:57.3312981Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/daemon.py:181: 
2022-05-20T19:28:57.3313249Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3313258Z 
2022-05-20T19:28:57.3313593Z self = <docker.api.client.APIClient object at 0x7f64863e2650>
2022-05-20T19:28:57.3313916Z args = ('http+docker://localhost/version',), kwargs = {}
2022-05-20T19:28:57.3313927Z 
2022-05-20T19:28:57.3314040Z     def inner(self, *args, **kwargs):
2022-05-20T19:28:57.3314259Z         if 'HttpHeaders' in self._general_configs:
2022-05-20T19:28:57.3314447Z             if not kwargs.get('headers'):
2022-05-20T19:28:57.3314813Z                 kwargs['headers'] = self._general_configs['HttpHeaders']
2022-05-20T19:28:57.3315048Z             else:
2022-05-20T19:28:57.3315512Z                 kwargs['headers'].update(self._general_configs['HttpHeaders'])
2022-05-20T19:28:57.3315634Z >       return f(self, *args, **kwargs)
2022-05-20T19:28:57.3315643Z 
2022-05-20T19:28:57.3316151Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/utils/decorators.py:46: 
2022-05-20T19:28:57.3316403Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3316441Z 
2022-05-20T19:28:57.3316616Z self = <docker.api.client.APIClient object at 0x7f64863e2650>
2022-05-20T19:28:57.3316910Z url = 'http+docker://localhost/version', kwargs = {'timeout': 60}
2022-05-20T19:28:57.3316919Z 
2022-05-20T19:28:57.3317012Z     @update_headers
2022-05-20T19:28:57.3317120Z     def _get(self, url, **kwargs):
2022-05-20T19:28:57.3317268Z >       return self.get(url, **self._set_request_timeout(kwargs))
2022-05-20T19:28:57.3317287Z 
2022-05-20T19:28:57.3317759Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:237: 
2022-05-20T19:28:57.3318002Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3318027Z 
2022-05-20T19:28:57.3318204Z self = <docker.api.client.APIClient object at 0x7f64863e2650>
2022-05-20T19:28:57.3318526Z url = 'http+docker://localhost/version'
2022-05-20T19:28:57.3318866Z kwargs = {'allow_redirects': True, 'timeout': 60}
2022-05-20T19:28:57.3318974Z 
2022-05-20T19:28:57.3319157Z     def get(self, url, **kwargs):
2022-05-20T19:28:57.3319320Z         r"""Sends a GET request. Returns :class:`Response` object.
2022-05-20T19:28:57.3319395Z     
2022-05-20T19:28:57.3319549Z         :param url: URL for the new :class:`Request` object.
2022-05-20T19:28:57.3319726Z         :param \*\*kwargs: Optional arguments that ``request`` takes.
2022-05-20T19:28:57.3320140Z         :rtype: requests.Response
2022-05-20T19:28:57.3320231Z         """
2022-05-20T19:28:57.3320476Z     
2022-05-20T19:28:57.3320774Z         kwargs.setdefault('allow_redirects', True)
2022-05-20T19:28:57.3320984Z >       return self.request('GET', url, **kwargs)
2022-05-20T19:28:57.3320994Z 
2022-05-20T19:28:57.3321558Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:542: 
2022-05-20T19:28:57.3321803Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3321849Z 
2022-05-20T19:28:57.3322168Z self = <docker.api.client.APIClient object at 0x7f64863e2650>, method = 'GET'
2022-05-20T19:28:57.3322457Z url = 'http+docker://localhost/version', params = None, data = None
2022-05-20T19:28:57.3322627Z headers = None, cookies = None, files = None, auth = None, timeout = 60
2022-05-20T19:28:57.3322800Z allow_redirects = True, proxies = {}, hooks = None, stream = None, verify = None
2022-05-20T19:28:57.3322895Z cert = None, json = None
2022-05-20T19:28:57.3322902Z 
2022-05-20T19:28:57.3323144Z     def request(self, method, url,
2022-05-20T19:28:57.3323339Z             params=None, data=None, headers=None, cookies=None, files=None,
2022-05-20T19:28:57.3323506Z             auth=None, timeout=None, allow_redirects=True, proxies=None,
2022-05-20T19:28:57.3323768Z             hooks=None, stream=None, verify=None, cert=None, json=None):
2022-05-20T19:28:57.3323967Z         """Constructs a :class:`Request <Request>`, prepares it and sends it.
2022-05-20T19:28:57.3324427Z         Returns :class:`Response <Response>` object.
2022-05-20T19:28:57.3324518Z     
2022-05-20T19:28:57.3324680Z         :param method: method for the new :class:`Request` object.
2022-05-20T19:28:57.3324921Z         :param url: URL for the new :class:`Request` object.
2022-05-20T19:28:57.3325135Z         :param params: (optional) Dictionary or bytes to be sent in the query
2022-05-20T19:28:57.3325354Z             string for the :class:`Request`.
2022-05-20T19:28:57.3326111Z         :param data: (optional) Dictionary, list of tuples, bytes, or file-like
2022-05-20T19:28:57.3326281Z             object to send in the body of the :class:`Request`.
2022-05-20T19:28:57.3326435Z         :param json: (optional) json to send in the body of the
2022-05-20T19:28:57.3326523Z             :class:`Request`.
2022-05-20T19:28:57.3326709Z         :param headers: (optional) Dictionary of HTTP Headers to send with the
2022-05-20T19:28:57.3326804Z             :class:`Request`.
2022-05-20T19:28:57.3327138Z         :param cookies: (optional) Dict or CookieJar object to send with the
2022-05-20T19:28:57.3327255Z             :class:`Request`.
2022-05-20T19:28:57.3327593Z         :param files: (optional) Dictionary of ``'filename': file-like-objects``
2022-05-20T19:28:57.3327721Z             for multipart encoding upload.
2022-05-20T19:28:57.3327995Z         :param auth: (optional) Auth tuple or callable to enable
2022-05-20T19:28:57.3328137Z             Basic/Digest/Custom HTTP Auth.
2022-05-20T19:28:57.3328323Z         :param timeout: (optional) How long to wait for the server to send
2022-05-20T19:28:57.3328495Z             data before giving up, as a float, or a :ref:`(connect timeout,
2022-05-20T19:28:57.3328722Z             read timeout) <timeouts>` tuple.
2022-05-20T19:28:57.3328857Z         :type timeout: float or tuple
2022-05-20T19:28:57.3329048Z         :param allow_redirects: (optional) Set to True by default.
2022-05-20T19:28:57.3329162Z         :type allow_redirects: bool
2022-05-20T19:28:57.3329359Z         :param proxies: (optional) Dictionary mapping protocol or protocol and
2022-05-20T19:28:57.3329488Z             hostname to the URL of the proxy.
2022-05-20T19:28:57.3329675Z         :param stream: (optional) whether to immediately download the response
2022-05-20T19:28:57.3329789Z             content. Defaults to ``False``.
2022-05-20T19:28:57.3330108Z         :param verify: (optional) Either a boolean, in which case it controls whether we verify
2022-05-20T19:28:57.3330444Z             the server's TLS certificate, or a string, in which case it must be a path
2022-05-20T19:28:57.3330718Z             to a CA bundle to use. Defaults to ``True``. When set to
2022-05-20T19:28:57.3330919Z             ``False``, requests will accept any TLS certificate presented by
2022-05-20T19:28:57.3331091Z             the server, and will ignore hostname mismatches and/or expired
2022-05-20T19:28:57.3331371Z             certificates, which will make your application vulnerable to
2022-05-20T19:28:57.3331681Z             man-in-the-middle (MitM) attacks. Setting verify to ``False``
2022-05-20T19:28:57.3331944Z             may be useful during local development or testing.
2022-05-20T19:28:57.3332147Z         :param cert: (optional) if String, path to ssl client cert file (.pem).
2022-05-20T19:28:57.3332450Z             If Tuple, ('cert', 'key') pair.
2022-05-20T19:28:57.3332671Z         :rtype: requests.Response
2022-05-20T19:28:57.3332759Z         """
2022-05-20T19:28:57.3332859Z         # Create the Request.
2022-05-20T19:28:57.3333048Z         req = Request(
2022-05-20T19:28:57.3333203Z             method=method.upper(),
2022-05-20T19:28:57.3333291Z             url=url,
2022-05-20T19:28:57.3333391Z             headers=headers,
2022-05-20T19:28:57.3333484Z             files=files,
2022-05-20T19:28:57.3333570Z             data=data or {},
2022-05-20T19:28:57.3333658Z             json=json,
2022-05-20T19:28:57.3333764Z             params=params or {},
2022-05-20T19:28:57.3333850Z             auth=auth,
2022-05-20T19:28:57.3334092Z             cookies=cookies,
2022-05-20T19:28:57.3334182Z             hooks=hooks,
2022-05-20T19:28:57.3334260Z         )
2022-05-20T19:28:57.3334532Z         prep = self.prepare_request(req)
2022-05-20T19:28:57.3334597Z     
2022-05-20T19:28:57.3334799Z         proxies = proxies or {}
2022-05-20T19:28:57.3334889Z     
2022-05-20T19:28:57.3335030Z         settings = self.merge_environment_settings(
2022-05-20T19:28:57.3335265Z             prep.url, proxies, stream, verify, cert
2022-05-20T19:28:57.3335356Z         )
2022-05-20T19:28:57.3335438Z     
2022-05-20T19:28:57.3335636Z         # Send the request.
2022-05-20T19:28:57.3335729Z         send_kwargs = {
2022-05-20T19:28:57.3336040Z             'timeout': timeout,
2022-05-20T19:28:57.3336918Z             'allow_redirects': allow_redirects,
2022-05-20T19:28:57.3337120Z         }
2022-05-20T19:28:57.3337254Z         send_kwargs.update(settings)
2022-05-20T19:28:57.3337385Z >       resp = self.send(prep, **send_kwargs)
2022-05-20T19:28:57.3337495Z 
2022-05-20T19:28:57.3337920Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:529: 
2022-05-20T19:28:57.3354414Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3354549Z 
2022-05-20T19:28:57.3354834Z self = <docker.api.client.APIClient object at 0x7f64863e2650>
2022-05-20T19:28:57.3355002Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.3355541Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.3355822Z allow_redirects = True, stream = False, hooks = {'response': []}
2022-05-20T19:28:57.3356044Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f648630e190>
2022-05-20T19:28:57.3356139Z start = 1653074850.5880811
2022-05-20T19:28:57.3356150Z 
2022-05-20T19:28:57.3356267Z     def send(self, request, **kwargs):
2022-05-20T19:28:57.3356396Z         """Send a given PreparedRequest.
2022-05-20T19:28:57.3356472Z     
2022-05-20T19:28:57.3356591Z         :rtype: requests.Response
2022-05-20T19:28:57.3356833Z         """
2022-05-20T19:28:57.3357037Z         # Set defaults that the hooks can utilize to ensure they always have
2022-05-20T19:28:57.3357201Z         # the correct parameters to reproduce the previous request.
2022-05-20T19:28:57.3357553Z         kwargs.setdefault('stream', self.stream)
2022-05-20T19:28:57.3357766Z         kwargs.setdefault('verify', self.verify)
2022-05-20T19:28:57.3358093Z         kwargs.setdefault('cert', self.cert)
2022-05-20T19:28:57.3358389Z         if 'proxies' not in kwargs:
2022-05-20T19:28:57.3358629Z             kwargs['proxies'] = resolve_proxies(
2022-05-20T19:28:57.3358889Z                 request, self.proxies, self.trust_env
2022-05-20T19:28:57.3358972Z             )
2022-05-20T19:28:57.3359143Z     
2022-05-20T19:28:57.3359576Z         # It's possible that users might accidentally send a Request object.
2022-05-20T19:28:57.3359732Z         # Guard against that specific failure case.
2022-05-20T19:28:57.3359861Z         if isinstance(request, Request):
2022-05-20T19:28:57.3360136Z             raise ValueError('You can only send PreparedRequests.')
2022-05-20T19:28:57.3360212Z     
2022-05-20T19:28:57.3360402Z         # Set up variables needed for resolve_redirects and dispatching of hooks
2022-05-20T19:28:57.3360792Z         allow_redirects = kwargs.pop('allow_redirects', True)
2022-05-20T19:28:57.3361094Z         stream = kwargs.get('stream')
2022-05-20T19:28:57.3361306Z         hooks = request.hooks
2022-05-20T19:28:57.3361387Z     
2022-05-20T19:28:57.3361547Z         # Get the appropriate adapter to use
2022-05-20T19:28:57.3361695Z         adapter = self.get_adapter(url=request.url)
2022-05-20T19:28:57.3361768Z     
2022-05-20T19:28:57.3361904Z         # Start time (approximately) of the request
2022-05-20T19:28:57.3362011Z         start = preferred_clock()
2022-05-20T19:28:57.3362083Z     
2022-05-20T19:28:57.3362168Z         # Send the request
2022-05-20T19:28:57.3362413Z >       r = adapter.send(request, **kwargs)
2022-05-20T19:28:57.3362766Z 
2022-05-20T19:28:57.3363174Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:645: 
2022-05-20T19:28:57.3363306Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3363315Z 
2022-05-20T19:28:57.3363664Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f648630e190>
2022-05-20T19:28:57.3363892Z request = <PreparedRequest [GET]>, a = ()
2022-05-20T19:28:57.3364478Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.3364608Z 
2022-05-20T19:28:57.3364897Z     def unbound_on_send(adapter, request, *a, **kwargs):
2022-05-20T19:28:57.3365055Z >       return self._on_request(adapter, request, *a, **kwargs)
2022-05-20T19:28:57.3365170Z 
2022-05-20T19:28:57.3365548Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:841: 
2022-05-20T19:28:57.3365788Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3365820Z 
2022-05-20T19:28:57.3365982Z self = <responses.RequestsMock object at 0x7f64a905d950>
2022-05-20T19:28:57.3366309Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f648630e190>
2022-05-20T19:28:57.3366527Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.3366874Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.3366884Z 
2022-05-20T19:28:57.3367031Z     def _on_request(self, adapter, request, **kwargs):
2022-05-20T19:28:57.3367353Z         # add attributes params and req_kwargs to 'request' object for further match comparison
2022-05-20T19:28:57.3367513Z         # original request object does not have these attributes
2022-05-20T19:28:57.3367689Z         request.params = self._parse_request_params(request.path_url)
2022-05-20T19:28:57.3367802Z         request.req_kwargs = kwargs
2022-05-20T19:28:57.3367876Z     
2022-05-20T19:28:57.3368165Z >       match, match_failed_reasons = self._find_match(request)
2022-05-20T19:28:57.3368196Z 
2022-05-20T19:28:57.3368559Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:779: 
2022-05-20T19:28:57.3368791Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3368830Z 
2022-05-20T19:28:57.3368991Z self = <responses.RequestsMock object at 0x7f64a905d950>
2022-05-20T19:28:57.3369113Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.3369121Z 
2022-05-20T19:28:57.3369228Z     def _find_match(self, request):
2022-05-20T19:28:57.3369309Z         """
2022-05-20T19:28:57.3369519Z         Iterates through all available matches and validates if any of them matches the request
2022-05-20T19:28:57.3369595Z     
2022-05-20T19:28:57.3369865Z         :param request: (PreparedRequest), request object
2022-05-20T19:28:57.3369970Z         :return:
2022-05-20T19:28:57.3370196Z             (Response) found match. If multiple found, then remove & return the first match.
2022-05-20T19:28:57.3370465Z             (list) list with reasons why other matches don't match
2022-05-20T19:28:57.3370548Z         """
2022-05-20T19:28:57.3370668Z >       return self._registry.find(request)
2022-05-20T19:28:57.3370677Z 
2022-05-20T19:28:57.3371013Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:762: 
2022-05-20T19:28:57.3371138Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3371147Z 
2022-05-20T19:28:57.3371493Z self = <responses.registries.FirstMatchRegistry object at 0x7f64ba407290>
2022-05-20T19:28:57.3371715Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.3371742Z 
2022-05-20T19:28:57.3371835Z     def find(
2022-05-20T19:28:57.3371975Z         self, request: "PreparedRequest"
2022-05-20T19:28:57.3372269Z     ) -> Tuple[Optional["BaseResponse"], List[str]]:
2022-05-20T19:28:57.3372363Z         found = None
2022-05-20T19:28:57.3372463Z         found_match = None
2022-05-20T19:28:57.3372844Z         match_failed_reasons = []
2022-05-20T19:28:57.3373000Z         for i, response in enumerate(self.registered):
2022-05-20T19:28:57.3373254Z >           match_result, reason = response.matches(request)
2022-05-20T19:28:57.3373279Z 
2022-05-20T19:28:57.3373683Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/registries.py:32: 
2022-05-20T19:28:57.3373810Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3373819Z 
2022-05-20T19:28:57.3374126Z self = <moto.core.models.CallbackResponse object at 0x7f6485e8de90>
2022-05-20T19:28:57.3374260Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.3374268Z 
2022-05-20T19:28:57.3374376Z     def matches(self, request):
2022-05-20T19:28:57.3374645Z         if request.method != self.method:
2022-05-20T19:28:57.3374795Z             return False, "Method does not match"
2022-05-20T19:28:57.3374885Z     
2022-05-20T19:28:57.3375026Z >       if not self._url_matches(self.url, request.url):
2022-05-20T19:28:57.3375039Z 
2022-05-20T19:28:57.3375509Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:350: 
2022-05-20T19:28:57.3376280Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3376302Z 
2022-05-20T19:28:57.3376528Z self = <moto.core.models.CallbackResponse object at 0x7f6485e8de90>
2022-05-20T19:28:57.3376804Z url = re.compile('https?://ecr.(.+).amazonaws.com/$')
2022-05-20T19:28:57.3377332Z other = 'http+docker://localhost/version', match_querystring = False
2022-05-20T19:28:57.3377452Z 
2022-05-20T19:28:57.3377686Z     def _url_matches(self, url, other, match_querystring=False):
2022-05-20T19:28:57.3377765Z         """
2022-05-20T19:28:57.3378056Z         Need to override this so we can fix querystrings breaking regex matching
2022-05-20T19:28:57.3378150Z         """
2022-05-20T19:28:57.3378276Z         if not match_querystring:
2022-05-20T19:28:57.3378387Z             other = other.split("?", 1)[0]
2022-05-20T19:28:57.3378562Z     
2022-05-20T19:28:57.3378698Z >       if responses._is_string(url):
2022-05-20T19:28:57.3378706Z 
2022-05-20T19:28:57.3379060Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/moto/core/models.py:198: 
2022-05-20T19:28:57.3379303Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3379328Z 
2022-05-20T19:28:57.3379475Z name = '_is_string'
2022-05-20T19:28:57.3379484Z 
2022-05-20T19:28:57.3379604Z     def __getattr__(name):
2022-05-20T19:28:57.3379844Z         if name in deprecated_names:
2022-05-20T19:28:57.3379927Z             warn(
2022-05-20T19:28:57.3380215Z                 f"{name} is deprecated. Please use 'responses.mock.{name}",
2022-05-20T19:28:57.3380440Z                 DeprecationWarning,
2022-05-20T19:28:57.3380535Z             )
2022-05-20T19:28:57.3380672Z             return globals()[f"_deprecated_{name}"]
2022-05-20T19:28:57.3380946Z >       raise AttributeError(f"module {__name__} has no attribute {name}")
2022-05-20T19:28:57.3381144Z E       AttributeError: module responses has no attribute _is_string
2022-05-20T19:28:57.3381239Z 
2022-05-20T19:28:57.3381685Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:969: AttributeError
2022-05-20T19:28:57.3381695Z 
2022-05-20T19:28:57.3381984Z During handling of the above exception, another exception occurred:
2022-05-20T19:28:57.3382009Z 
2022-05-20T19:28:57.3382265Z     def ensure_docker_available_or_raise() -> None:
2022-05-20T19:28:57.3382341Z         """
2022-05-20T19:28:57.3382455Z         Ensure docker is available.
2022-05-20T19:28:57.3382527Z     
2022-05-20T19:28:57.3382597Z         Raises:
2022-05-20T19:28:57.3382745Z             :class:`~MissingDependencyException`:
2022-05-20T19:28:57.3382890Z                 for :class:`~docker.errors.APIErrors`
2022-05-20T19:28:57.3383173Z                 or :class:`~docker.errors.DockerException`
2022-05-20T19:28:57.3383264Z         """
2022-05-20T19:28:57.3383642Z         try:
2022-05-20T19:28:57.3383783Z >           client = docker.from_env()
2022-05-20T19:28:57.3383793Z 
2022-05-20T19:28:57.3383937Z bentoml/yatai/deployment/docker_utils.py:22: 
2022-05-20T19:28:57.3384061Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3384069Z 
2022-05-20T19:28:57.3384367Z cls = <class 'docker.client.DockerClient'>, kwargs = {}, timeout = 60
2022-05-20T19:28:57.3384549Z max_pool_size = 10, version = None, use_ssh_client = False
2022-05-20T19:28:57.3384558Z 
2022-05-20T19:28:57.3384879Z     @classmethod
2022-05-20T19:28:57.3385120Z     def from_env(cls, **kwargs):
2022-05-20T19:28:57.3385218Z         """
2022-05-20T19:28:57.3385380Z         Return a client configured from environment variables.
2022-05-20T19:28:57.3385451Z     
2022-05-20T19:28:57.3385620Z         The environment variables used are the same as those used by the
2022-05-20T19:28:57.3385963Z         Docker command-line client. They are:
2022-05-20T19:28:57.3386591Z     
2022-05-20T19:28:57.3386730Z         .. envvar:: DOCKER_HOST
2022-05-20T19:28:57.3386804Z     
2022-05-20T19:28:57.3387030Z             The URL to the Docker host.
2022-05-20T19:28:57.3387102Z     
2022-05-20T19:28:57.3387236Z         .. envvar:: DOCKER_TLS_VERIFY
2022-05-20T19:28:57.3387307Z     
2022-05-20T19:28:57.3387447Z             Verify the host against a CA certificate.
2022-05-20T19:28:57.3387509Z     
2022-05-20T19:28:57.3387725Z         .. envvar:: DOCKER_CERT_PATH
2022-05-20T19:28:57.3387816Z     
2022-05-20T19:28:57.3387998Z             A path to a directory containing TLS certificates to use when
2022-05-20T19:28:57.3388215Z             connecting to the Docker host.
2022-05-20T19:28:57.3388306Z     
2022-05-20T19:28:57.3388386Z         Args:
2022-05-20T19:28:57.3388571Z             version (str): The version of the API to use. Set to ``auto`` to
2022-05-20T19:28:57.3388880Z                 automatically detect the server's version. Default: ``auto``
2022-05-20T19:28:57.3389155Z             timeout (int): Default timeout for API calls, in seconds.
2022-05-20T19:28:57.3389333Z             max_pool_size (int): The maximum number of connections
2022-05-20T19:28:57.3389441Z                 to save in the pool.
2022-05-20T19:28:57.3389663Z             ssl_version (int): A valid `SSL version`_.
2022-05-20T19:28:57.3389880Z             assert_hostname (bool): Verify the hostname of the server.
2022-05-20T19:28:57.3390057Z             environment (dict): The environment to read environment variables
2022-05-20T19:28:57.3390308Z                 from. Default: the value of ``os.environ``
2022-05-20T19:28:57.3390506Z             credstore_env (dict): Override environment variables when calling
2022-05-20T19:28:57.3390632Z                 the credential store process.
2022-05-20T19:28:57.3390866Z             use_ssh_client (bool): If set to `True`, an ssh connection is
2022-05-20T19:28:57.3391046Z                 made via shelling out to the ssh client. Ensure the ssh
2022-05-20T19:28:57.3391194Z                 client is installed and configured on the host.
2022-05-20T19:28:57.3391368Z     
2022-05-20T19:28:57.3391473Z         Example:
2022-05-20T19:28:57.3391546Z     
2022-05-20T19:28:57.3391737Z             >>> import docker
2022-05-20T19:28:57.3391873Z             >>> client = docker.from_env()
2022-05-20T19:28:57.3391964Z     
2022-05-20T19:28:57.3392058Z         .. _`SSL version`:
2022-05-20T19:28:57.3392270Z             https://docs.python.org/3.5/library/ssl.html#ssl.PROTOCOL_TLSv1
2022-05-20T19:28:57.3392441Z         """
2022-05-20T19:28:57.3392741Z         timeout = kwargs.pop('timeout', DEFAULT_TIMEOUT_SECONDS)
2022-05-20T19:28:57.3393133Z         max_pool_size = kwargs.pop('max_pool_size', DEFAULT_MAX_POOL_SIZE)
2022-05-20T19:28:57.3393450Z         version = kwargs.pop('version', None)
2022-05-20T19:28:57.3393805Z         use_ssh_client = kwargs.pop('use_ssh_client', False)
2022-05-20T19:28:57.3393994Z         return cls(
2022-05-20T19:28:57.3394111Z             timeout=timeout,
2022-05-20T19:28:57.3394509Z             max_pool_size=max_pool_size,
2022-05-20T19:28:57.3394624Z             version=version,
2022-05-20T19:28:57.3394733Z             use_ssh_client=use_ssh_client,
2022-05-20T19:28:57.3394938Z >           **kwargs_from_env(**kwargs)
2022-05-20T19:28:57.3395036Z         )
2022-05-20T19:28:57.3395059Z 
2022-05-20T19:28:57.3395588Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/client.py:101: 
2022-05-20T19:28:57.3395840Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3396001Z 
2022-05-20T19:28:57.3396340Z self = <docker.client.DockerClient object at 0x7f64863e2610>, args = ()
2022-05-20T19:28:57.3396777Z kwargs = {'max_pool_size': 10, 'timeout': 60, 'use_ssh_client': False, 'version': None}
2022-05-20T19:28:57.3396876Z 
2022-05-20T19:28:57.3397159Z     def __init__(self, *args, **kwargs):
2022-05-20T19:28:57.3397291Z >       self.api = APIClient(*args, **kwargs)
2022-05-20T19:28:57.3397403Z 
2022-05-20T19:28:57.3397827Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/client.py:45: 
2022-05-20T19:28:57.3397955Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3397963Z 
2022-05-20T19:28:57.3398138Z self = <docker.api.client.APIClient object at 0x7f64863e2650>
2022-05-20T19:28:57.3398557Z base_url = 'http+unix:///var/run/docker.sock', version = None, timeout = 60
2022-05-20T19:28:57.3398942Z tls = False, user_agent = 'docker-sdk-python/5.0.3', num_pools = 25
2022-05-20T19:28:57.3399220Z credstore_env = None, use_ssh_client = False, max_pool_size = 10
2022-05-20T19:28:57.3399246Z 
2022-05-20T19:28:57.3399397Z     def __init__(self, base_url=None, version=None,
2022-05-20T19:28:57.3399540Z                  timeout=DEFAULT_TIMEOUT_SECONDS, tls=False,
2022-05-20T19:28:57.3399710Z                  user_agent=DEFAULT_USER_AGENT, num_pools=None,
2022-05-20T19:28:57.3399874Z                  credstore_env=None, use_ssh_client=False,
2022-05-20T19:28:57.3400017Z                  max_pool_size=DEFAULT_MAX_POOL_SIZE):
2022-05-20T19:28:57.3400115Z         super().__init__()
2022-05-20T19:28:57.3400293Z     
2022-05-20T19:28:57.3400421Z         if tls and not base_url:
2022-05-20T19:28:57.3400542Z             raise TLSParameterError(
2022-05-20T19:28:57.3400915Z                 'If using TLS, the base_url argument must be provided.'
2022-05-20T19:28:57.3401087Z             )
2022-05-20T19:28:57.3401175Z     
2022-05-20T19:28:57.3401294Z         self.base_url = base_url
2022-05-20T19:28:57.3401415Z         self.timeout = timeout
2022-05-20T19:28:57.3401642Z         self.headers['User-Agent'] = user_agent
2022-05-20T19:28:57.3401821Z     
2022-05-20T19:28:57.3401999Z         self._general_configs = config.load_general_config()
2022-05-20T19:28:57.3402159Z     
2022-05-20T19:28:57.3402441Z         proxy_config = self._general_configs.get('proxies', {})
2022-05-20T19:28:57.3402513Z         try:
2022-05-20T19:28:57.3402748Z             proxies = proxy_config[base_url]
2022-05-20T19:28:57.3402868Z         except KeyError:
2022-05-20T19:28:57.3403115Z             proxies = proxy_config.get('default', {})
2022-05-20T19:28:57.3403185Z     
2022-05-20T19:28:57.3403452Z         self._proxy_configs = ProxyConfig.from_dict(proxies)
2022-05-20T19:28:57.3403541Z     
2022-05-20T19:28:57.3403687Z         self._auth_configs = auth.load_config(
2022-05-20T19:28:57.3403867Z             config_dict=self._general_configs, credstore_env=credstore_env,
2022-05-20T19:28:57.3403936Z         )
2022-05-20T19:28:57.3404167Z         self.credstore_env = credstore_env
2022-05-20T19:28:57.3404260Z     
2022-05-20T19:28:57.3404374Z         base_url = utils.parse_host(
2022-05-20T19:28:57.3404520Z             base_url, IS_WINDOWS_PLATFORM, tls=bool(tls)
2022-05-20T19:28:57.3404597Z         )
2022-05-20T19:28:57.3404874Z         # SSH has a different default for num_pools to all other adapters
2022-05-20T19:28:57.3405057Z         num_pools = num_pools or DEFAULT_NUM_POOLS_SSH if \
2022-05-20T19:28:57.3405492Z             base_url.startswith('ssh://') else DEFAULT_NUM_POOLS
2022-05-20T19:28:57.3405558Z     
2022-05-20T19:28:57.3405791Z         if base_url.startswith('http+unix://'):
2022-05-20T19:28:57.3405935Z             self._custom_adapter = UnixHTTPAdapter(
2022-05-20T19:28:57.3406086Z                 base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.3406202Z                 max_pool_size=max_pool_size
2022-05-20T19:28:57.3406278Z             )
2022-05-20T19:28:57.3406799Z             self.mount('http+docker://', self._custom_adapter)
2022-05-20T19:28:57.3407167Z             self._unmount('http://', 'https://')
2022-05-20T19:28:57.3407456Z             # host part of URL should be unused, but is resolved by requests
2022-05-20T19:28:57.3407617Z             # module in proxy_bypass_macosx_sysconf()
2022-05-20T19:28:57.3407981Z             self.base_url = 'http+docker://localhost'
2022-05-20T19:28:57.3408204Z         elif base_url.startswith('npipe://'):
2022-05-20T19:28:57.3408445Z             if not IS_WINDOWS_PLATFORM:
2022-05-20T19:28:57.3408580Z                 raise DockerException(
2022-05-20T19:28:57.3408873Z                     'The npipe:// protocol is only supported on Windows'
2022-05-20T19:28:57.3409054Z                 )
2022-05-20T19:28:57.3409162Z             try:
2022-05-20T19:28:57.3409307Z                 self._custom_adapter = NpipeHTTPAdapter(
2022-05-20T19:28:57.3409464Z                     base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.3409586Z                     max_pool_size=max_pool_size
2022-05-20T19:28:57.3409664Z                 )
2022-05-20T19:28:57.3409878Z             except NameError:
2022-05-20T19:28:57.3410009Z                 raise DockerException(
2022-05-20T19:28:57.3410315Z                     'Install pypiwin32 package to enable npipe:// support'
2022-05-20T19:28:57.3410497Z                 )
2022-05-20T19:28:57.3410784Z             self.mount('http+docker://', self._custom_adapter)
2022-05-20T19:28:57.3411021Z             self.base_url = 'http+docker://localnpipe'
2022-05-20T19:28:57.3411350Z         elif base_url.startswith('ssh://'):
2022-05-20T19:28:57.3411539Z             try:
2022-05-20T19:28:57.3411700Z                 self._custom_adapter = SSHHTTPAdapter(
2022-05-20T19:28:57.3411871Z                     base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.3412045Z                     max_pool_size=max_pool_size, shell_out=use_ssh_client
2022-05-20T19:28:57.3412218Z                 )
2022-05-20T19:28:57.3412335Z             except NameError:
2022-05-20T19:28:57.3412468Z                 raise DockerException(
2022-05-20T19:28:57.3412746Z                     'Install paramiko package to enable ssh:// support'
2022-05-20T19:28:57.3412927Z                 )
2022-05-20T19:28:57.3413225Z             self.mount('http+docker://ssh', self._custom_adapter)
2022-05-20T19:28:57.3413555Z             self._unmount('http://', 'https://')
2022-05-20T19:28:57.3413894Z             self.base_url = 'http+docker://ssh'
2022-05-20T19:28:57.3414087Z         else:
2022-05-20T19:28:57.3414274Z             # Use SSLAdapter for the ability to specify SSL version
2022-05-20T19:28:57.3414398Z             if isinstance(tls, TLSConfig):
2022-05-20T19:28:57.3414521Z                 tls.configure_client(self)
2022-05-20T19:28:57.3414608Z             elif tls:
2022-05-20T19:28:57.3414855Z                 self._custom_adapter = SSLHTTPAdapter(
2022-05-20T19:28:57.3414993Z                     pool_connections=num_pools)
2022-05-20T19:28:57.3415265Z                 self.mount('https://', self._custom_adapter)
2022-05-20T19:28:57.3415484Z             self.base_url = base_url
2022-05-20T19:28:57.3415580Z     
2022-05-20T19:28:57.3415763Z         # version detection needs to be after unix adapter mounting
2022-05-20T19:28:57.3415978Z         if version is None or (isinstance(
2022-05-20T19:28:57.3416096Z                                 version,
2022-05-20T19:28:57.3416206Z                                 str
2022-05-20T19:28:57.3416715Z                                 ) and version.lower() == 'auto'):
2022-05-20T19:28:57.3416983Z >           self._version = self._retrieve_server_version()
2022-05-20T19:28:57.3417009Z 
2022-05-20T19:28:57.3417367Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:197: 
2022-05-20T19:28:57.3417593Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3417630Z 
2022-05-20T19:28:57.3417821Z self = <docker.api.client.APIClient object at 0x7f64863e2650>
2022-05-20T19:28:57.3417839Z 
2022-05-20T19:28:57.3418057Z     def _retrieve_server_version(self):
2022-05-20T19:28:57.3418150Z         try:
2022-05-20T19:28:57.3418314Z             return self.version(api_version=False)["ApiVersion"]
2022-05-20T19:28:57.3418411Z         except KeyError:
2022-05-20T19:28:57.3418527Z             raise DockerException(
2022-05-20T19:28:57.3418945Z                 'Invalid response from docker daemon: key "ApiVersion"'
2022-05-20T19:28:57.3419224Z                 ' is missing.'
2022-05-20T19:28:57.3419327Z             )
2022-05-20T19:28:57.3419425Z         except Exception as e:
2022-05-20T19:28:57.3419533Z             raise DockerException(
2022-05-20T19:28:57.3419978Z >               f'Error while fetching server API version: {e}'
2022-05-20T19:28:57.3420161Z             )
2022-05-20T19:28:57.3420456Z E           docker.errors.DockerException: Error while fetching server API version: module responses has no attribute _is_string
2022-05-20T19:28:57.3420553Z 
2022-05-20T19:28:57.3421014Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:222: DockerException
2022-05-20T19:28:57.3421024Z 
2022-05-20T19:28:57.3421636Z During handling of the above exception, another exception occurred:
2022-05-20T19:28:57.3421655Z 
2022-05-20T19:28:57.3421761Z args = (), kwargs = {}
2022-05-20T19:28:57.3421929Z ecr_client = <botocore.client.ECR object at 0x7f64867ef7d0>
2022-05-20T19:28:57.3422349Z repo_name = 'my_bento-sagemaker'
2022-05-20T19:28:57.3422973Z iam_role_policy = '\n        {\n            "Version": "2019-10-10",\n            "Statement": [\n                {\n                   ...    "Service": "sagemaker.amazonaws.com"\n                    }\n                }\n            ]\n        }\n        '
2022-05-20T19:28:57.3423252Z iam_client = <botocore.client.IAM object at 0x7f6486521e90>
2022-05-20T19:28:57.3423278Z 
2022-05-20T19:28:57.3423384Z     @mock_ecr
2022-05-20T19:28:57.3423453Z     @mock_iam
2022-05-20T19:28:57.3423529Z     @mock_sts
2022-05-20T19:28:57.3423630Z     @moto_mock_sagemaker
2022-05-20T19:28:57.3423751Z     def mock_wrapper(*args, **kwargs):
2022-05-20T19:28:57.3424109Z         ecr_client = boto3.client('ecr', TEST_AWS_REGION)
2022-05-20T19:28:57.3424471Z         repo_name = TEST_DEPLOYMENT_BENTO_NAME + '-sagemaker'
2022-05-20T19:28:57.3424652Z         try:
2022-05-20T19:28:57.3424842Z             ecr_client.create_repository(repositoryName=repo_name)
2022-05-20T19:28:57.3425172Z         except ecr_client.exceptions.RepositoryAlreadyExistsException:
2022-05-20T19:28:57.3425484Z             print('Repository already exists')
2022-05-20T19:28:57.3425664Z     
2022-05-20T19:28:57.3425786Z         iam_role_policy = """
2022-05-20T19:28:57.3425876Z         {
2022-05-20T19:28:57.3426076Z             "Version": "2019-10-10",
2022-05-20T19:28:57.3426275Z             "Statement": [
2022-05-20T19:28:57.3426370Z                 {
2022-05-20T19:28:57.3426493Z                     "Effect": "Allow",
2022-05-20T19:28:57.3426592Z                     "Action": "*",
2022-05-20T19:28:57.3426688Z                     "Principal": {
2022-05-20T19:28:57.3426844Z                         "Service": "sagemaker.amazonaws.com"
2022-05-20T19:28:57.3427032Z                     }
2022-05-20T19:28:57.3427128Z                 }
2022-05-20T19:28:57.3427204Z             ]
2022-05-20T19:28:57.3427277Z         }
2022-05-20T19:28:57.3427354Z         """
2022-05-20T19:28:57.3427698Z         iam_client = boto3.client('iam', TEST_AWS_REGION)
2022-05-20T19:28:57.3428095Z         iam_client.create_role(
2022-05-20T19:28:57.3428301Z             RoleName="moto", AssumeRolePolicyDocument=iam_role_policy
2022-05-20T19:28:57.3428475Z         )
2022-05-20T19:28:57.3428604Z >       return func(*args, **kwargs)
2022-05-20T19:28:57.3428626Z 
2022-05-20T19:28:57.3428796Z tests/deployment/sagemaker/test_sagemaker.py:168: 
2022-05-20T19:28:57.3476489Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3477275Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/mock/mock.py:1346: in patched
2022-05-20T19:28:57.3477558Z     return func(*newargs, **newkeywargs)
2022-05-20T19:28:57.3477834Z tests/deployment/sagemaker/test_sagemaker.py:191: in mock_wrapper
2022-05-20T19:28:57.3478028Z     return func(*args, **kwargs)
2022-05-20T19:28:57.3478331Z tests/deployment/sagemaker/test_sagemaker.py:338: in test_sagemaker_apply_duplicate_endpoint
2022-05-20T19:28:57.3478612Z     deployment_operator = SageMakerDeploymentOperator(yatai_service)
2022-05-20T19:28:57.3478872Z bentoml/yatai/deployment/sagemaker/operator.py:432: in __init__
2022-05-20T19:28:57.3479078Z     ensure_docker_available_or_raise()
2022-05-20T19:28:57.3479288Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3479375Z 
2022-05-20T19:28:57.3479716Z     def ensure_docker_available_or_raise() -> None:
2022-05-20T19:28:57.3479909Z         """
2022-05-20T19:28:57.3480105Z         Ensure docker is available.
2022-05-20T19:28:57.3480259Z     
2022-05-20T19:28:57.3480425Z         Raises:
2022-05-20T19:28:57.3480661Z             :class:`~MissingDependencyException`:
2022-05-20T19:28:57.3480894Z                 for :class:`~docker.errors.APIErrors`
2022-05-20T19:28:57.3481139Z                 or :class:`~docker.errors.DockerException`
2022-05-20T19:28:57.3481292Z         """
2022-05-20T19:28:57.3481453Z         try:
2022-05-20T19:28:57.3481649Z             client = docker.from_env()
2022-05-20T19:28:57.3481835Z             client.ping()
2022-05-20T19:28:57.3482068Z         except docker.errors.APIError as error:
2022-05-20T19:28:57.3482539Z             raise MissingDependencyException(f'Docker server is not responsive. {error}')
2022-05-20T19:28:57.3482804Z         except docker.errors.DockerException:
2022-05-20T19:28:57.3483038Z             raise MissingDependencyException(
2022-05-20T19:28:57.3483401Z >               'Docker is required for this deployment. Please visit '
2022-05-20T19:28:57.3483716Z                 'www.docker.com for instructions'
2022-05-20T19:28:57.3483881Z             )
2022-05-20T19:28:57.3484304Z E           bentoml.exceptions.MissingDependencyException: Docker is required for this deployment. Please visit www.docker.com for instructions
2022-05-20T19:28:57.3484397Z 
2022-05-20T19:28:57.3484672Z bentoml/yatai/deployment/docker_utils.py:28: MissingDependencyException
2022-05-20T19:28:57.3484940Z _________ test_sagemaker_update_deployment_with_new_bento_service_tag __________
2022-05-20T19:28:57.3485031Z 
2022-05-20T19:28:57.3485286Z self = <docker.api.client.APIClient object at 0x7f64854c0710>
2022-05-20T19:28:57.3485370Z 
2022-05-20T19:28:57.3485568Z     def _retrieve_server_version(self):
2022-05-20T19:28:57.3485727Z         try:
2022-05-20T19:28:57.3485972Z >           return self.version(api_version=False)["ApiVersion"]
2022-05-20T19:28:57.3486055Z 
2022-05-20T19:28:57.3486487Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:214: 
2022-05-20T19:28:57.3486715Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3486804Z 
2022-05-20T19:28:57.3487057Z self = <docker.api.client.APIClient object at 0x7f64854c0710>
2022-05-20T19:28:57.3487237Z api_version = False
2022-05-20T19:28:57.3487320Z 
2022-05-20T19:28:57.3487529Z     def version(self, api_version=True):
2022-05-20T19:28:57.3487687Z         """
2022-05-20T19:28:57.3487950Z         Returns version information from the server. Similar to the ``docker
2022-05-20T19:28:57.3488293Z         version`` command.
2022-05-20T19:28:57.3488445Z     
2022-05-20T19:28:57.3488609Z         Returns:
2022-05-20T19:28:57.3488829Z             (dict): The server version information
2022-05-20T19:28:57.3488984Z     
2022-05-20T19:28:57.3489145Z         Raises:
2022-05-20T19:28:57.3489372Z             :py:class:`docker.errors.APIError`
2022-05-20T19:28:57.3489582Z                 If the server returns an error.
2022-05-20T19:28:57.3489737Z         """
2022-05-20T19:28:57.3489975Z         url = self._url("/version", versioned_api=api_version)
2022-05-20T19:28:57.3490284Z >       return self._result(self._get(url), json=True)
2022-05-20T19:28:57.3490403Z 
2022-05-20T19:28:57.3490851Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/daemon.py:181: 
2022-05-20T19:28:57.3491085Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3491170Z 
2022-05-20T19:28:57.3491428Z self = <docker.api.client.APIClient object at 0x7f64854c0710>
2022-05-20T19:28:57.3491796Z args = ('http+docker://localhost/version',), kwargs = {}
2022-05-20T19:28:57.3491895Z 
2022-05-20T19:28:57.3492091Z     def inner(self, *args, **kwargs):
2022-05-20T19:28:57.3492403Z         if 'HttpHeaders' in self._general_configs:
2022-05-20T19:28:57.3492696Z             if not kwargs.get('headers'):
2022-05-20T19:28:57.3493065Z                 kwargs['headers'] = self._general_configs['HttpHeaders']
2022-05-20T19:28:57.3493241Z             else:
2022-05-20T19:28:57.3493620Z                 kwargs['headers'].update(self._general_configs['HttpHeaders'])
2022-05-20T19:28:57.3493825Z >       return f(self, *args, **kwargs)
2022-05-20T19:28:57.3493912Z 
2022-05-20T19:28:57.3494357Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/utils/decorators.py:46: 
2022-05-20T19:28:57.3494583Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3494669Z 
2022-05-20T19:28:57.3494930Z self = <docker.api.client.APIClient object at 0x7f64854c0710>
2022-05-20T19:28:57.3495304Z url = 'http+docker://localhost/version', kwargs = {'timeout': 60}
2022-05-20T19:28:57.3495402Z 
2022-05-20T19:28:57.3495572Z     @update_headers
2022-05-20T19:28:57.3495760Z     def _get(self, url, **kwargs):
2022-05-20T19:28:57.3496006Z >       return self.get(url, **self._set_request_timeout(kwargs))
2022-05-20T19:28:57.3496089Z 
2022-05-20T19:28:57.3496516Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:237: 
2022-05-20T19:28:57.3496744Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3496828Z 
2022-05-20T19:28:57.3497078Z self = <docker.api.client.APIClient object at 0x7f64854c0710>
2022-05-20T19:28:57.3497383Z url = 'http+docker://localhost/version'
2022-05-20T19:28:57.3497704Z kwargs = {'allow_redirects': True, 'timeout': 60}
2022-05-20T19:28:57.3497799Z 
2022-05-20T19:28:57.3497986Z     def get(self, url, **kwargs):
2022-05-20T19:28:57.3498237Z         r"""Sends a GET request. Returns :class:`Response` object.
2022-05-20T19:28:57.3498392Z     
2022-05-20T19:28:57.3498720Z         :param url: URL for the new :class:`Request` object.
2022-05-20T19:28:57.3498984Z         :param \*\*kwargs: Optional arguments that ``request`` takes.
2022-05-20T19:28:57.3499181Z         :rtype: requests.Response
2022-05-20T19:28:57.3499335Z         """
2022-05-20T19:28:57.3499487Z     
2022-05-20T19:28:57.3499810Z         kwargs.setdefault('allow_redirects', True)
2022-05-20T19:28:57.3500134Z >       return self.request('GET', url, **kwargs)
2022-05-20T19:28:57.3500231Z 
2022-05-20T19:28:57.3500664Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:542: 
2022-05-20T19:28:57.3500906Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3500990Z 
2022-05-20T19:28:57.3501380Z self = <docker.api.client.APIClient object at 0x7f64854c0710>, method = 'GET'
2022-05-20T19:28:57.3501919Z url = 'http+docker://localhost/version', params = None, data = None
2022-05-20T19:28:57.3502193Z headers = None, cookies = None, files = None, auth = None, timeout = 60
2022-05-20T19:28:57.3502466Z allow_redirects = True, proxies = {}, hooks = None, stream = None, verify = None
2022-05-20T19:28:57.3502654Z cert = None, json = None
2022-05-20T19:28:57.3502738Z 
2022-05-20T19:28:57.3502931Z     def request(self, method, url,
2022-05-20T19:28:57.3503190Z             params=None, data=None, headers=None, cookies=None, files=None,
2022-05-20T19:28:57.3503521Z             auth=None, timeout=None, allow_redirects=True, proxies=None,
2022-05-20T19:28:57.3503802Z             hooks=None, stream=None, verify=None, cert=None, json=None):
2022-05-20T19:28:57.3504071Z         """Constructs a :class:`Request <Request>`, prepares it and sends it.
2022-05-20T19:28:57.3504300Z         Returns :class:`Response <Response>` object.
2022-05-20T19:28:57.3504456Z     
2022-05-20T19:28:57.3504700Z         :param method: method for the new :class:`Request` object.
2022-05-20T19:28:57.3504944Z         :param url: URL for the new :class:`Request` object.
2022-05-20T19:28:57.3505211Z         :param params: (optional) Dictionary or bytes to be sent in the query
2022-05-20T19:28:57.3505421Z             string for the :class:`Request`.
2022-05-20T19:28:57.3505829Z         :param data: (optional) Dictionary, list of tuples, bytes, or file-like
2022-05-20T19:28:57.3506079Z             object to send in the body of the :class:`Request`.
2022-05-20T19:28:57.3506310Z         :param json: (optional) json to send in the body of the
2022-05-20T19:28:57.3506496Z             :class:`Request`.
2022-05-20T19:28:57.3506767Z         :param headers: (optional) Dictionary of HTTP Headers to send with the
2022-05-20T19:28:57.3506949Z             :class:`Request`.
2022-05-20T19:28:57.3507212Z         :param cookies: (optional) Dict or CookieJar object to send with the
2022-05-20T19:28:57.3507392Z             :class:`Request`.
2022-05-20T19:28:57.3507794Z         :param files: (optional) Dictionary of ``'filename': file-like-objects``
2022-05-20T19:28:57.3508019Z             for multipart encoding upload.
2022-05-20T19:28:57.3508268Z         :param auth: (optional) Auth tuple or callable to enable
2022-05-20T19:28:57.3508478Z             Basic/Digest/Custom HTTP Auth.
2022-05-20T19:28:57.3508737Z         :param timeout: (optional) How long to wait for the server to send
2022-05-20T19:28:57.3508981Z             data before giving up, as a float, or a :ref:`(connect timeout,
2022-05-20T19:28:57.3509194Z             read timeout) <timeouts>` tuple.
2022-05-20T19:28:57.3509410Z         :type timeout: float or tuple
2022-05-20T19:28:57.3509765Z         :param allow_redirects: (optional) Set to True by default.
2022-05-20T19:28:57.3510446Z         :type allow_redirects: bool
2022-05-20T19:28:57.3510857Z         :param proxies: (optional) Dictionary mapping protocol or protocol and
2022-05-20T19:28:57.3514122Z             hostname to the URL of the proxy.
2022-05-20T19:28:57.3514324Z         :param stream: (optional) whether to immediately download the response
2022-05-20T19:28:57.3514450Z             content. Defaults to ``False``.
2022-05-20T19:28:57.3514661Z         :param verify: (optional) Either a boolean, in which case it controls whether we verify
2022-05-20T19:28:57.3515005Z             the server's TLS certificate, or a string, in which case it must be a path
2022-05-20T19:28:57.3515156Z             to a CA bundle to use. Defaults to ``True``. When set to
2022-05-20T19:28:57.3515668Z             ``False``, requests will accept any TLS certificate presented by
2022-05-20T19:28:57.3515865Z             the server, and will ignore hostname mismatches and/or expired
2022-05-20T19:28:57.3516047Z             certificates, which will make your application vulnerable to
2022-05-20T19:28:57.3516349Z             man-in-the-middle (MitM) attacks. Setting verify to ``False``
2022-05-20T19:28:57.3516510Z             may be useful during local development or testing.
2022-05-20T19:28:57.3516900Z         :param cert: (optional) if String, path to ssl client cert file (.pem).
2022-05-20T19:28:57.3517111Z             If Tuple, ('cert', 'key') pair.
2022-05-20T19:28:57.3517218Z         :rtype: requests.Response
2022-05-20T19:28:57.3517302Z         """
2022-05-20T19:28:57.3517405Z         # Create the Request.
2022-05-20T19:28:57.3517498Z         req = Request(
2022-05-20T19:28:57.3517613Z             method=method.upper(),
2022-05-20T19:28:57.3517703Z             url=url,
2022-05-20T19:28:57.3517805Z             headers=headers,
2022-05-20T19:28:57.3517976Z             files=files,
2022-05-20T19:28:57.3518091Z             data=data or {},
2022-05-20T19:28:57.3518180Z             json=json,
2022-05-20T19:28:57.3518290Z             params=params or {},
2022-05-20T19:28:57.3518381Z             auth=auth,
2022-05-20T19:28:57.3518479Z             cookies=cookies,
2022-05-20T19:28:57.3518571Z             hooks=hooks,
2022-05-20T19:28:57.3518638Z         )
2022-05-20T19:28:57.3518771Z         prep = self.prepare_request(req)
2022-05-20T19:28:57.3518848Z     
2022-05-20T19:28:57.3518957Z         proxies = proxies or {}
2022-05-20T19:28:57.3519032Z     
2022-05-20T19:28:57.3519177Z         settings = self.merge_environment_settings(
2022-05-20T19:28:57.3519319Z             prep.url, proxies, stream, verify, cert
2022-05-20T19:28:57.3519385Z         )
2022-05-20T19:28:57.3519460Z     
2022-05-20T19:28:57.3519558Z         # Send the request.
2022-05-20T19:28:57.3519652Z         send_kwargs = {
2022-05-20T19:28:57.3519832Z             'timeout': timeout,
2022-05-20T19:28:57.3520043Z             'allow_redirects': allow_redirects,
2022-05-20T19:28:57.3520121Z         }
2022-05-20T19:28:57.3520228Z         send_kwargs.update(settings)
2022-05-20T19:28:57.3520358Z >       resp = self.send(prep, **send_kwargs)
2022-05-20T19:28:57.3520369Z 
2022-05-20T19:28:57.3520717Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:529: 
2022-05-20T19:28:57.3520849Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3520860Z 
2022-05-20T19:28:57.3521037Z self = <docker.api.client.APIClient object at 0x7f64854c0710>
2022-05-20T19:28:57.3521161Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.3521466Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.3521722Z allow_redirects = True, stream = False, hooks = {'response': []}
2022-05-20T19:28:57.3522371Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f648639f4d0>
2022-05-20T19:28:57.3522504Z start = 1653074851.0649993
2022-05-20T19:28:57.3522513Z 
2022-05-20T19:28:57.3522635Z     def send(self, request, **kwargs):
2022-05-20T19:28:57.3522767Z         """Send a given PreparedRequest.
2022-05-20T19:28:57.3522843Z     
2022-05-20T19:28:57.3522961Z         :rtype: requests.Response
2022-05-20T19:28:57.3523042Z         """
2022-05-20T19:28:57.3523221Z         # Set defaults that the hooks can utilize to ensure they always have
2022-05-20T19:28:57.3523387Z         # the correct parameters to reproduce the previous request.
2022-05-20T19:28:57.3523649Z         kwargs.setdefault('stream', self.stream)
2022-05-20T19:28:57.3523864Z         kwargs.setdefault('verify', self.verify)
2022-05-20T19:28:57.3524069Z         kwargs.setdefault('cert', self.cert)
2022-05-20T19:28:57.3524247Z         if 'proxies' not in kwargs:
2022-05-20T19:28:57.3524453Z             kwargs['proxies'] = resolve_proxies(
2022-05-20T19:28:57.3524599Z                 request, self.proxies, self.trust_env
2022-05-20T19:28:57.3524672Z             )
2022-05-20T19:28:57.3524749Z     
2022-05-20T19:28:57.3525033Z         # It's possible that users might accidentally send a Request object.
2022-05-20T19:28:57.3525176Z         # Guard against that specific failure case.
2022-05-20T19:28:57.3525300Z         if isinstance(request, Request):
2022-05-20T19:28:57.3525564Z             raise ValueError('You can only send PreparedRequests.')
2022-05-20T19:28:57.3525804Z     
2022-05-20T19:28:57.3525990Z         # Set up variables needed for resolve_redirects and dispatching of hooks
2022-05-20T19:28:57.3526256Z         allow_redirects = kwargs.pop('allow_redirects', True)
2022-05-20T19:28:57.3526437Z         stream = kwargs.get('stream')
2022-05-20T19:28:57.3526545Z         hooks = request.hooks
2022-05-20T19:28:57.3526621Z     
2022-05-20T19:28:57.3526757Z         # Get the appropriate adapter to use
2022-05-20T19:28:57.3526903Z         adapter = self.get_adapter(url=request.url)
2022-05-20T19:28:57.3526982Z     
2022-05-20T19:28:57.3527190Z         # Start time (approximately) of the request
2022-05-20T19:28:57.3527315Z         start = preferred_clock()
2022-05-20T19:28:57.3527391Z     
2022-05-20T19:28:57.3527489Z         # Send the request
2022-05-20T19:28:57.3527621Z >       r = adapter.send(request, **kwargs)
2022-05-20T19:28:57.3527632Z 
2022-05-20T19:28:57.3527992Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/requests/sessions.py:645: 
2022-05-20T19:28:57.3528127Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3528136Z 
2022-05-20T19:28:57.3528366Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f648639f4d0>
2022-05-20T19:28:57.3528487Z request = <PreparedRequest [GET]>, a = ()
2022-05-20T19:28:57.3528795Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.3528804Z 
2022-05-20T19:28:57.3528959Z     def unbound_on_send(adapter, request, *a, **kwargs):
2022-05-20T19:28:57.3529120Z >       return self._on_request(adapter, request, *a, **kwargs)
2022-05-20T19:28:57.3529128Z 
2022-05-20T19:28:57.3529470Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:841: 
2022-05-20T19:28:57.3529597Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3529605Z 
2022-05-20T19:28:57.3529767Z self = <responses.RequestsMock object at 0x7f64a905d950>
2022-05-20T19:28:57.3529997Z adapter = <docker.transport.unixconn.UnixHTTPAdapter object at 0x7f648639f4d0>
2022-05-20T19:28:57.3530121Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.3530410Z kwargs = {'cert': None, 'proxies': OrderedDict(), 'stream': False, 'timeout': 60, ...}
2022-05-20T19:28:57.3530418Z 
2022-05-20T19:28:57.3530568Z     def _on_request(self, adapter, request, **kwargs):
2022-05-20T19:28:57.3530894Z         # add attributes params and req_kwargs to 'request' object for further match comparison
2022-05-20T19:28:57.3531061Z         # original request object does not have these attributes
2022-05-20T19:28:57.3531242Z         request.params = self._parse_request_params(request.path_url)
2022-05-20T19:28:57.3531358Z         request.req_kwargs = kwargs
2022-05-20T19:28:57.3531434Z     
2022-05-20T19:28:57.3531592Z >       match, match_failed_reasons = self._find_match(request)
2022-05-20T19:28:57.3531599Z 
2022-05-20T19:28:57.3531926Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:779: 
2022-05-20T19:28:57.3532056Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3532064Z 
2022-05-20T19:28:57.3532261Z self = <responses.RequestsMock object at 0x7f64a905d950>
2022-05-20T19:28:57.3532387Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.3532395Z 
2022-05-20T19:28:57.3532510Z     def _find_match(self, request):
2022-05-20T19:28:57.3532871Z         """
2022-05-20T19:28:57.3533757Z         Iterates through all available matches and validates if any of them matches the request
2022-05-20T19:28:57.3533860Z     
2022-05-20T19:28:57.3534020Z         :param request: (PreparedRequest), request object
2022-05-20T19:28:57.3534105Z         :return:
2022-05-20T19:28:57.3534302Z             (Response) found match. If multiple found, then remove & return the first match.
2022-05-20T19:28:57.3534601Z             (list) list with reasons why other matches don't match
2022-05-20T19:28:57.3534681Z         """
2022-05-20T19:28:57.3534986Z >       return self._registry.find(request)
2022-05-20T19:28:57.3534996Z 
2022-05-20T19:28:57.3535354Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:762: 
2022-05-20T19:28:57.3535483Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3535491Z 
2022-05-20T19:28:57.3535703Z self = <responses.registries.FirstMatchRegistry object at 0x7f6484f9ed10>
2022-05-20T19:28:57.3535815Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.3535823Z 
2022-05-20T19:28:57.3535983Z     def find(
2022-05-20T19:28:57.3536127Z         self, request: "PreparedRequest"
2022-05-20T19:28:57.3536372Z     ) -> Tuple[Optional["BaseResponse"], List[str]]:
2022-05-20T19:28:57.3536467Z         found = None
2022-05-20T19:28:57.3536569Z         found_match = None
2022-05-20T19:28:57.3536685Z         match_failed_reasons = []
2022-05-20T19:28:57.3536827Z         for i, response in enumerate(self.registered):
2022-05-20T19:28:57.3536989Z >           match_result, reason = response.matches(request)
2022-05-20T19:28:57.3536997Z 
2022-05-20T19:28:57.3537347Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/registries.py:32: 
2022-05-20T19:28:57.3537474Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3537482Z 
2022-05-20T19:28:57.3537672Z self = <moto.core.models.CallbackResponse object at 0x7f6484690d90>
2022-05-20T19:28:57.3537795Z request = <PreparedRequest [GET]>
2022-05-20T19:28:57.3537802Z 
2022-05-20T19:28:57.3537916Z     def matches(self, request):
2022-05-20T19:28:57.3538042Z         if request.method != self.method:
2022-05-20T19:28:57.3538177Z             return False, "Method does not match"
2022-05-20T19:28:57.3538241Z     
2022-05-20T19:28:57.3538394Z >       if not self._url_matches(self.url, request.url):
2022-05-20T19:28:57.3538402Z 
2022-05-20T19:28:57.3538741Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:350: 
2022-05-20T19:28:57.3538874Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3538882Z 
2022-05-20T19:28:57.3539071Z self = <moto.core.models.CallbackResponse object at 0x7f6484690d90>
2022-05-20T19:28:57.3539301Z url = re.compile('https?://ecr.(.+).amazonaws.com/$')
2022-05-20T19:28:57.3539603Z other = 'http+docker://localhost/version', match_querystring = False
2022-05-20T19:28:57.3539612Z 
2022-05-20T19:28:57.3539777Z     def _url_matches(self, url, other, match_querystring=False):
2022-05-20T19:28:57.3539863Z         """
2022-05-20T19:28:57.3540038Z         Need to override this so we can fix querystrings breaking regex matching
2022-05-20T19:28:57.3540117Z         """
2022-05-20T19:28:57.3540232Z         if not match_querystring:
2022-05-20T19:28:57.3540355Z             other = other.split("?", 1)[0]
2022-05-20T19:28:57.3540432Z     
2022-05-20T19:28:57.3540549Z >       if responses._is_string(url):
2022-05-20T19:28:57.3540557Z 
2022-05-20T19:28:57.3540900Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/moto/core/models.py:198: 
2022-05-20T19:28:57.3541013Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3541034Z 
2022-05-20T19:28:57.3541161Z name = '_is_string'
2022-05-20T19:28:57.3541168Z 
2022-05-20T19:28:57.3541270Z     def __getattr__(name):
2022-05-20T19:28:57.3541386Z         if name in deprecated_names:
2022-05-20T19:28:57.3541470Z             warn(
2022-05-20T19:28:57.3541753Z                 f"{name} is deprecated. Please use 'responses.mock.{name}",
2022-05-20T19:28:57.3541871Z                 DeprecationWarning,
2022-05-20T19:28:57.3541951Z             )
2022-05-20T19:28:57.3542079Z             return globals()[f"_deprecated_{name}"]
2022-05-20T19:28:57.3542256Z >       raise AttributeError(f"module {__name__} has no attribute {name}")
2022-05-20T19:28:57.3542433Z E       AttributeError: module responses has no attribute _is_string
2022-05-20T19:28:57.3542525Z 
2022-05-20T19:28:57.3542927Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/responses/__init__.py:969: AttributeError
2022-05-20T19:28:57.3542936Z 
2022-05-20T19:28:57.3543120Z During handling of the above exception, another exception occurred:
2022-05-20T19:28:57.3543128Z 
2022-05-20T19:28:57.3543350Z     def ensure_docker_available_or_raise() -> None:
2022-05-20T19:28:57.3543433Z         """
2022-05-20T19:28:57.3543548Z         Ensure docker is available.
2022-05-20T19:28:57.3543624Z     
2022-05-20T19:28:57.3543695Z         Raises:
2022-05-20T19:28:57.3543920Z             :class:`~MissingDependencyException`:
2022-05-20T19:28:57.3544083Z                 for :class:`~docker.errors.APIErrors`
2022-05-20T19:28:57.3544251Z                 or :class:`~docker.errors.DockerException`
2022-05-20T19:28:57.3544333Z         """
2022-05-20T19:28:57.3544414Z         try:
2022-05-20T19:28:57.3544530Z >           client = docker.from_env()
2022-05-20T19:28:57.3544538Z 
2022-05-20T19:28:57.3544676Z bentoml/yatai/deployment/docker_utils.py:22: 
2022-05-20T19:28:57.3544803Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3544810Z 
2022-05-20T19:28:57.3545103Z cls = <class 'docker.client.DockerClient'>, kwargs = {}, timeout = 60
2022-05-20T19:28:57.3545258Z max_pool_size = 10, version = None, use_ssh_client = False
2022-05-20T19:28:57.3545266Z 
2022-05-20T19:28:57.3545356Z     @classmethod
2022-05-20T19:28:57.3545467Z     def from_env(cls, **kwargs):
2022-05-20T19:28:57.3545546Z         """
2022-05-20T19:28:57.3545714Z         Return a client configured from environment variables.
2022-05-20T19:28:57.3545778Z     
2022-05-20T19:28:57.3545955Z         The environment variables used are the same as those used by the
2022-05-20T19:28:57.3546167Z         Docker command-line client. They are:
2022-05-20T19:28:57.3546246Z     
2022-05-20T19:28:57.3546372Z         .. envvar:: DOCKER_HOST
2022-05-20T19:28:57.3546447Z     
2022-05-20T19:28:57.3546561Z             The URL to the Docker host.
2022-05-20T19:28:57.3546627Z     
2022-05-20T19:28:57.3546745Z         .. envvar:: DOCKER_TLS_VERIFY
2022-05-20T19:28:57.3546819Z     
2022-05-20T19:28:57.3546963Z             Verify the host against a CA certificate.
2022-05-20T19:28:57.3547038Z     
2022-05-20T19:28:57.3547154Z         .. envvar:: DOCKER_CERT_PATH
2022-05-20T19:28:57.3547229Z     
2022-05-20T19:28:57.3547395Z             A path to a directory containing TLS certificates to use when
2022-05-20T19:28:57.3547519Z             connecting to the Docker host.
2022-05-20T19:28:57.3547594Z     
2022-05-20T19:28:57.3547678Z         Args:
2022-05-20T19:28:57.3547850Z             version (str): The version of the API to use. Set to ``auto`` to
2022-05-20T19:28:57.3548134Z                 automatically detect the server's version. Default: ``auto``
2022-05-20T19:28:57.3548302Z             timeout (int): Default timeout for API calls, in seconds.
2022-05-20T19:28:57.3548462Z             max_pool_size (int): The maximum number of connections
2022-05-20T19:28:57.3548563Z                 to save in the pool.
2022-05-20T19:28:57.3548702Z             ssl_version (int): A valid `SSL version`_.
2022-05-20T19:28:57.3548873Z             assert_hostname (bool): Verify the hostname of the server.
2022-05-20T19:28:57.3549055Z             environment (dict): The environment to read environment variables
2022-05-20T19:28:57.3549199Z                 from. Default: the value of ``os.environ``
2022-05-20T19:28:57.3549379Z             credstore_env (dict): Override environment variables when calling
2022-05-20T19:28:57.3549514Z                 the credential store process.
2022-05-20T19:28:57.3549667Z             use_ssh_client (bool): If set to `True`, an ssh connection is
2022-05-20T19:28:57.3549832Z                 made via shelling out to the ssh client. Ensure the ssh
2022-05-20T19:28:57.3549989Z                 client is installed and configured on the host.
2022-05-20T19:28:57.3550066Z     
2022-05-20T19:28:57.3550153Z         Example:
2022-05-20T19:28:57.3550327Z     
2022-05-20T19:28:57.3550430Z             >>> import docker
2022-05-20T19:28:57.3550551Z             >>> client = docker.from_env()
2022-05-20T19:28:57.3550614Z     
2022-05-20T19:28:57.3550712Z         .. _`SSL version`:
2022-05-20T19:28:57.3550911Z             https://docs.python.org/3.5/library/ssl.html#ssl.PROTOCOL_TLSv1
2022-05-20T19:28:57.3550992Z         """
2022-05-20T19:28:57.3551267Z         timeout = kwargs.pop('timeout', DEFAULT_TIMEOUT_SECONDS)
2022-05-20T19:28:57.3551619Z         max_pool_size = kwargs.pop('max_pool_size', DEFAULT_MAX_POOL_SIZE)
2022-05-20T19:28:57.3551847Z         version = kwargs.pop('version', None)
2022-05-20T19:28:57.3552079Z         use_ssh_client = kwargs.pop('use_ssh_client', False)
2022-05-20T19:28:57.3552170Z         return cls(
2022-05-20T19:28:57.3552272Z             timeout=timeout,
2022-05-20T19:28:57.3552392Z             max_pool_size=max_pool_size,
2022-05-20T19:28:57.3552491Z             version=version,
2022-05-20T19:28:57.3552615Z             use_ssh_client=use_ssh_client,
2022-05-20T19:28:57.3552725Z >           **kwargs_from_env(**kwargs)
2022-05-20T19:28:57.3552792Z         )
2022-05-20T19:28:57.3552801Z 
2022-05-20T19:28:57.3553138Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/client.py:101: 
2022-05-20T19:28:57.3553270Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3553279Z 
2022-05-20T19:28:57.3553462Z self = <docker.client.DockerClient object at 0x7f64854c0850>, args = ()
2022-05-20T19:28:57.3553768Z kwargs = {'max_pool_size': 10, 'timeout': 60, 'use_ssh_client': False, 'version': None}
2022-05-20T19:28:57.3553776Z 
2022-05-20T19:28:57.3553894Z     def __init__(self, *args, **kwargs):
2022-05-20T19:28:57.3554026Z >       self.api = APIClient(*args, **kwargs)
2022-05-20T19:28:57.3554034Z 
2022-05-20T19:28:57.3554364Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/client.py:45: 
2022-05-20T19:28:57.3554494Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3554504Z 
2022-05-20T19:28:57.3554682Z self = <docker.api.client.APIClient object at 0x7f64854c0710>
2022-05-20T19:28:57.3554957Z base_url = 'http+unix:///var/run/docker.sock', version = None, timeout = 60
2022-05-20T19:28:57.3555226Z tls = False, user_agent = 'docker-sdk-python/5.0.3', num_pools = 25
2022-05-20T19:28:57.3555598Z credstore_env = None, use_ssh_client = False, max_pool_size = 10
2022-05-20T19:28:57.3555610Z 
2022-05-20T19:28:57.3555759Z     def __init__(self, base_url=None, version=None,
2022-05-20T19:28:57.3555914Z                  timeout=DEFAULT_TIMEOUT_SECONDS, tls=False,
2022-05-20T19:28:57.3556071Z                  user_agent=DEFAULT_USER_AGENT, num_pools=None,
2022-05-20T19:28:57.3556219Z                  credstore_env=None, use_ssh_client=False,
2022-05-20T19:28:57.3556361Z                  max_pool_size=DEFAULT_MAX_POOL_SIZE):
2022-05-20T19:28:57.3556448Z         super().__init__()
2022-05-20T19:28:57.3556527Z     
2022-05-20T19:28:57.3556639Z         if tls and not base_url:
2022-05-20T19:28:57.3556760Z             raise TLSParameterError(
2022-05-20T19:28:57.3557041Z                 'If using TLS, the base_url argument must be provided.'
2022-05-20T19:28:57.3557123Z             )
2022-05-20T19:28:57.3557200Z     
2022-05-20T19:28:57.3557295Z         self.base_url = base_url
2022-05-20T19:28:57.3557401Z         self.timeout = timeout
2022-05-20T19:28:57.3557620Z         self.headers['User-Agent'] = user_agent
2022-05-20T19:28:57.3557697Z     
2022-05-20T19:28:57.3557858Z         self._general_configs = config.load_general_config()
2022-05-20T19:28:57.3557934Z     
2022-05-20T19:28:57.3558191Z         proxy_config = self._general_configs.get('proxies', {})
2022-05-20T19:28:57.3558260Z         try:
2022-05-20T19:28:57.3558393Z             proxies = proxy_config[base_url]
2022-05-20T19:28:57.3558492Z         except KeyError:
2022-05-20T19:28:57.3558720Z             proxies = proxy_config.get('default', {})
2022-05-20T19:28:57.3558933Z     
2022-05-20T19:28:57.3559101Z         self._proxy_configs = ProxyConfig.from_dict(proxies)
2022-05-20T19:28:57.3559178Z     
2022-05-20T19:28:57.3559296Z         self._auth_configs = auth.load_config(
2022-05-20T19:28:57.3559477Z             config_dict=self._general_configs, credstore_env=credstore_env,
2022-05-20T19:28:57.3559557Z         )
2022-05-20T19:28:57.3559687Z         self.credstore_env = credstore_env
2022-05-20T19:28:57.3559762Z     
2022-05-20T19:28:57.3559879Z         base_url = utils.parse_host(
2022-05-20T19:28:57.3560104Z             base_url, IS_WINDOWS_PLATFORM, tls=bool(tls)
2022-05-20T19:28:57.3560178Z         )
2022-05-20T19:28:57.3560358Z         # SSH has a different default for num_pools to all other adapters
2022-05-20T19:28:57.3560515Z         num_pools = num_pools or DEFAULT_NUM_POOLS_SSH if \
2022-05-20T19:28:57.3560795Z             base_url.startswith('ssh://') else DEFAULT_NUM_POOLS
2022-05-20T19:28:57.3560874Z     
2022-05-20T19:28:57.3561114Z         if base_url.startswith('http+unix://'):
2022-05-20T19:28:57.3561260Z             self._custom_adapter = UnixHTTPAdapter(
2022-05-20T19:28:57.3561404Z                 base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.3561530Z                 max_pool_size=max_pool_size
2022-05-20T19:28:57.3561611Z             )
2022-05-20T19:28:57.3561869Z             self.mount('http+docker://', self._custom_adapter)
2022-05-20T19:28:57.3562087Z             self._unmount('http://', 'https://')
2022-05-20T19:28:57.3562269Z             # host part of URL should be unused, but is resolved by requests
2022-05-20T19:28:57.3562414Z             # module in proxy_bypass_macosx_sysconf()
2022-05-20T19:28:57.3562653Z             self.base_url = 'http+docker://localhost'
2022-05-20T19:28:57.3562864Z         elif base_url.startswith('npipe://'):
2022-05-20T19:28:57.3562982Z             if not IS_WINDOWS_PLATFORM:
2022-05-20T19:28:57.3563099Z                 raise DockerException(
2022-05-20T19:28:57.3563370Z                     'The npipe:// protocol is only supported on Windows'
2022-05-20T19:28:57.3563455Z                 )
2022-05-20T19:28:57.3563539Z             try:
2022-05-20T19:28:57.3563694Z                 self._custom_adapter = NpipeHTTPAdapter(
2022-05-20T19:28:57.3563841Z                     base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.3563969Z                     max_pool_size=max_pool_size
2022-05-20T19:28:57.3564050Z                 )
2022-05-20T19:28:57.3564156Z             except NameError:
2022-05-20T19:28:57.3564275Z                 raise DockerException(
2022-05-20T19:28:57.3564554Z                     'Install pypiwin32 package to enable npipe:// support'
2022-05-20T19:28:57.3564638Z                 )
2022-05-20T19:28:57.3564886Z             self.mount('http+docker://', self._custom_adapter)
2022-05-20T19:28:57.3565127Z             self.base_url = 'http+docker://localnpipe'
2022-05-20T19:28:57.3565335Z         elif base_url.startswith('ssh://'):
2022-05-20T19:28:57.3565423Z             try:
2022-05-20T19:28:57.3565570Z                 self._custom_adapter = SSHHTTPAdapter(
2022-05-20T19:28:57.3565724Z                     base_url, timeout, pool_connections=num_pools,
2022-05-20T19:28:57.3565886Z                     max_pool_size=max_pool_size, shell_out=use_ssh_client
2022-05-20T19:28:57.3565966Z                 )
2022-05-20T19:28:57.3566057Z             except NameError:
2022-05-20T19:28:57.3566173Z                 raise DockerException(
2022-05-20T19:28:57.3566437Z                     'Install paramiko package to enable ssh:// support'
2022-05-20T19:28:57.3566520Z                 )
2022-05-20T19:28:57.3566788Z             self.mount('http+docker://ssh', self._custom_adapter)
2022-05-20T19:28:57.3567007Z             self._unmount('http://', 'https://')
2022-05-20T19:28:57.3567230Z             self.base_url = 'http+docker://ssh'
2022-05-20T19:28:57.3567300Z         else:
2022-05-20T19:28:57.3567468Z             # Use SSLAdapter for the ability to specify SSL version
2022-05-20T19:28:57.3567687Z             if isinstance(tls, TLSConfig):
2022-05-20T19:28:57.3567810Z                 tls.configure_client(self)
2022-05-20T19:28:57.3567899Z             elif tls:
2022-05-20T19:28:57.3568044Z                 self._custom_adapter = SSLHTTPAdapter(
2022-05-20T19:28:57.3568174Z                     pool_connections=num_pools)
2022-05-20T19:28:57.3568416Z                 self.mount('https://', self._custom_adapter)
2022-05-20T19:28:57.3568529Z             self.base_url = base_url
2022-05-20T19:28:57.3568605Z     
2022-05-20T19:28:57.3568847Z         # version detection needs to be after unix adapter mounting
2022-05-20T19:28:57.3568983Z         if version is None or (isinstance(
2022-05-20T19:28:57.3569088Z                                 version,
2022-05-20T19:28:57.3569186Z                                 str
2022-05-20T19:28:57.3569429Z                                 ) and version.lower() == 'auto'):
2022-05-20T19:28:57.3569570Z >           self._version = self._retrieve_server_version()
2022-05-20T19:28:57.3569582Z 
2022-05-20T19:28:57.3569927Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:197: 
2022-05-20T19:28:57.3570058Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3570068Z 
2022-05-20T19:28:57.3570247Z self = <docker.api.client.APIClient object at 0x7f64854c0710>
2022-05-20T19:28:57.3570254Z 
2022-05-20T19:28:57.3570378Z     def _retrieve_server_version(self):
2022-05-20T19:28:57.3570462Z         try:
2022-05-20T19:28:57.3570629Z             return self.version(api_version=False)["ApiVersion"]
2022-05-20T19:28:57.3570730Z         except KeyError:
2022-05-20T19:28:57.3570835Z             raise DockerException(
2022-05-20T19:28:57.3571103Z                 'Invalid response from docker daemon: key "ApiVersion"'
2022-05-20T19:28:57.3571263Z                 ' is missing.'
2022-05-20T19:28:57.3571345Z             )
2022-05-20T19:28:57.3571456Z         except Exception as e:
2022-05-20T19:28:57.3571573Z             raise DockerException(
2022-05-20T19:28:57.3571820Z >               f'Error while fetching server API version: {e}'
2022-05-20T19:28:57.3571888Z             )
2022-05-20T19:28:57.3572170Z E           docker.errors.DockerException: Error while fetching server API version: module responses has no attribute _is_string
2022-05-20T19:28:57.3572180Z 
2022-05-20T19:28:57.3572561Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/docker/api/client.py:222: DockerException
2022-05-20T19:28:57.3572570Z 
2022-05-20T19:28:57.3572754Z During handling of the above exception, another exception occurred:
2022-05-20T19:28:57.3572762Z 
2022-05-20T19:28:57.3572858Z args = (), kwargs = {}
2022-05-20T19:28:57.3573021Z ecr_client = <botocore.client.ECR object at 0x7f6486558790>
2022-05-20T19:28:57.3573203Z repo_name = 'my_bento-sagemaker'
2022-05-20T19:28:57.3573785Z iam_role_policy = '\n        {\n            "Version": "2019-10-10",\n            "Statement": [\n                {\n                   ...    "Service": "sagemaker.amazonaws.com"\n                    }\n                }\n            ]\n        }\n        '
2022-05-20T19:28:57.3573955Z iam_client = <botocore.client.IAM object at 0x7f648597b490>
2022-05-20T19:28:57.3573963Z 
2022-05-20T19:28:57.3574049Z     @mock_ecr
2022-05-20T19:28:57.3574118Z     @mock_iam
2022-05-20T19:28:57.3574201Z     @mock_sts
2022-05-20T19:28:57.3574301Z     @moto_mock_sagemaker
2022-05-20T19:28:57.3574424Z     def mock_wrapper(*args, **kwargs):
2022-05-20T19:28:57.3574661Z         ecr_client = boto3.client('ecr', TEST_AWS_REGION)
2022-05-20T19:28:57.3574913Z         repo_name = TEST_DEPLOYMENT_BENTO_NAME + '-sagemaker'
2022-05-20T19:28:57.3574995Z         try:
2022-05-20T19:28:57.3575157Z             ecr_client.create_repository(repositoryName=repo_name)
2022-05-20T19:28:57.3575392Z         except ecr_client.exceptions.RepositoryAlreadyExistsException:
2022-05-20T19:28:57.3575603Z             print('Repository already exists')
2022-05-20T19:28:57.3575681Z     
2022-05-20T19:28:57.3575879Z         iam_role_policy = """
2022-05-20T19:28:57.3575960Z         {
2022-05-20T19:28:57.3576150Z             "Version": "2019-10-10",
2022-05-20T19:28:57.3576236Z             "Statement": [
2022-05-20T19:28:57.3576318Z                 {
2022-05-20T19:28:57.3576423Z                     "Effect": "Allow",
2022-05-20T19:28:57.3576523Z                     "Action": "*",
2022-05-20T19:28:57.3576628Z                     "Principal": {
2022-05-20T19:28:57.3576785Z                         "Service": "sagemaker.amazonaws.com"
2022-05-20T19:28:57.3576973Z                     }
2022-05-20T19:28:57.3577064Z                 }
2022-05-20T19:28:57.3577132Z             ]
2022-05-20T19:28:57.3577209Z         }
2022-05-20T19:28:57.3577289Z         """
2022-05-20T19:28:57.3577539Z         iam_client = boto3.client('iam', TEST_AWS_REGION)
2022-05-20T19:28:57.3577650Z         iam_client.create_role(
2022-05-20T19:28:57.3577835Z             RoleName="moto", AssumeRolePolicyDocument=iam_role_policy
2022-05-20T19:28:57.3577917Z         )
2022-05-20T19:28:57.3578015Z >       return func(*args, **kwargs)
2022-05-20T19:28:57.3578024Z 
2022-05-20T19:28:57.3578179Z tests/deployment/sagemaker/test_sagemaker.py:168: 
2022-05-20T19:28:57.3578311Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3578661Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/mock/mock.py:1346: in patched
2022-05-20T19:28:57.3578788Z     return func(*newargs, **newkeywargs)
2022-05-20T19:28:57.3578966Z tests/deployment/sagemaker/test_sagemaker.py:191: in mock_wrapper
2022-05-20T19:28:57.3579076Z     return func(*args, **kwargs)
2022-05-20T19:28:57.3579327Z tests/deployment/sagemaker/test_sagemaker.py:362: in test_sagemaker_update_deployment_with_new_bento_service_tag
2022-05-20T19:28:57.3579524Z     deployment_operator = SageMakerDeploymentOperator(mocked_yatai_service)
2022-05-20T19:28:57.3579695Z bentoml/yatai/deployment/sagemaker/operator.py:432: in __init__
2022-05-20T19:28:57.3579818Z     ensure_docker_available_or_raise()
2022-05-20T19:28:57.3579946Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3579954Z 
2022-05-20T19:28:57.3580178Z     def ensure_docker_available_or_raise() -> None:
2022-05-20T19:28:57.3580261Z         """
2022-05-20T19:28:57.3580376Z         Ensure docker is available.
2022-05-20T19:28:57.3580439Z     
2022-05-20T19:28:57.3580523Z         Raises:
2022-05-20T19:28:57.3580677Z             :class:`~MissingDependencyException`:
2022-05-20T19:28:57.3580830Z                 for :class:`~docker.errors.APIErrors`
2022-05-20T19:28:57.3580996Z                 or :class:`~docker.errors.DockerException`
2022-05-20T19:28:57.3581077Z         """
2022-05-20T19:28:57.3581160Z         try:
2022-05-20T19:28:57.3581263Z             client = docker.from_env()
2022-05-20T19:28:57.3581364Z             client.ping()
2022-05-20T19:28:57.3581513Z         except docker.errors.APIError as error:
2022-05-20T19:28:57.3581847Z             raise MissingDependencyException(f'Docker server is not responsive. {error}')
2022-05-20T19:28:57.3582003Z         except docker.errors.DockerException:
2022-05-20T19:28:57.3582151Z             raise MissingDependencyException(
2022-05-20T19:28:57.3582415Z >               'Docker is required for this deployment. Please visit '
2022-05-20T19:28:57.3582685Z                 'www.docker.com for instructions'
2022-05-20T19:28:57.3582757Z             )
2022-05-20T19:28:57.3583097Z E           bentoml.exceptions.MissingDependencyException: Docker is required for this deployment. Please visit www.docker.com for instructions
2022-05-20T19:28:57.3583105Z 
2022-05-20T19:28:57.3583305Z bentoml/yatai/deployment/docker_utils.py:28: MissingDependencyException
2022-05-20T19:28:57.3583599Z _ TestMetrics.test_grpc_server_metrics_0_grpc_server_started_total_grpc_method_Execute_grpc_service_bentoml_MockService_grpc_type_UNARY_ _
2022-05-20T19:28:57.3583606Z 
2022-05-20T19:28:57.3583981Z a = (<tests.yatai.test_grpc_server_interceptor.TestMetrics testMethod=test_grpc_server_metrics_0_grpc_server_started_total_grpc_method_Execute_grpc_service_bentoml_MockService_grpc_type_UNARY_>,)
2022-05-20T19:28:57.3584090Z 
2022-05-20T19:28:57.3584186Z     @wraps(func)
2022-05-20T19:28:57.3584296Z     def standalone_func(*a):
2022-05-20T19:28:57.3584428Z >       return func(*(a + p.args), **p.kwargs)
2022-05-20T19:28:57.3584436Z 
2022-05-20T19:28:57.3584831Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/parameterized/parameterized.py:533: 
2022-05-20T19:28:57.3585032Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3585220Z tests/yatai/test_grpc_server_interceptor.py:149: in test_grpc_server_metrics
2022-05-20T19:28:57.3585375Z     with mock_server.mock_server_client() as client:
2022-05-20T19:28:57.3585572Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/contextlib.py:112: in __enter__
2022-05-20T19:28:57.3585675Z     return next(self.gen)
2022-05-20T19:28:57.3585846Z tests/yatai/grpc_testing_service.py:106: in mock_server_client
2022-05-20T19:28:57.3585942Z     self.prom_port
2022-05-20T19:28:57.3586101Z bentoml/metrics/prometheus.py:74: in start_http_server
2022-05-20T19:28:57.3586279Z     start_http_server(port=port, addr=addr, registry=self.registry)
2022-05-20T19:28:57.3586698Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/prometheus_client/exposition.py:168: in start_wsgi_server
2022-05-20T19:28:57.3586878Z     TmpServer.address_family, addr = _get_best_family(addr, port)
2022-05-20T19:28:57.3587288Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/prometheus_client/exposition.py:157: in _get_best_family
2022-05-20T19:28:57.3587437Z     infos = socket.getaddrinfo(address, port)
2022-05-20T19:28:57.3587566Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3587575Z 
2022-05-20T19:28:57.3587824Z host = '', port = 40927, family = 0, type = 0, proto = 0, flags = 0
2022-05-20T19:28:57.3587836Z 
2022-05-20T19:28:57.3588007Z     def getaddrinfo(host, port, family=0, type=0, proto=0, flags=0):
2022-05-20T19:28:57.3588174Z         """Resolve host and port into list of address info entries.
2022-05-20T19:28:57.3588256Z     
2022-05-20T19:28:57.3588545Z         Translate the host/port argument into a sequence of 5-tuples that contain
2022-05-20T19:28:57.3588744Z         all the necessary arguments for creating a socket connected to that service.
2022-05-20T19:28:57.3588931Z         host is a domain name, a string representation of an IPv4/v6 address or
2022-05-20T19:28:57.3589230Z         None. port is a string service name such as 'http', a numeric port number or
2022-05-20T19:28:57.3589418Z         None. By passing None as the value of host and port, you can pass NULL to
2022-05-20T19:28:57.3589526Z         the underlying C API.
2022-05-20T19:28:57.3589602Z     
2022-05-20T19:28:57.3589788Z         The family, type and proto arguments can be optionally specified in order to
2022-05-20T19:28:57.3589984Z         narrow the list of addresses returned. Passing zero as a value for each of
2022-05-20T19:28:57.3590138Z         these arguments selects the full range of results.
2022-05-20T19:28:57.3590219Z         """
2022-05-20T19:28:57.3590403Z         # We override this function since we want to translate the numeric family
2022-05-20T19:28:57.3590544Z         # and socket type values to enum constants.
2022-05-20T19:28:57.3590639Z         addrlist = []
2022-05-20T19:28:57.3590829Z >       for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
2022-05-20T19:28:57.3591073Z E       socket.gaierror: [Errno -2] Name or service not known
2022-05-20T19:28:57.3591096Z 
2022-05-20T19:28:57.3591269Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/socket.py:752: gaierror
2022-05-20T19:28:57.3591563Z _ TestMetrics.test_grpc_server_metrics_1_grpc_server_started_total_grpc_method_Execute_grpc_service_bentoml_MockService_grpc_type_UNARY_ _
2022-05-20T19:28:57.3591571Z 
2022-05-20T19:28:57.3592044Z a = (<tests.yatai.test_grpc_server_interceptor.TestMetrics testMethod=test_grpc_server_metrics_1_grpc_server_started_total_grpc_method_Execute_grpc_service_bentoml_MockService_grpc_type_UNARY_>,)
2022-05-20T19:28:57.3592054Z 
2022-05-20T19:28:57.3592146Z     @wraps(func)
2022-05-20T19:28:57.3592254Z     def standalone_func(*a):
2022-05-20T19:28:57.3592384Z >       return func(*(a + p.args), **p.kwargs)
2022-05-20T19:28:57.3592392Z 
2022-05-20T19:28:57.3592782Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/parameterized/parameterized.py:533: 
2022-05-20T19:28:57.3592984Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3593186Z tests/yatai/test_grpc_server_interceptor.py:149: in test_grpc_server_metrics
2022-05-20T19:28:57.3593320Z     with mock_server.mock_server_client() as client:
2022-05-20T19:28:57.3593517Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/contextlib.py:112: in __enter__
2022-05-20T19:28:57.3593624Z     return next(self.gen)
2022-05-20T19:28:57.3593791Z tests/yatai/grpc_testing_service.py:106: in mock_server_client
2022-05-20T19:28:57.3593887Z     self.prom_port
2022-05-20T19:28:57.3594047Z bentoml/metrics/prometheus.py:74: in start_http_server
2022-05-20T19:28:57.3594227Z     start_http_server(port=port, addr=addr, registry=self.registry)
2022-05-20T19:28:57.3594655Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/prometheus_client/exposition.py:168: in start_wsgi_server
2022-05-20T19:28:57.3594823Z     TmpServer.address_family, addr = _get_best_family(addr, port)
2022-05-20T19:28:57.3595230Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/prometheus_client/exposition.py:157: in _get_best_family
2022-05-20T19:28:57.3595512Z     infos = socket.getaddrinfo(address, port)
2022-05-20T19:28:57.3595643Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3595652Z 
2022-05-20T19:28:57.3595910Z host = '', port = 32989, family = 0, type = 0, proto = 0, flags = 0
2022-05-20T19:28:57.3595923Z 
2022-05-20T19:28:57.3596095Z     def getaddrinfo(host, port, family=0, type=0, proto=0, flags=0):
2022-05-20T19:28:57.3596260Z         """Resolve host and port into list of address info entries.
2022-05-20T19:28:57.3596337Z     
2022-05-20T19:28:57.3596636Z         Translate the host/port argument into a sequence of 5-tuples that contain
2022-05-20T19:28:57.3596820Z         all the necessary arguments for creating a socket connected to that service.
2022-05-20T19:28:57.3597011Z         host is a domain name, a string representation of an IPv4/v6 address or
2022-05-20T19:28:57.3597310Z         None. port is a string service name such as 'http', a numeric port number or
2022-05-20T19:28:57.3597497Z         None. By passing None as the value of host and port, you can pass NULL to
2022-05-20T19:28:57.3597605Z         the underlying C API.
2022-05-20T19:28:57.3597682Z     
2022-05-20T19:28:57.3597880Z         The family, type and proto arguments can be optionally specified in order to
2022-05-20T19:28:57.3598076Z         narrow the list of addresses returned. Passing zero as a value for each of
2022-05-20T19:28:57.3598219Z         these arguments selects the full range of results.
2022-05-20T19:28:57.3598299Z         """
2022-05-20T19:28:57.3598487Z         # We override this function since we want to translate the numeric family
2022-05-20T19:28:57.3598627Z         # and socket type values to enum constants.
2022-05-20T19:28:57.3598723Z         addrlist = []
2022-05-20T19:28:57.3598915Z >       for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
2022-05-20T19:28:57.3599171Z E       socket.gaierror: [Errno -2] Name or service not known
2022-05-20T19:28:57.3599179Z 
2022-05-20T19:28:57.3599364Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/socket.py:752: gaierror
2022-05-20T19:28:57.3599645Z _ TestMetrics.test_grpc_server_metrics_2_grpc_server_started_total_grpc_method_Execute_grpc_service_bentoml_MockService_grpc_type_UNARY_ _
2022-05-20T19:28:57.3599767Z 
2022-05-20T19:28:57.3600154Z a = (<tests.yatai.test_grpc_server_interceptor.TestMetrics testMethod=test_grpc_server_metrics_2_grpc_server_started_total_grpc_method_Execute_grpc_service_bentoml_MockService_grpc_type_UNARY_>,)
2022-05-20T19:28:57.3600163Z 
2022-05-20T19:28:57.3600252Z     @wraps(func)
2022-05-20T19:28:57.3600363Z     def standalone_func(*a):
2022-05-20T19:28:57.3600494Z >       return func(*(a + p.args), **p.kwargs)
2022-05-20T19:28:57.3600501Z 
2022-05-20T19:28:57.3600990Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/parameterized/parameterized.py:533: 
2022-05-20T19:28:57.3601135Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3601326Z tests/yatai/test_grpc_server_interceptor.py:149: in test_grpc_server_metrics
2022-05-20T19:28:57.3601472Z     with mock_server.mock_server_client() as client:
2022-05-20T19:28:57.3601654Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/contextlib.py:112: in __enter__
2022-05-20T19:28:57.3601762Z     return next(self.gen)
2022-05-20T19:28:57.3601928Z tests/yatai/grpc_testing_service.py:106: in mock_server_client
2022-05-20T19:28:57.3602025Z     self.prom_port
2022-05-20T19:28:57.3602184Z bentoml/metrics/prometheus.py:74: in start_http_server
2022-05-20T19:28:57.3602363Z     start_http_server(port=port, addr=addr, registry=self.registry)
2022-05-20T19:28:57.3602790Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/prometheus_client/exposition.py:168: in start_wsgi_server
2022-05-20T19:28:57.3602970Z     TmpServer.address_family, addr = _get_best_family(addr, port)
2022-05-20T19:28:57.3603364Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/prometheus_client/exposition.py:157: in _get_best_family
2022-05-20T19:28:57.3603512Z     infos = socket.getaddrinfo(address, port)
2022-05-20T19:28:57.3603641Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3603649Z 
2022-05-20T19:28:57.3603902Z host = '', port = 42919, family = 0, type = 0, proto = 0, flags = 0
2022-05-20T19:28:57.3603911Z 
2022-05-20T19:28:57.3604085Z     def getaddrinfo(host, port, family=0, type=0, proto=0, flags=0):
2022-05-20T19:28:57.3604252Z         """Resolve host and port into list of address info entries.
2022-05-20T19:28:57.3604328Z     
2022-05-20T19:28:57.3604628Z         Translate the host/port argument into a sequence of 5-tuples that contain
2022-05-20T19:28:57.3604826Z         all the necessary arguments for creating a socket connected to that service.
2022-05-20T19:28:57.3605005Z         host is a domain name, a string representation of an IPv4/v6 address or
2022-05-20T19:28:57.3605303Z         None. port is a string service name such as 'http', a numeric port number or
2022-05-20T19:28:57.3605491Z         None. By passing None as the value of host and port, you can pass NULL to
2022-05-20T19:28:57.3605599Z         the underlying C API.
2022-05-20T19:28:57.3605677Z     
2022-05-20T19:28:57.3605879Z         The family, type and proto arguments can be optionally specified in order to
2022-05-20T19:28:57.3606073Z         narrow the list of addresses returned. Passing zero as a value for each of
2022-05-20T19:28:57.3606227Z         these arguments selects the full range of results.
2022-05-20T19:28:57.3606297Z         """
2022-05-20T19:28:57.3606484Z         # We override this function since we want to translate the numeric family
2022-05-20T19:28:57.3606625Z         # and socket type values to enum constants.
2022-05-20T19:28:57.3606721Z         addrlist = []
2022-05-20T19:28:57.3606915Z >       for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
2022-05-20T19:28:57.3607169Z E       socket.gaierror: [Errno -2] Name or service not known
2022-05-20T19:28:57.3607178Z 
2022-05-20T19:28:57.3607364Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/socket.py:752: gaierror
2022-05-20T19:28:57.3607677Z _ TestMetrics.test_grpc_server_metrics_3_grpc_server_handled_total_grpc_code_OK_grpc_method_Execute_grpc_service_bentoml_MockService_grpc_type_UNARY_ _
2022-05-20T19:28:57.3607776Z 
2022-05-20T19:28:57.3608181Z a = (<tests.yatai.test_grpc_server_interceptor.TestMetrics testMethod=test_grpc_server_metrics_3_grpc_server_handled_total_grpc_code_OK_grpc_method_Execute_grpc_service_bentoml_MockService_grpc_type_UNARY_>,)
2022-05-20T19:28:57.3608189Z 
2022-05-20T19:28:57.3608268Z     @wraps(func)
2022-05-20T19:28:57.3608377Z     def standalone_func(*a):
2022-05-20T19:28:57.3608506Z >       return func(*(a + p.args), **p.kwargs)
2022-05-20T19:28:57.3608514Z 
2022-05-20T19:28:57.3608975Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/parameterized/parameterized.py:533: 
2022-05-20T19:28:57.3609115Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3609307Z tests/yatai/test_grpc_server_interceptor.py:149: in test_grpc_server_metrics
2022-05-20T19:28:57.3609453Z     with mock_server.mock_server_client() as client:
2022-05-20T19:28:57.3609653Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/contextlib.py:112: in __enter__
2022-05-20T19:28:57.3609744Z     return next(self.gen)
2022-05-20T19:28:57.3609913Z tests/yatai/grpc_testing_service.py:106: in mock_server_client
2022-05-20T19:28:57.3610008Z     self.prom_port
2022-05-20T19:28:57.3610174Z bentoml/metrics/prometheus.py:74: in start_http_server
2022-05-20T19:28:57.3610353Z     start_http_server(port=port, addr=addr, registry=self.registry)
2022-05-20T19:28:57.3610784Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/prometheus_client/exposition.py:168: in start_wsgi_server
2022-05-20T19:28:57.3610963Z     TmpServer.address_family, addr = _get_best_family(addr, port)
2022-05-20T19:28:57.3611373Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/site-packages/prometheus_client/exposition.py:157: in _get_best_family
2022-05-20T19:28:57.3611507Z     infos = socket.getaddrinfo(address, port)
2022-05-20T19:28:57.3611636Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2022-05-20T19:28:57.3611647Z 
2022-05-20T19:28:57.3611898Z host = '', port = 55557, family = 0, type = 0, proto = 0, flags = 0
2022-05-20T19:28:57.3611906Z 
2022-05-20T19:28:57.3612078Z     def getaddrinfo(host, port, family=0, type=0, proto=0, flags=0):
2022-05-20T19:28:57.3612247Z         """Resolve host and port into list of address info entries.
2022-05-20T19:28:57.3612326Z     
2022-05-20T19:28:57.3612623Z         Translate the host/port argument into a sequence of 5-tuples that contain
2022-05-20T19:28:57.3612823Z         all the necessary arguments for creating a socket connected to that service.
2022-05-20T19:28:57.3613011Z         host is a domain name, a string representation of an IPv4/v6 address or
2022-05-20T19:28:57.3613296Z         None. port is a string service name such as 'http', a numeric port number or
2022-05-20T19:28:57.3613484Z         None. By passing None as the value of host and port, you can pass NULL to
2022-05-20T19:28:57.3613593Z         the underlying C API.
2022-05-20T19:28:57.3613675Z     
2022-05-20T19:28:57.3613874Z         The family, type and proto arguments can be optionally specified in order to
2022-05-20T19:28:57.3614067Z         narrow the list of addresses returned. Passing zero as a value for each of
2022-05-20T19:28:57.3614224Z         these arguments selects the full range of results.
2022-05-20T19:28:57.3614306Z         """
2022-05-20T19:28:57.3614480Z         # We override this function since we want to translate the numeric family
2022-05-20T19:28:57.3614624Z         # and socket type values to enum constants.
2022-05-20T19:28:57.3614720Z         addrlist = []
2022-05-20T19:28:57.3614909Z >       for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
2022-05-20T19:28:57.3615160Z E       socket.gaierror: [Errno -2] Name or service not known
2022-05-20T19:28:57.3615169Z 
2022-05-20T19:28:57.3615355Z /opt/hostedtoolcache/Python/3.7.13/x64/lib/python3.7/socket.py:752: gaierror
2022-05-20T19:28:57.3615363Z 
2022-05-20T19:28:57.3615754Z ---------- coverage: platform linux, python 3.7.13-final-0 -----------
2022-05-20T19:28:57.3615917Z Name                                                                                    Stmts   Miss  Cover
2022-05-20T19:28:57.3616274Z -----------------------------------------------------------------------------------------------------------
2022-05-20T19:28:57.3616435Z bentoml/__init__.py                                                                        13      0   100%
2022-05-20T19:28:57.3616666Z bentoml/__main__.py                                                                         3      3     0%
2022-05-20T19:28:57.3616844Z bentoml/adapters/__init__.py                                                               17      0   100%
2022-05-20T19:28:57.3617036Z bentoml/adapters/annotated_image_input.py                                                  50      8    84%
2022-05-20T19:28:57.3617210Z bentoml/adapters/base_input.py                                                             95     27    72%
2022-05-20T19:28:57.3617387Z bentoml/adapters/base_output.py                                                            30      8    73%
2022-05-20T19:28:57.3617566Z bentoml/adapters/clipper_input.py                                                          18      5    72%
2022-05-20T19:28:57.3617747Z bentoml/adapters/dataframe_input.py                                                        81      8    90%
2022-05-20T19:28:57.3617925Z bentoml/adapters/dataframe_output.py                                                       39      9    77%
2022-05-20T19:28:57.3618094Z bentoml/adapters/default_output.py                                                         44      6    86%
2022-05-20T19:28:57.3618264Z bentoml/adapters/file_input.py                                                             48      6    88%
2022-05-20T19:28:57.3618434Z bentoml/adapters/image_input.py                                                            34      3    91%
2022-05-20T19:28:57.3618603Z bentoml/adapters/json_input.py                                                             19      0   100%
2022-05-20T19:28:57.3618777Z bentoml/adapters/json_output.py                                                            44      7    84%
2022-05-20T19:28:57.3618951Z bentoml/adapters/multi_file_input.py                                                       55      4    93%
2022-05-20T19:28:57.3619124Z bentoml/adapters/multi_image_input.py                                                      41      4    90%
2022-05-20T19:28:57.3619299Z bentoml/adapters/string_input.py                                                           54     12    78%
2022-05-20T19:28:57.3619481Z bentoml/adapters/tensorflow_tensor_input.py                                                46     11    76%
2022-05-20T19:28:57.3619653Z bentoml/adapters/tensorflow_tensor_output.py                                               30      6    80%
2022-05-20T19:28:57.3619815Z bentoml/adapters/utils.py                                                                  73      9    88%
2022-05-20T19:28:57.3619978Z bentoml/artifact/__init__.py                                                               26     26     0%
2022-05-20T19:28:57.3620133Z bentoml/cli/__init__.py                                                                    26      2    92%
2022-05-20T19:28:57.3620290Z bentoml/cli/aws_ec2.py                                                                    106     53    50%
2022-05-20T19:28:57.3620451Z bentoml/cli/aws_lambda.py                                                                 100     44    56%
2022-05-20T19:28:57.3620622Z bentoml/cli/aws_sagemaker.py                                                              112     54    52%
2022-05-20T19:28:57.3620789Z bentoml/cli/azure_functions.py                                                            104     46    56%
2022-05-20T19:28:57.3620961Z bentoml/cli/bento_management.py                                                           118     33    72%
2022-05-20T19:28:57.3621124Z bentoml/cli/bento_service.py                                                              133     31    77%
2022-05-20T19:28:57.3621352Z bentoml/cli/click_utils.py                                                                116     19    84%
2022-05-20T19:28:57.3621518Z bentoml/cli/deployment.py                                                                  86     41    52%
2022-05-20T19:28:57.3621675Z bentoml/cli/utils.py                                                                      119     41    66%
2022-05-20T19:28:57.3621900Z bentoml/cli/yatai_service.py                                                               42      4    90%
2022-05-20T19:28:57.3622069Z bentoml/clipper/__init__.py                                                                50     50     0%
2022-05-20T19:28:57.3622238Z bentoml/configuration/__init__.py                                                          55      3    95%
2022-05-20T19:28:57.3622417Z bentoml/configuration/containers.py                                                       124     23    81%
2022-05-20T19:28:57.3622582Z bentoml/exceptions.py                                                                      59     19    68%
2022-05-20T19:28:57.3622744Z bentoml/frameworks/__init__.py                                                              0      0   100%
2022-05-20T19:28:57.3623256Z bentoml/frameworks/coreml.py                                                               38     38     0%
2022-05-20T19:28:57.3623478Z bentoml/frameworks/detectron.py                                                            58     58     0%
2022-05-20T19:28:57.3623655Z bentoml/frameworks/easyocr.py                                                              57     57     0%
2022-05-20T19:28:57.3623822Z bentoml/frameworks/evalml.py                                                               37     37     0%
2022-05-20T19:28:57.3623990Z bentoml/frameworks/fastai.py                                                               71     71     0%
2022-05-20T19:28:57.3624162Z bentoml/frameworks/fasttext.py                                                             31     31     0%
2022-05-20T19:28:57.3624330Z bentoml/frameworks/gluon.py                                                                32     32     0%
2022-05-20T19:28:57.3624490Z bentoml/frameworks/h2o.py                                                                  37     37     0%
2022-05-20T19:28:57.3624656Z bentoml/frameworks/keras.py                                                               108    108     0%
2022-05-20T19:28:57.3624831Z bentoml/frameworks/lightgbm.py                                                             34     34     0%
2022-05-20T19:28:57.3624982Z bentoml/frameworks/onnx.py                                                                 73     73     0%
2022-05-20T19:28:57.3625147Z bentoml/frameworks/onnxmlir.py                                                             34     34     0%
2022-05-20T19:28:57.3625316Z bentoml/frameworks/paddle.py                                                               45     45     0%
2022-05-20T19:28:57.3625486Z bentoml/frameworks/pytorch.py                                                              98     98     0%
2022-05-20T19:28:57.3625653Z bentoml/frameworks/sklearn.py                                                              40      7    82%
2022-05-20T19:28:57.3625818Z bentoml/frameworks/spacy.py                                                                38     38     0%
2022-05-20T19:28:57.3625991Z bentoml/frameworks/tensorflow.py                                                          105    105     0%
2022-05-20T19:28:57.3626165Z bentoml/frameworks/transformers.py                                                         84     84     0%
2022-05-20T19:28:57.3626331Z bentoml/frameworks/xgboost.py                                                              35     35     0%
2022-05-20T19:28:57.3626478Z bentoml/handlers/__init__.py                                                               24      0   100%
2022-05-20T19:28:57.3626796Z bentoml/marshal/__init__.py                                                                 0      0   100%
2022-05-20T19:28:57.3626967Z bentoml/marshal/dispatcher.py                                                             152     22    86%
2022-05-20T19:28:57.3627133Z bentoml/marshal/marshal.py                                                                210    210     0%
2022-05-20T19:28:57.3627292Z bentoml/marshal/utils.py                                                                   55     29    47%
2022-05-20T19:28:57.3627512Z bentoml/metrics/__init__.py                                                                 0      0   100%
2022-05-20T19:28:57.3627691Z bentoml/metrics/prometheus.py                                                              58      9    84%
2022-05-20T19:28:57.3627855Z bentoml/saved_bundle/__init__.py                                                            3      0   100%
2022-05-20T19:28:57.3628026Z bentoml/saved_bundle/bundler.py                                                           156     41    74%
2022-05-20T19:28:57.3628196Z bentoml/saved_bundle/config.py                                                            138     19    86%
2022-05-20T19:28:57.3628354Z bentoml/saved_bundle/loader.py                                                            131     53    60%
2022-05-20T19:28:57.3628530Z bentoml/saved_bundle/local_py_modules.py                                                   97     22    77%
2022-05-20T19:28:57.3628705Z bentoml/saved_bundle/pip_pkg.py                                                           166     46    72%
2022-05-20T19:28:57.3628875Z bentoml/saved_bundle/templates.py                                                           4      0   100%
2022-05-20T19:28:57.3629034Z bentoml/server/__init__.py                                                                 65     54    17%
2022-05-20T19:28:57.3629205Z bentoml/server/gunicorn_config.py                                                          35     35     0%
2022-05-20T19:28:57.3629386Z bentoml/server/gunicorn_marshal_server.py                                                  31     31     0%
2022-05-20T19:28:57.3629562Z bentoml/server/gunicorn_model_server.py                                                    30     30     0%
2022-05-20T19:28:57.3629729Z bentoml/server/instruments.py                                                              32      1    97%
2022-05-20T19:28:57.3629880Z bentoml/server/model_app.py                                                               133     40    70%
2022-05-20T19:28:57.3630044Z bentoml/service/__init__.py                                                               298     74    75%
2022-05-20T19:28:57.3630215Z bentoml/service/artifacts/__init__.py                                                     122      6    95%
2022-05-20T19:28:57.3630388Z bentoml/service/artifacts/common.py                                                         3      3     0%
2022-05-20T19:28:57.3630563Z bentoml/service/artifacts/json_file.py                                                     29      1    97%
2022-05-20T19:28:57.3630743Z bentoml/service/artifacts/pickle.py                                                        26      1    96%
2022-05-20T19:28:57.3630917Z bentoml/service/artifacts/text_file.py                                                     23     23     0%
2022-05-20T19:28:57.3631076Z bentoml/service/env.py                                                                    165     12    93%
2022-05-20T19:28:57.3631251Z bentoml/service/inference_api.py                                                          160     23    86%
2022-05-20T19:28:57.3631411Z bentoml/tracing/__init__.py                                                                 0      0   100%
2022-05-20T19:28:57.3631564Z bentoml/tracing/jaeger.py                                                                  56     56     0%
2022-05-20T19:28:57.3631722Z bentoml/tracing/noop.py                                                                    12      2    83%
2022-05-20T19:28:57.3631986Z bentoml/tracing/zipkin.py                                                                  92     92     0%
2022-05-20T19:28:57.3632139Z bentoml/types.py                                                                          185     18    90%
2022-05-20T19:28:57.3632295Z bentoml/utils/__init__.py                                                                 138     43    69%
2022-05-20T19:28:57.3632449Z bentoml/utils/alg.py                                                                       37     18    51%
2022-05-20T19:28:57.3632659Z bentoml/utils/csv.py                                                                       49     15    69%
2022-05-20T19:28:57.3632836Z bentoml/utils/dataclasses.py                                                               32      8    75%
2022-05-20T19:28:57.3633006Z bentoml/utils/dataframe_util.py                                                           128     19    85%
2022-05-20T19:28:57.3633158Z bentoml/utils/docker_utils.py                                                              21      0   100%
2022-05-20T19:28:57.3633326Z bentoml/utils/flask_ngrok.py                                                               64     64     0%
2022-05-20T19:28:57.3633480Z bentoml/utils/gcs.py                                                                        8      2    75%
2022-05-20T19:28:57.3633651Z bentoml/utils/hybridmethod.py                                                              16      2    88%
2022-05-20T19:28:57.3633818Z bentoml/utils/lazy_loader.py                                                               24      4    83%
2022-05-20T19:28:57.3633973Z bentoml/utils/log.py                                                                       35      0   100%
2022-05-20T19:28:57.3634132Z bentoml/utils/open_api.py                                                                  19      0   100%
2022-05-20T19:28:57.3634296Z bentoml/utils/ruamel_yaml.py                                                                4      2    50%
2022-05-20T19:28:57.3634449Z bentoml/utils/s3.py                                                                        26      9    65%
2022-05-20T19:28:57.3634596Z bentoml/utils/tempdir.py                                                                   33      5    85%
2022-05-20T19:28:57.3634759Z bentoml/utils/tensorflow.py                                                               112    112     0%
2022-05-20T19:28:57.3634920Z bentoml/utils/usage_stats.py                                                               71      5    93%
2022-05-20T19:28:57.3635079Z bentoml/yatai/__init__.py                                                                   0      0   100%
2022-05-20T19:28:57.3635241Z bentoml/yatai/client/__init__.py                                                           23      1    96%
2022-05-20T19:28:57.3635570Z bentoml/yatai/client/bento_repository_api.py                                              218    105    52%
2022-05-20T19:28:57.3635748Z bentoml/yatai/client/deployment_api.py                                                    237    161    32%
2022-05-20T19:28:57.3635933Z bentoml/yatai/client/interceptor/__init__.py                                                0      0   100%
2022-05-20T19:28:57.3636135Z bentoml/yatai/client/interceptor/generic_client_interceptor.py                             23     23     0%
2022-05-20T19:28:57.3636337Z bentoml/yatai/client/interceptor/header_client_interceptor.py                              15     15     0%
2022-05-20T19:28:57.3636500Z bentoml/yatai/client/label_utils.py                                                        55      5    91%
2022-05-20T19:28:57.3636659Z bentoml/yatai/db/__init__.py                                                               70     13    81%
2022-05-20T19:28:57.3636819Z bentoml/yatai/db/base.py                                                                    2      0   100%
2022-05-20T19:28:57.3636987Z bentoml/yatai/db/stores/__init__.py                                                         0      0   100%
2022-05-20T19:28:57.3637275Z bentoml/yatai/db/stores/deployment.py                                                     100     16    84%
2022-05-20T19:28:57.3637444Z bentoml/yatai/db/stores/label.py                                                           78     11    86%
2022-05-20T19:28:57.3637608Z bentoml/yatai/db/stores/lock.py                                                            51     11    78%
2022-05-20T19:28:57.3637779Z bentoml/yatai/db/stores/metadata.py                                                       117     21    82%
2022-05-20T19:28:57.3638018Z bentoml/yatai/deployment/__init__.py                                                        1      0   100%
2022-05-20T19:28:57.3638188Z bentoml/yatai/deployment/aws_ec2/__init__.py                                                0      0   100%
2022-05-20T19:28:57.3638374Z bentoml/yatai/deployment/aws_ec2/constants.py                                              18      0   100%
2022-05-20T19:28:57.3638556Z bentoml/yatai/deployment/aws_ec2/operator.py                                              183     53    71%
2022-05-20T19:28:57.3638741Z bentoml/yatai/deployment/aws_ec2/templates.py                                               2      0   100%
2022-05-20T19:28:57.3638917Z bentoml/yatai/deployment/aws_ec2/utils.py                                                  36     21    42%
2022-05-20T19:28:57.3639095Z bentoml/yatai/deployment/aws_lambda/__init__.py                                             0      0   100%
2022-05-20T19:28:57.3639299Z bentoml/yatai/deployment/aws_lambda/download_extra_resources.py                            31     31     0%
2022-05-20T19:28:57.3639487Z bentoml/yatai/deployment/aws_lambda/lambda_app.py                                          38      4    89%
2022-05-20T19:28:57.3639673Z bentoml/yatai/deployment/aws_lambda/operator.py                                           197     59    70%
2022-05-20T19:28:57.3639853Z bentoml/yatai/deployment/aws_lambda/utils.py                                              156    113    28%
2022-05-20T19:28:57.3640018Z bentoml/yatai/deployment/aws_utils.py                                                     138     65    53%
2022-05-20T19:28:57.3640201Z bentoml/yatai/deployment/azure_functions/__init__.py                                        0      0   100%
2022-05-20T19:28:57.3640389Z bentoml/yatai/deployment/azure_functions/app_init.py                                       10     10     0%
2022-05-20T19:28:57.3640582Z bentoml/yatai/deployment/azure_functions/constants.py                                      10      0   100%
2022-05-20T19:28:57.3640776Z bentoml/yatai/deployment/azure_functions/operator.py                                      212    212     0%
2022-05-20T19:28:57.3640966Z bentoml/yatai/deployment/azure_functions/templates.py                                       1      1     0%
2022-05-20T19:28:57.3641143Z bentoml/yatai/deployment/docker_utils.py                                                   39      8    79%
2022-05-20T19:28:57.3641318Z bentoml/yatai/deployment/operator.py                                                       28     11    61%
2022-05-20T19:28:57.3641501Z bentoml/yatai/deployment/sagemaker/__init__.py                                              0      0   100%
2022-05-20T19:28:57.3641676Z bentoml/yatai/deployment/sagemaker/model_server.py                                         23     23     0%
2022-05-20T19:28:57.3641863Z bentoml/yatai/deployment/sagemaker/operator.py                                            283    221    22%
2022-05-20T19:28:57.3642046Z bentoml/yatai/deployment/sagemaker/wsgi.py                                                  7      7     0%
2022-05-20T19:28:57.3642214Z bentoml/yatai/deployment/utils.py                                                           5      1    80%
2022-05-20T19:28:57.3642385Z bentoml/yatai/deployment_utils.py                                                          48     11    77%
2022-05-20T19:28:57.3642558Z bentoml/yatai/grpc_interceptor/__init__.py                                                  2      0   100%
2022-05-20T19:28:57.3642835Z bentoml/yatai/grpc_interceptor/prom_server_interceptor.py                                  87     34    61%
2022-05-20T19:28:57.3643006Z bentoml/yatai/grpc_stream_utils.py                                                         76     55    28%
2022-05-20T19:28:57.3643171Z bentoml/yatai/locking/__init__.py                                                           0      0   100%
2022-05-20T19:28:57.3643335Z bentoml/yatai/locking/lock.py                                                              43      1    98%
2022-05-20T19:28:57.3643544Z bentoml/yatai/metrics.py                                                                    7      7     0%
2022-05-20T19:28:57.3643725Z bentoml/yatai/migrations/__init__.py                                                        0      0   100%
2022-05-20T19:28:57.3643894Z bentoml/yatai/migrations/env.py                                                            19      5    74%
2022-05-20T19:28:57.3644097Z bentoml/yatai/migrations/versions/370a2bf2e594_update_lock_table_column.py                 12      4    67%
2022-05-20T19:28:57.3644301Z bentoml/yatai/migrations/versions/719dd2aacc9a_add_labels_table.py                         15      6    60%
2022-05-20T19:28:57.3644478Z bentoml/yatai/migrations/versions/__init__.py                                               0      0   100%
2022-05-20T19:28:57.3644697Z bentoml/yatai/migrations/versions/a6b00ae45279_add_last_updated_at_for_deployments.py      10      2    80%
2022-05-20T19:28:57.3644895Z bentoml/yatai/migrations/versions/af18f0b83286_create_lock_table.py                        11      3    73%
2022-05-20T19:28:57.3645058Z bentoml/yatai/proto/__init__.py                                                             1      0   100%
2022-05-20T19:28:57.3645219Z bentoml/yatai/proto/deployment_pb2.py                                                     139      0   100%
2022-05-20T19:28:57.3645398Z bentoml/yatai/proto/label_selectors_pb2.py                                                 25      0   100%
2022-05-20T19:28:57.3645573Z bentoml/yatai/proto/repository_pb2.py                                                     148      0   100%
2022-05-20T19:28:57.3645740Z bentoml/yatai/proto/status_pb2.py                                                          16      0   100%
2022-05-20T19:28:57.3645915Z bentoml/yatai/proto/yatai_service_pb2.py                                                   29      0   100%
2022-05-20T19:28:57.3646097Z bentoml/yatai/proto/yatai_service_pb2_grpc.py                                             134     78    42%
2022-05-20T19:28:57.3646267Z bentoml/yatai/repository/__init__.py                                                       12      3    75%
2022-05-20T19:28:57.3646453Z bentoml/yatai/repository/base_repository.py                                                 6      0   100%
2022-05-20T19:28:57.3646645Z bentoml/yatai/repository/file_system_repository.py                                         32      8    75%
2022-05-20T19:28:57.3646828Z bentoml/yatai/repository/gcs_repository.py                                                 52     37    29%
2022-05-20T19:28:57.3646997Z bentoml/yatai/repository/s3_repository.py                                                  65     51    22%
2022-05-20T19:28:57.3647155Z bentoml/yatai/status.py                                                                    57     15    74%
2022-05-20T19:28:57.3647311Z bentoml/yatai/utils.py                                                                     69     39    43%
2022-05-20T19:28:57.3647480Z bentoml/yatai/validator/__init__.py                                                         2      0   100%
2022-05-20T19:28:57.3647671Z bentoml/yatai/validator/deployment_pb_validator.py                                         37      9    76%
2022-05-20T19:28:57.3647837Z bentoml/yatai/yatai_service.py                                                            120     91    24%
2022-05-20T19:28:57.3648007Z bentoml/yatai/yatai_service_impl.py                                                       348    190    45%
2022-05-20T19:28:57.3648531Z -----------------------------------------------------------------------------------------------------------
2022-05-20T19:28:57.3648675Z TOTAL                                                                                   10802   4779    56%
2022-05-20T19:28:57.3648688Z 
2022-05-20T19:28:57.3648826Z =========================== short test summary info ============================
2022-05-20T19:28:57.3649094Z FAILED tests/deployment/sagemaker/test_sagemaker.py::test_sagemaker_apply_fail_not_local_repo
2022-05-20T19:28:57.3649381Z FAILED tests/deployment/sagemaker/test_sagemaker.py::test_sagemaker_apply_success
2022-05-20T19:28:57.3649618Z FAILED tests/deployment/sagemaker/test_sagemaker.py::test_sagemaker_apply_create_model_fail
2022-05-20T19:28:57.3649840Z FAILED tests/deployment/sagemaker/test_sagemaker.py::test_sagemaker_apply_delete_model_fail
2022-05-20T19:28:57.3650065Z FAILED tests/deployment/sagemaker/test_sagemaker.py::test_sagemaker_apply_duplicate_endpoint
2022-05-20T19:28:57.3650327Z FAILED tests/deployment/sagemaker/test_sagemaker.py::test_sagemaker_update_deployment_with_new_bento_service_tag
2022-05-20T19:28:57.3650688Z FAILED tests/yatai/test_grpc_server_interceptor.py::TestMetrics::test_grpc_server_metrics_0_grpc_server_started_total_grpc_method_Execute_grpc_service_bentoml_MockService_grpc_type_UNARY_
2022-05-20T19:28:57.3651050Z FAILED tests/yatai/test_grpc_server_interceptor.py::TestMetrics::test_grpc_server_metrics_1_grpc_server_started_total_grpc_method_Execute_grpc_service_bentoml_MockService_grpc_type_UNARY_
2022-05-20T19:28:57.3651406Z FAILED tests/yatai/test_grpc_server_interceptor.py::TestMetrics::test_grpc_server_metrics_2_grpc_server_started_total_grpc_method_Execute_grpc_service_bentoml_MockService_grpc_type_UNARY_
2022-05-20T19:28:57.3651781Z FAILED tests/yatai/test_grpc_server_interceptor.py::TestMetrics::test_grpc_server_metrics_3_grpc_server_handled_total_grpc_code_OK_grpc_method_Execute_grpc_service_bentoml_MockService_grpc_type_UNARY_
2022-05-20T19:28:57.3651937Z ============ 10 failed, 383 passed, 17 skipped in 243.93s (0:04:03) ============
2022-05-20T19:28:59.6490805Z ++ error=1
2022-05-20T19:28:59.6491077Z + test 1 = 0
2022-05-20T19:28:59.6491278Z ++ error=1
2022-05-20T19:28:59.6510738Z ##[error]Process completed with exit code 1.
2022-05-20T19:28:59.6581504Z Post job cleanup.
2022-05-20T19:28:59.8021195Z [command]/usr/bin/git version
2022-05-20T19:28:59.8082526Z git version 2.36.1
2022-05-20T19:28:59.8134096Z Temporarily overriding HOME='/home/runner/work/_temp/9d017ac7-b70c-4248-8f10-5f59deb56d6c' before making global git config changes
2022-05-20T19:28:59.8135025Z Adding repository directory to the temporary git global config as a safe directory
2022-05-20T19:28:59.8141774Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/BentoML/BentoML
2022-05-20T19:28:59.8189493Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2022-05-20T19:28:59.8228832Z [command]/usr/bin/git submodule foreach --recursive git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :
2022-05-20T19:28:59.8574487Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2022-05-20T19:28:59.8604738Z http.https://github.com/.extraheader
2022-05-20T19:28:59.8625715Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2022-05-20T19:28:59.8674474Z [command]/usr/bin/git submodule foreach --recursive git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :
2022-05-20T19:28:59.9224541Z Cleaning up orphan processes